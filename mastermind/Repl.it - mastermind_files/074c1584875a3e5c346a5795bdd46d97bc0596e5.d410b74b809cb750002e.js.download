(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"/Cao":function(e,t,n){var r=n("8VYC"),o=n("Yvos"),i=n("HiSk");e.exports=l;var a,s=/\n/g,c=/\\n/g;function u(){}function l(e){r.call(this,e),this.query=this.query||{},a||(a=i.___eio=i.___eio||[]),this.index=a.length;var t=this;a.push((function(e){t.onData(e)})),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=u)}),!1)}o(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=a,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function u(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),e=e.replace(c,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}},"1dJL":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;var i=n("+qE3"),a=n("5/z4"),s=function(){function e(e){var t=this;this.onCommand=function(e){return t.emitter.on("command",e),function(){return t.emitter.removeListener("command",e)}},this.close=function(e){if(void 0===e&&(e=a.api.CloseChannel.Action.TRY_CLOSE),!0===t.closed)throw new Error("Channel already closed");var n=a.api.Command.create({channel:0,closeChan:{action:e,id:t.id}});if(!t.sendToClient)throw new Error("Expected sendToClient");t.sendToClient(n),t.handleCommand=function(){},t.send=function(){},t.closed=!0},this.send=function(e){if(!t.sendToClient)throw new Error("Sending on a closed channel");e.channel=t.id,t.sendToClient(a.api.Command.create(e))},this.request=function(e){return r(t,void 0,void 0,(function(){var t,n=this;return o(this,(function(r){return t=Number(Math.random().toString().split(".")[1]).toString(36),e.ref=t,[2,new Promise((function(r){n.requestMap[t]=r,n.send(e)}))]}))}))},this.handleOpen=function(e){var n=e.id,r=e.state,o=e.send,i=e.context;t.id=n,t.sendToClient=o,t.state=r,t.openChannelCbClose=t.openChannelCb({channel:t,error:null,context:i})},this.handleCommand=function(e){t.emitter.emit("command",e),e.ref&&t.requestMap[e.ref]&&(t.requestMap[e.ref](e),delete t.requestMap[e.ref])},this.handleClose=function(e,n){Object.keys(t.requestMap).forEach((function(n){var r=a.api.Command.fromObject({});r.channelClosed=e,t.requestMap[n](r),delete t.requestMap[n]})),t.closed=!0,t.openChannelCbClose?(t.openChannelCbClose(e),t.openChannelCbClose=null):e.willReconnect||t.openChannelCb({error:new Error("Channel closed"),channel:null,context:n}),t.emitter.removeAllListeners()},this.handleError=function(e,n){t.openChannelCb({error:e,channel:null,context:n}),t.openChannelCbClose=null,t.emitter.removeAllListeners()},this.id=null,this.sendToClient=null,this.state=null,this.closed=!1,this.requestMap={},this.openChannelCb=e.openChannelCb,this.openChannelCbClose=null,this.emitter=new i.EventEmitter}return e.prototype.setMaxListeners=function(e){this.emitter.setMaxListeners(e)},e.prototype.getMaxListeners=function(){return this.emitter.getMaxListeners()},e}();t.Channel=s},49:function(e,t){},"6bXu":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="production";function o(){return"test"===r||window.location.search.includes("v2=")||window.location.search.includes("view=")}},"8/ze":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="."},"8VYC":function(e,t,n){var r=n("O9h/"),o=n("TypT"),i=n("E+TZ"),a=n("Yvos"),s=n("Aplp"),c=n("NOtv")("engine.io-client:polling");e.exports=l;var u=null!=new(n("rx/v"))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}a(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;c("polling got data %s",e);i.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},"8v8i":function(e,t,n){"use strict";var r,o,i,a,s;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),function(e){e.Create="CREATE",e.Move="MOVE",e.Delete="DELETE",e.Modify="MODIFY"}(r||(r={})),function(e){e.Local="LOCAL",e.Container="CONTAINER"}(o||(o={})),function(e){e.File="FILE",e.Directory="DIRECTORY"}(i||(i={})),function(e){e.NotFound="NOT_FOUND",e.AlreadyExists="ALREADY_EXIST",e.NotDirectory="NOT_DIRECTORY",e.IsDirectory="IS_DIRECTORY"}(a||(a={})),function(e){e.Offline="OFFLINE",e.Loading="LOADING",e.Syncing="SYNCING",e.Clean="CLEAN",e.Error="ERROR"}(s||(s={}))},AJXi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWebSocketClass=t.getNextRetryDelay=void 0;var r=n("Emkz"),o=1.7,i=15e3;function a(e){return("object"===typeof e||"function"===typeof e)&&(!!e&&("OPEN"in e&&1===e.OPEN))}t.getNextRetryDelay=function(e){var t=Math.floor(500*Math.random()),n=1e3*Math.pow(o,e);return Math.min(n,i)+t},t.getWebSocketClass=function(e){if(e.polling)return r.EIOCompat;if(e.WebSocketClass){if(!a(e.WebSocketClass))throw new Error("Passed in WebSocket does not look like a standard WebSocket");return e.WebSocketClass}if("undefined"!==typeof WebSocket){if(!a(WebSocket))throw new Error("Global WebSocket does not look like a standard WebSocket");return WebSocket}throw new Error("Please pass in a WebSocket class, add it to global, or use the polling option")}},"E+TZ":function(e,t,n){var r,o=n("WDr1"),i=n("WLGk"),a=n("ypnn"),s=n("zMFY"),c=n("X6w4");"undefined"!==typeof ArrayBuffer&&(r=n("g5Dd"));var u="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=u||l;t.protocol=3;var h=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=o(h),d={type:"error",data:"parser error"},y=n("Qz/J");function b(e,t,n){for(var r=new Array(e.length),o=s(e.length,n),i=function(e,n,o){t(n,(function(t,n){r[e]=n,o(t,r)}))},a=0;a<e.length;a++)i(a,e[a],o)}t.encodePacket=function(e,n,r,o){"function"===typeof n&&(o=n,n=!1),"function"===typeof r&&(o=r,r=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!==typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=h[e.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}(e,n,o);if("undefined"!==typeof y&&i instanceof y)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(p)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(e.data)}(e,n,r);var o=new Uint8Array(1);o[0]=h[e.type];var i=new y([o.buffer,e.data]);return r(i)}(e,n,o);if(i&&i.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,o);var a=h[e.type];return void 0!==e.data&&(a+=r?c.encode(String(e.data),{strict:!1}):String(e.data)),o(""+a)},t.encodeBase64Packet=function(e,n){var r,o="b"+t.packets[e.type];if("undefined"!==typeof y&&e.data instanceof y){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(o+e)},i.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(u){for(var a=new Uint8Array(e.data),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a[c];r=String.fromCharCode.apply(null,s)}return o+=btoa(r),n(o)},t.decodePacket=function(e,n,r){if(void 0===e)return d;if("string"===typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return d;var o=e.charAt(0);return Number(o)==o&&f[o]?e.length>1?{type:f[o],data:e.substring(1)}:{type:f[o]}:d}o=new Uint8Array(e)[0];var i=a(e,1);return y&&"blob"===n&&(i=new y([i])),{type:f[o],data:i}},t.decodeBase64Packet=function(e,t){var n=f[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=r.decode(e.substr(1));return"blob"===t&&y&&(o=new y([o])),{type:n,data:o}},t.encodePayload=function(e,n,r){"function"===typeof n&&(r=n,n=null);var o=i(e);if(n&&o)return y&&!p?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");b(e,(function(e,r){t.encodePacket(e,!!o&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!==typeof e)return t.decodePayloadAsBinary(e,n,r);var o;if("function"===typeof n&&(r=n,n=null),""===e)return r(d,0,1);for(var i,a,s="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"===l){if(""===s||s!=(i=Number(s)))return r(d,0,1);if(s!=(a=e.substr(c+1,i)).length)return r(d,0,1);if(a.length){if(o=t.decodePacket(a,n,!1),d.type===o.type&&d.data===o.data)return r(d,0,1);if(!1===r(o,c+i,u))return}c+=i,s=""}else s+=l}return""!==s?r(d,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));b(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"===typeof t?t.length:t.byteLength).toString().length+n+2}),0),o=new Uint8Array(r),i=0;return t.forEach((function(e){var t="string"===typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}o[i++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]})),n(o.buffer)}))},t.encodePayloadAsBlob=function(e,n){b(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,y){var s=new y([t.buffer,a.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new y(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"===typeof n&&(r=n,n=null);for(var o=e,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),c=0===s[0],u="",l=1;255!==s[l];l++){if(u.length>310)return r(d,0,1);u+=s[l]}o=a(o,2+u.length),u=parseInt(u);var p=a(o,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(y){var h=new Uint8Array(p);p="";for(l=0;l<h.length;l++)p+=String.fromCharCode(h[l])}i.push(p),o=a(o,u)}var f=i.length;i.forEach((function(e,o){r(t.decodePacket(e,n,!0),o,f)}))}},Emkz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EIOCompat=t.splitHref=void 0;var r=n("GVdP"),o=n("CxY0");function i(e){var t=o.parse(e),n=t.protocol,r=t.slashes,i=t.auth,a=t.host,s=t.pathname;return{uri:o.format({protocol:n,slashes:r,auth:i,host:a,query:{ordered:"1"}}),path:null!=s?s:"/"}}t.splitHref=i;var a=4,s=new Map([["opening",0],["open",1],["closing",2],["closed",3]]),c=function(){function e(e,t){var n=this;if(this.CLOSED=3,this.CLOSING=2,this.OPEN=1,this.CONNECTING=0,t)throw new Error("Passing protocols is not implemented");var o=i(e),s=o.uri,c=o.path;this.onopen=null,this.onclose=null,this.onmessage=null,this.onerror=null,this.eioSocket=r(s,{path:c,transports:["polling"]}),this.url=e,this.extensions="",this.protocol="",this.bufferedAmount=0,this.binaryType="blob",this.readyState=0,this.incomingSequence=0,this.outOfOrderQueue={},this.outgoingSequence=0,this.setReadyState(),this.eioSocket.on("open",(function(){if(n.setReadyState(),null!=n.onopen){var e=new Event("open");n.onopen.call(n,e)}})),this.eioSocket.on("close",(function(e){if(n.setReadyState(),null!=n.onclose){var t=new CloseEvent("close",{reason:e,code:1001,wasClean:!1});n.onclose.call(n,t)}})),this.eioSocket.on("message",(function(e){if(n.setReadyState(),null!=n.onmessage){if("string"===typeof e)throw new Error("expected data to be ArrayBuffer not string");var t=new DataView(e).getUint32(0);if(n.incomingSequence===t){n.incomingSequence=t+1;var r=new MessageEvent("message",{data:e.slice(a)}),o=n.onmessage.bind(n);o(r);var i=Object.keys(n.outOfOrderQueue);i.length>0&&(i.sort().forEach((function(e){o(new MessageEvent("message",{data:n.outOfOrderQueue[+e]})),n.incomingSequence=+e+1})),n.outOfOrderQueue={})}else n.outOfOrderQueue[t]=e.slice(a)}})),this.eioSocket.on("error",(function(){if(n.setReadyState(),null!=n.onerror){var e=new Event("error");n.onerror.call(n,e)}}))}return e.prototype.setReadyState=function(){this.readyState=s.get(this.eioSocket.readyState)},e.prototype.send=function(e){var t=new ArrayBuffer(a+e.byteLength);new Uint8Array(t).set(new Uint8Array(e),a),new DataView(t).setUint32(0,this.outgoingSequence),this.outgoingSequence+=1,this.eioSocket.send(t),this.setReadyState()},e.prototype.close=function(){this.onmessage=null,this.eioSocket.close(),this.setReadyState()},e.prototype.addEventListener=function(){throw new Error("Not Implemented, please use onmessage, onopen, onerror, or onclose")},e.prototype.removeEventListener=function(){throw new Error("Not Implemented")},e.prototype.dispatchEvent=function(){throw new Error("Not Implemented")},e}();t.EIOCompat=c},"Fz/E":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("+qE3");function o(){return new r.EventEmitter}},GVdP:function(e,t,n){e.exports=n("Gknm"),e.exports.parser=n("E+TZ")},Gknm:function(e,t,n){var r=n("KPuF"),o=n("gnSh"),i=n("NOtv")("engine.io-client:socket"),a=n("7jRU"),s=n("E+TZ"),c=n("Uxeu"),u=n("TypT");function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,o(l.prototype),l.protocol=s.protocol,l.Socket=l,l.Transport=n("O9h/"),l.transports=n("KPuF"),l.parser=n("E+TZ"),l.prototype.createTransport=function(e){i('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){i("setting transport %s",e.name);var t=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){i('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(i('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,i('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(i("changing transport and sending upgrade packet"),h(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{i('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,r.emit("upgradeError",a)}})))}function a(){n||(n=!0,h(),t.close(),t=null)}function s(n){var o=new Error("probe error: "+n);o.transport=t.name,a(),i('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",o)}function c(){s("transport closed")}function u(){s("socket closed")}function p(e){t&&e.name!==t.name&&(i('"%s" works - aborting "%s"',e.name,t.name),a())}function h(){t.removeListener("open",o),t.removeListener("error",s),t.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",p)}l.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",s),t.once("close",c),this.once("close",u),this.once("upgrading",p),t.open()},l.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else i('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},l.prototype.sendPacket=function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),i("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},l.prototype.onError=function(e){i("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}},HADy:function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.STATE_CHANGE="STATE_CHANGE",e.OUTPUT="OUTPUT"}(r||(r={})),function(e){e.OFFLINE="OFFLINE",e.IDLE="IDLE",e.RUNNING="RUNNING",e.STOPPING="STOPPING"}(o||(o={}))},HiSk:function(e,t){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},I3P5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("yNTq").read=function(e,t,n){if(n-t<1)return"";for(var r="",o=t;o<n;){var i=e[o++];if(i<=127)r+=String.fromCharCode(i);else if(i>=192&&i<224)r+=String.fromCharCode((31&i)<<6|63&e[o++]);else if(i>=224&&i<240)r+=String.fromCharCode((15&i)<<12|(63&e[o++])<<6|63&e[o++]);else if(i>=240){var a=((7&i)<<18|(63&e[o++])<<12|(63&e[o++])<<6|63&e[o++])-65536;r+=String.fromCharCode(55296+(a>>10)),r+=String.fromCharCode(56320+(1023&a))}}return r}},KPuF:function(e,t,n){var r=n("rx/v"),o=n("cK9Y"),i=n("/Cao"),a=n("u0Ev");t.polling=function(e){var t=!1,n=!1,a=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new o(e);if(!a)throw new Error("JSONP disabled");return new i(e)},t.websocket=a},"O9h/":function(e,t,n){var r=n("E+TZ"),o=n("gnSh");function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,o(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},"Qz/J":function(e,t){var n="undefined"!==typeof n?n:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function a(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function s(e,t){t=t||{};var r=new n;return a(e).forEach((function(e){r.append(e)})),t.type?r.getBlob(t.type):r.getBlob()}function c(e,t){return new Blob(a(e),t||{})}"undefined"!==typeof Blob&&(s.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=r?o?Blob:c:i?s:void 0},VOEV:function(e,t,n){"use strict";var r=n("hfKm"),o=n.n(r),i=n("2Eek"),a=n.n(i),s=n("XoMD"),c=n.n(s),u=n("Jo+v"),l=n.n(u),p=n("4mXO"),h=n.n(p),f=n("eVuF"),d=n.n(f),y=n("dfwq"),b=n("XXOK"),v=n.n(b),m=n("pLtp"),g=n.n(m),w=n("ln6h"),C=n.n(w),E=n("vYYK"),k=n("8v8i"),O=n("dI/k"),x=n("gfZM"),T=n("5/z4");function S(e){var t,n,r,o,i,a,s;return C.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.filesChannel,n=e.path,r=e.content,o=e.resolve,i=e.reject,c.next=3,C.a.awrap(t.request({write:{path:n,content:r.toBuffer()}}));case 3:if(!(a=c.sent).channelClosed){c.next=6;break}return c.abrupt("return");case 6:if(!a.error){c.next=14;break}if(s=null,a.error.includes("not a directory")?s=k.c.NotDirectory:a.error.includes("file exists")&&(s=k.c.IsDirectory),s){c.next=12;break}return i(new Error(a.error)),c.abrupt("return");case 12:return o({error:s}),c.abrupt("return");case 14:o({error:null});case 15:case"end":return c.stop()}}))}function N(e){var t,n,r,o,i,a;return C.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.filesChannel,n=e.path,r=e.resolve,o=e.reject,s.next=3,C.a.awrap(t.request({read:{path:n}}));case 3:if(!(i=s.sent).channelClosed){s.next=6;break}return s.abrupt("return");case 6:if(!i.error){s.next=14;break}if(a=null,i.error.includes("no such file")?a=k.c.NotFound:i.error.includes("is a directory")&&(a=k.c.IsDirectory),a){s.next=12;break}return o(new Error(i.error)),s.abrupt("return");case 12:return r({error:a}),s.abrupt("return");case 14:if(i.file&&i.file.path&&i.file.content){s.next=16;break}throw new Error("Expected file");case 16:r({content:x.a.from(i.file.content),error:null});case 17:case"end":return s.stop()}}))}function D(e){var t,n,r,o,i,a;return C.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.filesChannel,n=e.path,r=e.resolve,o=e.reject,s.next=3,C.a.awrap(t.request({mkdir:{path:n}}));case 3:if(!(i=s.sent).channelClosed){s.next=6;break}return s.abrupt("return");case 6:if(!i.error){s.next=14;break}if(a=null,i.error.includes("not a directory")&&(a=k.c.NotDirectory),a){s.next=12;break}return o(new Error(i.error)),s.abrupt("return");case 12:return r({error:a}),s.abrupt("return");case 14:r({error:null});case 15:case"end":return s.stop()}}))}function R(e){return e.includes("no such file or directory")?k.c.NotFound:e.includes("file exist")?k.c.AlreadyExists:e.includes("not a directory")?k.c.NotDirectory:void 0}function A(e){var t,n,r,o,i,a,s;return C.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.filesChannel,n=e.path,r=e.to,o=e.resolve,i=e.reject,c.next=3,C.a.awrap(t.request({move:{oldPath:n,newPath:r}}));case 3:if(!(a=c.sent).channelClosed){c.next=6;break}return c.abrupt("return");case 6:if(!a.error){c.next=13;break}if(s=R(a.error)){c.next=11;break}return i(new Error(a.error)),c.abrupt("return");case 11:return o({error:s}),c.abrupt("return");case 13:o({error:null});case 14:case"end":return c.stop()}}))}function P(e){var t,n,r,o,i,a,s;return C.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.filesChannel,n=e.path,r=e.to,o=e.resolve,i=e.reject,c.next=3,C.a.awrap(t.request({move:{oldPath:n,newPath:r}}));case 3:if(!(a=c.sent).channelClosed){c.next=6;break}return c.abrupt("return");case 6:if(!a.error){c.next=13;break}if(s=R(a.error)){c.next=11;break}return i(new Error(a.error)),c.abrupt("return");case 11:return o({error:s}),c.abrupt("return");case 13:o({error:null});case 14:case"end":return c.stop()}}))}function I(e){var t,n,r,o,i,a,s,c;return C.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.filesChannel,r=e.path,o=e.resolve,i=e.reject,u.next=3,C.a.awrap(n.request({readdir:{path:r}}));case 3:if(!(a=u.sent).channelClosed){u.next=6;break}return u.abrupt("return");case 6:if(!a.error){u.next=14;break}if(s=null,a.error.includes("no such file or directory")?s=k.c.NotFound:a.error.includes("not a directory")&&(s=k.c.NotDirectory),s){u.next=12;break}return i(new Error(a.error)),u.abrupt("return");case 12:return o({error:s}),u.abrupt("return");case 14:if(null===(t=a.files)||void 0===t?void 0:t.files){u.next=16;break}throw new Error("Expected filesChannel");case 16:c=a.files.files.map((function(e){if(!e.path)throw new Error("Expected path");return{filename:e.path,type:e.type===T.api.File.Type.DIRECTORY?k.b.Directory:k.b.File}})),o({children:c,error:null});case 18:case"end":return u.stop()}}))}function j(e){var t,n,r,o,i,a;return C.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.filesChannel,n=e.path,r=e.resolve,o=e.reject,s.next=3,C.a.awrap(t.request({remove:{path:n}}));case 3:if(!(i=s.sent).channelClosed){s.next=6;break}return s.abrupt("return");case 6:if(!i.error){s.next=14;break}if(a=null,i.error.includes("no such file or director")&&(a=k.c.NotFound),a){s.next=12;break}return o(new Error(i.error)),s.abrupt("return");case 12:return r({error:a}),s.abrupt("return");case 14:r({error:null});case 15:case"end":return s.stop()}}))}function L(e){var t,n,r,o,i,a;return C.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.filesChannel,n=e.path,r=e.resolve,o=e.reject,s.next=3,C.a.awrap(t.request({remove:{path:n}}));case 3:if(!(i=s.sent).channelClosed){s.next=6;break}return s.abrupt("return");case 6:if(!i.error){s.next=14;break}if(a=null,i.error.includes("no such file or director")&&(a=k.c.NotFound),a){s.next=12;break}return o(new Error(i.error)),s.abrupt("return");case 12:return r({error:a}),s.abrupt("return");case 14:r({error:null});case 15:case"end":return s.stop()}}))}var B=n("8/ze"),_=n("6bXu");function q(e,t){var n=g()(e);if(h.a){var r=h()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(E.a)(e,t,n[t])})):c.a?a()(e,c()(n)):q(Object(n)).forEach((function(t){o()(e,t,l()(n,t))}))}return e}function U(e){var t=e.container,n=null,r=null,o={},i=[],a=null;function s(){var e;return C.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=2;break}return t.abrupt("return");case 2:if(n){t.next=4;break}return t.abrupt("return");case 4:if(e=i.shift()){t.next=7;break}return t.abrupt("return");case 7:a=e,t.t0=e.op,t.next="writeFile"===t.t0?11:"readFile"===t.t0?13:"createDir"===t.t0?15:"moveDir"===t.t0?17:"moveFile"===t.t0?19:"deleteDir"===t.t0?21:"deleteFile"===t.t0?23:"readDir"===t.t0?25:27;break;case 11:return S(M({filesChannel:n},e)),t.abrupt("break",28);case 13:return N(M({filesChannel:n},e)),t.abrupt("break",28);case 15:return D(M({filesChannel:n},e)),t.abrupt("break",28);case 17:return A(M({filesChannel:n},e)),t.abrupt("break",28);case 19:return P(M({filesChannel:n},e)),t.abrupt("break",28);case 21:return j(M({filesChannel:n},e)),t.abrupt("break",28);case 23:return L(M({filesChannel:n},e)),t.abrupt("break",28);case 25:return I(M({filesChannel:n},e)),t.abrupt("break",28);case 27:return t.abrupt("break",28);case 28:a=null,s();case 30:case"end":return t.stop()}}))}function c(e){if(o[e.node.path])switch(e.event){case k.a.Create:break;case k.a.Move:case k.a.Delete:if(e.node.type!==k.b.Directory)throw new Error("later");var t=!0,n=!1,r=void 0;try{for(var i,a=v()(o[e.node.path].listeners);!(t=(i=a.next()).done);t=!0){var s=i.value,c=s.onMoveOrDelete,u=s.dispose;c&&c(e),u()}}catch(V){n=!0,r=V}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}break;default:throw new Error("unknown event")}var l=e.node.path.includes("/")?Object(O.d)(e.node.path):B.a,p=o[l];if(p)switch(e.event){case k.a.Create:var h=e.node.path.split("/").pop();if(!h)throw new Error("Expected filename");var f=[].concat(Object(y.a)(p.children),[{type:e.node.type,filename:h}]),d=!0,b=!1,m=void 0;try{for(var g,w=v()(p.listeners);!(d=(g=w.next()).done);d=!0){(0,g.value.onChange)(f)}}catch(V){b=!0,m=V}finally{try{d||null==w.return||w.return()}finally{if(b)throw m}}p.children=f;break;case k.a.Move:if(e.node.type!==k.b.Directory)throw new Error("later");var C=p.children.filter((function(t){return t.filename!==e.node.path})),E=!0,x=!1,T=void 0;try{for(var S,N=v()(p.listeners);!(E=(S=N.next()).done);E=!0){(0,S.value.onChange)(C)}}catch(V){x=!0,T=V}finally{try{E||null==N.return||N.return()}finally{if(x)throw T}}p.children=C;var D=e.to.split("/").slice(0,-1).join("/"),R=o[D];if(!R)return;var A={filename:e.node.path,type:e.node.type},P=[].concat(Object(y.a)(R.children),[A]),I=!0,j=!1,L=void 0;try{for(var _,q=v()(R.listeners);!(I=(_=q.next()).done);I=!0){(0,_.value.onChange)(P)}}catch(V){j=!0,L=V}finally{try{I||null==q.return||q.return()}finally{if(j)throw L}}R.children=P;break;case k.a.Delete:var M=e.node.path.split("/").pop(),U=p.children.filter((function(e){return e.filename!==M})),F=!0,H=!1,W=void 0;try{for(var G,X=v()(p.listeners);!(F=(G=X.next()).done);F=!0){(0,G.value.onChange)(U)}}catch(V){H=!0,W=V}finally{try{F||null==X.return||X.return()}finally{if(H)throw W}}p.children=U;break;default:throw new Error("unknown event")}}function u(e){var t=new d.a((function(t,n){i.push({path:e,op:"readDir",resolve:t,reject:n})}));return s(),t}return t.openChannel({service:"fsevents",skip:function(){return!Object(_.a)()}},(function(e){var t=e.error,n=e.channel;if(!t){if(!n)throw new Error("Expected channel");r=n,n.onCommand((function(e){if("fileEvent"===e.body){if(!e.fileEvent)throw new Error("Expected fileEvent");var t=e.fileEvent,n=t.file,r=t.op;if(n){var o=n.path;if(null!==o&&null!==r&&void 0!==o&&void 0!==r){var i=null;if(n.type===T.api.File.Type.DIRECTORY?i=k.b.Directory:n.type===T.api.File.Type.REGULAR&&(i=k.b.File),!i)throw new Error("Expected fileType");switch(r){case T.api.FileEvent.Op.Create:c({event:k.a.Create,node:{path:o,type:i}});break;case T.api.FileEvent.Op.Modify:if(i===k.b.Directory)break;break;case T.api.FileEvent.Op.Remove:c({event:k.a.Delete,node:{path:o,type:i}});break;case T.api.FileEvent.Op.Move:}}}}}));var i=g()(o).map((function(e){return{path:e}}));return i.length&&n.send({subscribeFile:{files:i}}),function(){r=null}}})),t.openChannel({service:"files",skip:function(){return!Object(_.a)()}},(function(e){var t=e.error,r=e.channel;if(!t){if(!r)throw new Error("Expected channel");return n=r,s(),function(e){var t=e.willReconnect;n=null,t&&(a&&i.unshift(a),a=null),t||(i=[])}}})),{readFile:function(e){var t=new d.a((function(t,n){i.push({path:e,op:"readFile",resolve:t,reject:n})}));return s(),t},readDir:u,writeFile:function(e,t){var n=new d.a((function(n,r){i.push({path:e,content:t,op:"writeFile",resolve:n,reject:r})}));return s(),n.then((function(t){t.error||c({event:k.a.Create,node:{path:e,type:k.b.File}})})),n},createDir:function(e){var t=new d.a((function(t,n){i.push({path:e,op:"createDir",resolve:t,reject:n})}));return s(),t.then((function(t){t.error||c({event:k.a.Create,node:{path:e,type:k.b.Directory}})})),t},moveFile:function(e,t){var n=new d.a((function(n,r){i.push({path:e,to:t,op:"moveFile",resolve:n,reject:r})}));return s(),n.then((function(n){n.error||(c({event:k.a.Create,node:{path:t,type:k.b.File}}),c({event:k.a.Delete,node:{path:e,type:k.b.File}}))})),n},moveDir:function(e,t){var n=new d.a((function(n,r){i.push({path:e,to:t,op:"moveDir",resolve:n,reject:r})}));return s(),n.then((function(n){n.error||(c({event:k.a.Create,node:{path:t,type:k.b.Directory}}),c({event:k.a.Delete,node:{path:e,type:k.b.Directory}}))})),n},watchDir:function(e,t){var n=!1,i=function t(){n=!0,o[e]&&(o[e].listeners=o[e].listeners.filter((function(e){return e.dispose!==t})),0===o[e].listeners.length&&delete o[e])};return o[e]=o[e]||{path:e,type:k.b.Directory,children:[],listeners:[]},o[e].listeners.push(M({},t,{dispose:i})),r&&r.send({subscribeFile:{files:[{path:e}]}}),u(e).then((function(r){if(!n){if(r.error){var a=new Error(r.error);return a.code=r.error,t.onError(a),void i()}o[e]?(o[e].children=r.children,t.onChange(r.children)):t.onError(new Error("Expected watchDir with path:"+e))}})).catch(t.onError),i},deleteFile:function(e){var t=new d.a((function(t,n){i.push({path:e,op:"deleteFile",resolve:t,reject:n})}));return s(),t.then((function(t){t.error||c({event:k.a.Delete,node:{path:e,type:k.b.File}})})),t},deleteDir:function(e){var t=new d.a((function(t,n){i.push({path:e,op:"deleteDir",resolve:t,reject:n})}));return s(),t.then((function(t){t.error||c({event:k.a.Delete,node:{path:e,type:k.b.Directory}})})),t}}}n.d(t,"a",(function(){return U}))},WDr1:function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},WK0V:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("I3P5");var r=n("eTwx");Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return r.Client}});var o=n("1dJL");Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return o.Channel}})},X6w4:function(e,t){var n,r,o,i=String.fromCharCode;function a(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return i(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return i(e);var n="";return 0==(4294965248&e)?n=i(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=i(e>>12&15|224),n+=c(e,6)):0==(4292870144&e)&&(n=i(e>>18&7|240),n+=c(e,12),n+=c(e,6)),n+=i(63&e|128)}function l(){if(o>=r)throw Error("Invalid byte index");var e=255&n[o];if(o++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var t,i;if(o>r)throw Error("Invalid byte index");if(o==r)return!1;if(t=255&n[o],o++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|l())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|l()<<6|l())>=2048)return s(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=a(e),o=r.length,i=-1,s="";++i<o;)s+=u(r[i],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=a(e),r=n.length,o=0;for(var c,u=[];!1!==(c=p(s));)u.push(c);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=i(t);return o}(u)}}},cK9Y:function(e,t,n){var r=n("rx/v"),o=n("8VYC"),i=n("gnSh"),a=n("Yvos"),s=n("NOtv")("engine.io-client:polling-xhr"),c=n("HiSk");function u(){}function l(e){if(o.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!==typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function p(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=l,e.exports.Request=p,a(l,o),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new p(e)},l.prototype.doWrite=function(e,t){var n="string"!==typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",(function(e){o.onError("xhr post error",e)})),this.sendXhr=r},l.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},i(p.prototype),p.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}catch(i){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{t.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(i){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"===typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(i){return void setTimeout((function(){n.onError(i)}),0)}"undefined"!==typeof document&&(this.index=p.requestsCount++,p.requests[this.index]=this)},p.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},p.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},p.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},p.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete p.requests[this.index],this.xhr=null}},p.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},p.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},p.prototype.abort=function(){this.cleanup()},p.requestsCount=0,p.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",h);else if("function"===typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",h,!1)}function h(){for(var e in p.requests)p.requests.hasOwnProperty(e)&&p.requests[e].abort()}},eTwx:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var a,s=n("5/z4"),c=n("1dJL"),u=n("AJXi"),l=n("yLpU");!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED"}(a||(a={}));var p=function(){function e(t){var n=this;void 0===t&&(t=function(){}),this.open=function(e,t){if(n.chan0Cb)throw new Error("You must call `close` before opening the client again");if(!e.fetchToken||"function"!==typeof e.fetchToken){var o=new Error("You must provide a fetchToken function");throw n.debug({type:"breadcrumb",message:"error",data:o.message}),o}n.connectOptions=r(r({},n.connectOptions),e),n.debug({type:"breadcrumb",message:"open",data:{polling:n.connectOptions.polling}}),n.chan0Cb=t,n.connect()},this.openChannel=function(e,t){var r={options:e,openChannelCb:t,currentChannel:null};return n.channelRequests.push(r),n.connectionState===a.CONNECTED&&n.handleOpenChannel(r),function(){null===r.currentChannel||r.currentChannel.closed||r.currentChannel.close(),n.channelRequests=n.channelRequests.filter((function(e){return e!==r}))}},this.handleOpenChannel=function(e){var t=e.options,r=e.openChannelCb,o=t.skip;if(!o||!o(n.connectOptions.context)){var i=t.action;if(i||(i=null==t.name?s.api.OpenChannel.Action.CREATE:s.api.OpenChannel.Action.ATTACH_OR_CREATE),e.currentChannel)throw new Error("Unexpected currentChannel");var a=new c.Channel({openChannelCb:r});e.currentChannel=a,n.debug({type:"breadcrumb",message:"handleOpenChannel",data:{name:t.name,service:t.service,action:i}});var u=n.getChannel(0),l=Number(Math.random().toString().split(".")[1]).toString(36);u.setMaxListeners(u.getMaxListeners()+1),u.send({ref:l,openChan:{name:t.name,service:t.service,action:i}});var p=u.onCommand((function(t){if(l===t.ref){if(p(),null==t.openChanRes)throw new Error("Expected openChanRes on command");var r=t.openChanRes,o=r.id,i=r.state,c=r.error;if(n.debug({type:"breadcrumb",message:"openChanres"}),i===s.api.OpenChannelRes.State.ERROR)return n.debug({type:"breadcrumb",message:"error",data:c}),void a.handleError(new Error(c||"Something went wrong"),n.connectOptions.context);if("number"!==typeof o||"number"!==typeof i)throw new Error("Expected state and channel id");n.channels[o]=a,e.currentChannel=a,a.handleOpen({id:o,state:i,send:n.send,context:n.connectOptions.context})}}))}},this.close=function(){if(n.debug({type:"breadcrumb",message:"user close"}),!n.chan0Cb)throw new Error("Must call client.connect before closing");n.handleClose({closeReason:l.ClientCloseReason.Intentional})},this.startPing=function(){var e=n.getChannel(0),t=Date.now(),r=function(){e.closed||(t=Date.now(),e.send({ping:{}}))};e.onCommand((function(e){if("pong"===e.body){var o=Date.now()-t;n.debug({type:"ping",latency:o}),setTimeout(r,1e4)}})),r()},this.connect=function(){return o(n,void 0,void 0,(function(){var t,n,r,o,l,p,h,f,d,y,b,v,m,g=this;return i(this,(function(i){switch(i.label){case 0:if(this.debug({type:"breadcrumb",message:"connecting",data:{connectionState:this.connectionState,connectTries:this.connectTries,readyState:this.ws?this.ws.readyState:void 0,chan0CbExists:Boolean(this.chan0Cb)}}),this.connectionState!==a.DISCONNECTED)throw t=new Error("Client must be disconnected to connect"),this.debug({type:"breadcrumb",message:"error",data:t.message}),t;if(this.ws&&(0===this.ws.readyState||1===this.ws.readyState))throw t=new Error("Client already connected to an active websocket connection"),this.debug({type:"breadcrumb",message:"error",data:t.message}),t;if(this.connectTries+=1,this.connectionState=a.CONNECTING,this.channels={},this.channelRequests.forEach((function(e){e.currentChannel=null})),!this.chan0Cb)throw new Error("Expected chan0Cb");n=new c.Channel({openChannelCb:this.chan0Cb}),this.channels[0]=n,r=u.getWebSocketClass(this.connectOptions),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.connectOptions.fetchToken()];case 2:return o=i.sent(),[3,4];case 3:return l=i.sent(),this.handleConnectError(l),[2];case 4:return this.connectionState!==a.CONNECTING?(this.handleConnectError(new Error("Client was closed before connecting")),[2]):(p=e.getConnectionStr(o,this.connectOptions.urlOptions),(h=new r(p)).binaryType="arraybuffer",h.onmessage=this.onSocketMessage,this.ws=h,h.onerror=function(){f(new Error("WebSocket errored"))},h.onclose=function(){f(new Error("WebSocket closed before we got READY"))},d=function(){},y=function(){},null!==(b=this.connectOptions.timeout)&&(y=function(){return clearTimeout(v)},d=function(){y(),v=setTimeout((function(){g.debug({type:"breadcrumb",message:"connect timeout"}),f(new Error("timeout"))}),b)}),m=n.onCommand((function(e){if(d(),null!=e.containerState)if(null!=e.containerState.state){var t=e.containerState.state;g.debug({type:"breadcrumb",message:"containerState",data:t});var r=s.api.ContainerState.State;switch(t){case r.READY:m(),g.retryTimeoutId&&clearTimeout(g.retryTimeoutId),y();var i=!1,a=g.close;g.close=function(){throw i=!0,g.cleanupSocket(),y(),m(),new Error("Cannot call close inside connect callback")},n.handleOpen({id:0,state:s.api.OpenChannelRes.State.CREATED,send:g.send,context:g.connectOptions.context}),i||(g.close=a,g.connectToken=o,g.handleConnect());break;case r.SLEEP:f(new Error("Got SLEEP as container state"))}}else f(new Error("Got containterState but state was not defined"))})),f=function(e){g.retryTimeoutId&&clearTimeout(g.retryTimeoutId),g.cleanupSocket(),y(),m(),g.connectTries<=g.connectOptions.maxConnectRetries?g.retryTimeoutId=setTimeout((function(){g.debug({type:"breadcrumb",message:"retrying",data:{connectionState:g.connectionState,connectTries:g.connectTries,error:e,wsReadyState:g.ws?g.ws.readyState:void 0}}),g.connectionState=a.DISCONNECTED,g.connect()}),u.getNextRetryDelay(g.connectTries)):g.connectTries!==g.connectOptions.maxConnectRetries+1||g.connectOptions.polling?g.handleConnectError(e):g.retryTimeoutId=setTimeout((function(){g.connectionState=a.DISCONNECTED,g.connectOptions.urlOptions.host="gp-v2.herokuapp.com",g.connectOptions.polling=!0,g.debug({type:"breadcrumb",message:"falling back to polling",data:{connectionState:g.connectionState,connectTries:g.connectTries,error:e,wsReadyState:g.ws?g.ws.readyState:void 0}}),g.connect()}),u.getNextRetryDelay(g.connectTries))},[2])}}))}))},this.send=function(e){n.debug({type:"log",log:{direction:"out",cmd:e}});var t=s.api.Command.encode(e).finish(),r=t.buffer.slice(t.byteOffset,t.byteOffset+t.length);if(null==n.ws)throw new Error("Calling send on a closed client");n.ws.send(r)},this.onSocketMessage=function(e){var t=e.data,r=new Uint8Array(t),o=s.api.Command.decode(r);switch(n.debug({type:"log",log:{direction:"in",cmd:o}}),n.getChannel(o.channel).handleCommand(o),o.body){case"closeChanRes":if(null==o.closeChanRes)throw new Error("Expected closeChanRes");if(null==o.closeChanRes.id||null==o.closeChanRes.status)throw new Error("Expected id and status in closeChanRes, got "+o.closeChanRes.id+" and "+o.closeChanRes.status);n.debug({type:"breadcrumb",message:"handleCloseChannel",data:{id:o.closeChanRes.id,reason:o.closeChanRes.status}});var i=n.channels[o.closeChanRes.id];i.handleClose({initiator:"channel",willReconnect:!1},n.connectOptions.context),delete n.channels[o.closeChanRes.id];var a=n.channelRequests.find((function(e){return e.currentChannel===i}));a&&(n.channelRequests=n.channelRequests.filter((function(e){return e!==a})))}},this.handleConnect=function(){if(n.connectTries=0,n.connectionState=a.CONNECTED,n.debug({type:"breadcrumb",message:"connected!"}),!n.ws)throw new Error("Expected Websocket instance");var e=function(e){n.debug({type:"breadcrumb",message:"wsclose",data:{event:e}}),n.handleClose({closeReason:l.ClientCloseReason.Disconnected,wsEvent:e})};n.ws.onclose=e,n.ws.onerror=e,n.channelRequests.forEach((function(e){n.handleOpenChannel(e)}))},this.handleClose=function(e){n.cleanupSocket(),n.connectToken=null,n.retryTimeoutId&&clearTimeout(n.retryTimeoutId);var t=e.closeReason===l.ClientCloseReason.Disconnected&&Boolean(n.connectOptions.reconnect),r=e.closeReason===l.ClientCloseReason.Intentional?{initiator:"client",willReconnect:!1}:{initiator:"client",willReconnect:t};Object.values(n.channels).forEach((function(e){e.closed||e.handleClose(r,n.connectOptions.context)})),n.connectionState=a.DISCONNECTED,e.closeReason!==l.ClientCloseReason.Intentional&&n.connectOptions.reconnect?(n.debug({type:"breadcrumb",message:"reconnecting"}),n.connect()):n.chan0Cb=null},this.handleConnectError=function(e){n.connectToken=null,n.retryTimeoutId&&clearTimeout(n.retryTimeoutId);var t=n.getChannel(0),r=n.connectOptions.context;t.closed||t.handleError(e,r),n.channelRequests.forEach((function(t){var n=t.currentChannel,o=t.openChannelCb;n&&!n.closed?n.handleError(e,r):o({error:e,channel:null,context:r})})),n.connectionState=a.DISCONNECTED,n.cleanupSocket(),n.debug({type:"breadcrumb",message:"connect failed",data:e.message})},this.cleanupSocket=function(){var e=n.ws;n.debug({type:"breadcrumb",message:"cleanupSocket",data:{hasWs:Boolean(e),readyState:e?e.readyState:null,connectionState:n.connectionState}}),e&&(n.ws=null,e.onmessage=null,e.onclose=null,e.onerror=function(){},0!==e.readyState&&1!==e.readyState||(n.debug({type:"breadcrumb",message:"wsclose"}),e.close()))},this.ws=null,this.channels={},this.connectOptions={polling:!1,timeout:1e4,reconnect:!0,maxConnectRetries:2,urlOptions:{secure:!1,host:"eval.repl.it",port:"80"},fetchToken:function(){return Promise.reject(new Error("You must provide a fetchToken function"))},context:null},this.chan0Cb=null,this.connectionState=a.DISCONNECTED,this.debug=t,this.channelRequests=[],this.connectTries=0,this.retryTimeoutId=null,this.connectToken=null,this.debug({type:"breadcrumb",message:"constructor"})}return e.getConnectionStr=function(e,t){return"ws"+(t.secure?"s":"")+"://"+t.host+":"+t.port+"/wsv2/"+e},e.prototype.getChannel=function(e){var t=this.channels[e];if(this.debug({type:"breadcrumb",message:"getChannel",data:{id:e}}),!t){var n=new Error("No channel with number "+e);throw this.debug({type:"breadcrumb",message:"error",data:n.message}),n}return t},e.prototype.getToken=function(){return this.connectToken},e.prototype.setDebugFunc=function(e){this.debug=e},e.ClientCloseReason=l.ClientCloseReason,e}();t.Client=p},fA4Q:function(e,t,n){"use strict";var r=n("hfKm"),o=n.n(r),i=n("2Eek"),a=n.n(i),s=n("XoMD"),c=n.n(s),u=n("Jo+v"),l=n.n(u),p=n("4mXO"),h=n.n(p),f=n("pLtp"),d=n.n(f),y=n("ln6h"),b=n.n(y),v=n("qNsG"),m=n("vYYK"),g=n("WK0V"),w=n("zgDP"),C=n("o40J"),E=n("eVuF"),k=n.n(E);function O(e){var t,n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.client,n=e.args,r.abrupt("return",new k.a((function(e){t.openChannel({service:"exec"},(function(t){var r=t.error,o=t.channel;if(r)e({error:r.message,output:null});else{if(!o)throw new Error("Expected channel");var i="";o.onCommand((function(e){e.output&&(i+=e.output)})),o.request({exec:{args:n}}).then((function(t){t.channelClosed?e({error:"Channel closed",output:i||null}):(o.closed||o.close(),t.error?e({error:t.error,output:i||null}):e({output:i,error:null}))}))}}))})));case 2:case"end":return r.stop()}}))}var x=n("QNLp"),T=n("wCw9");function S(e,t){var n=d()(e);if(h.a){var r=h()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):c.a?a()(e,c()(n)):S(Object(n)).forEach((function(t){o()(e,t,l()(n,t))}))}return e}function D(e){var t,n,r,o,i,a,s,c,u;return b.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e.replId,n=e.isVnc,r=e.canWrite,o=e.isLoggedIn,i=e.captchaV2Fallback,a=function(e){Object(w.track)(w.events.GOVAL_CONNECTION_FAILED,{error:e&&e.message||"unidentified failure",host:window.location.hostname,replId:t,reason:"captcha",context:"services"})},s={tokenUrl:"/data/repls/".concat(t,"/gen_repl_token"),clientVersion:"d168a48",flags:{}},!o){l.next=5;break}return l.abrupt("return",Object(T.a)(s));case 5:if(!i){l.next=17;break}return l.prev=6,l.next=9,b.a.awrap(Object(x.a)());case 9:return c=l.sent,l.abrupt("return",Object(T.a)(N({},s,{captchav2:c})));case 13:throw l.prev=13,l.t0=l.catch(6),a(l.t0),l.t0;case 17:return l.prev=17,l.next=20,b.a.awrap(Object(x.b)("genrepltoken"));case 20:return u=l.sent,l.abrupt("return",Object(T.a)(N({},s,{captcha:u})));case 24:return l.prev=24,l.t1=l.catch(17),a(l.t1),l.abrupt("return",D({replId:t,isVnc:n,canWrite:r,captchaV2Fallback:!0}));case 28:case"end":return l.stop()}}),null,null,[[6,13],[17,24]])}var R=n("Fz/E");function A(e,t){var n=d()(e);if(h.a){var r=h()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):c.a?a()(e,c()(n)):A(Object(n)).forEach((function(t){o()(e,t,l()(n,t))}))}return e}n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return _}));var I,j,L=5900;!function(e){e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.DISCONNECTED="DISCONNECTED"}(I||(I={})),function(e){e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.PORT_OPEN="PORT_OPEN"}(j||(j={}));var B=function(e){return{}};function _(){var e=Object(R.a)(),t=null,n=I.DISCONNECTED,r=function(t){n=t,e.emit(j.CONNECTION_STATE_CHANGE,n)},o=new g.Client;return{onPortOpened:function(t){return e.on(j.PORT_OPEN,t),function(){e.removeListener(j.PORT_OPEN,t)}},onConnectionStateChanged:function(t){return e.on(j.CONNECTION_STATE_CHANGE,t),function(){e.removeListener(j.CONNECTION_STATE_CHANGE,t)}},connect:function(i){var a=i.repl,s=i.currentUser,c=i.gurl,u=void 0===c?"wss://eval.repl.it":c,l=Object(v.a)(i,["repl","currentUser","gurl"]);t=a,n!==I.DISCONNECTED&&o.close();var p=Boolean(s),h=B(a),f={context:{repl:a,currentUser:s},urlOptions:Object(C.b)(u),fetchToken:function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l.fetchToken){t.next=2;break}return t.abrupt("return",l.fetchToken());case 2:return t.abrupt("return",D(P({replId:a.id,isVnc:Boolean(a.config.isVnc),canWrite:Boolean(null===(e=a.currentUserPermissions)||void 0===e?void 0:e.containerWrite),isLoggedIn:p},h)));case 3:case"end":return t.stop()}}))}},d=window.performance.now(),y=0;o.open(f,(function(t){var n=t.channel;if(t.error)return r(I.DISCONNECTED),function(){};if(!n)throw new Error("Expected channel");var i=n.onCommand((function(t){switch(t.body){case"portOpen":if(!t.portOpen)throw new Error("portOpen only handles portOpen commands");if(!t.portOpen.forwarded)return;var n=t.portOpen.port||0;if(5901===n)return;e.emit(j.PORT_OPEN,{port:n,isVnc:n===L})}}));window.v6ws=o.ws;var s=a.id,c=a.language;return Object(w.track)(w.events.CONTAINER_SERVICE_CONNECTED,{time:window.performance.now()-d,reconnect:y,replId:s,language:c}),r(I.CONNECTED),function(e){if(i(),"willReconnect"in e&&e.willReconnect)return d=window.performance.now(),y++,void r(I.CONNECTING);r(I.DISCONNECTED)}})),r(I.CONNECTING)},openChannel:function(e,n){var r=window.performance.now(),i=0,a=e.name,s=e.service;return o.openChannel(e,(function(e){var o,c,u,l;Object(w.track)(w.events.OPEN_CHANNEL_CALLBACK_CALLED,{timeToOpen:window.performance.now()-r,replId:null===(o=t)||void 0===o?void 0:o.id,language:null===(c=t)||void 0===c?void 0:c.language,slug:null===(u=t)||void 0===u?void 0:u.slug,owner:null===(l=t)||void 0===l?void 0:l.owner,error:e.error,reconnect:i,name:a,service:s});var p=n(e);return function(e){p&&p(e),r=window.performance.now(),i++}}))},getConnectionState:function(){return n},exec:function(){var e,t,n,r=arguments;return b.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:for(e=r.length,t=new Array(e),n=0;n<e;n++)t[n]=r[n];return i.abrupt("return",O({client:o,args:t}));case 2:case"end":return i.stop()}}))},close:function(){t=null,n!==I.DISCONNECTED&&o.close()},client:function(){return o},getRepl:function(){return t}}}},gnSh:function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},o40J:function(e,t,n){"use strict";n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return B}));var r=n("hfKm"),o=n.n(r),i=n("2Eek"),a=n.n(i),s=n("XoMD"),c=n.n(s),u=n("Jo+v"),l=n.n(u),p=n("4mXO"),h=n.n(p),f=n("pLtp"),d=n.n(f),y=n("vYYK"),b=n("ln6h"),v=n.n(b),m=n("eVuF"),g=n.n(m),w=n("xk4V"),C=n.n(w),E=n("g7Gn"),k=n("QNLp"),O=n("zgDP"),x=n("nOHt"),T=n.n(x),S=n("wCw9");function N(e,t){var n=d()(e);if(h.a){var r=h()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):c.a?a()(e,c()(n)):N(Object(n)).forEach((function(t){o()(e,t,l()(n,t))}))}return e}function R(e){var t=new URL(e),n={secure:!1,port:""+t.port,host:t.hostname};return"wss:"===t.protocol?n.secure=!0:"ws:"!==t.protocol&&console.log(e,"Expected gurl protocol to be ws or wss, we'll give it a shot anyway"),n.port||(n.port=n.secure?"443":"80"),n}var A=1.7,P=15e3;function I(e){var t=Math.floor(500*Math.random()),n=1e3*Math.pow(A,e);return Math.min(n,P)+t}function j(){var e=window.performance.getEntriesByName("create-workspace");if(0===e.length)return E.c(new Error("Expected create-workspace mark")),null;if(e.length>1)return E.c(new Error("Expected a single create-workspace mark")),null;var t=e[0];return window.performance.now()-t.startTime}var L=0;function B(e){var t,n,r,o,i,a,s,c,u,l,p,h,f,d,b,m,w,E,x,N,A,P,B,_;return v.a.async((function(q){for(;;)switch(q.prev=q.next){case 0:t=e.client,n=e.repl,r=e.shouldAbort,o=e.onRetry,i=e.gurl,a=e.prefetchedToken,s=e.isLoggedIn,L++,c={token:a||"",urlOptions:R(i),timeout:1e4,polling:!1},T.a.query.fallback&&(c.urlOptions.host="gp-v2.herokuapp.com",c.polling=!0),u=0,l=0,p=!1,h=!1,f=n.id,d=n.language,b=n.slug,m=C()(),w=function(){return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new g.a((function(e){setTimeout((function(){e()}),I(l))})));case 1:case"end":return e.stop()}}))};case 11:if(!1!==t.isConnected()){q.next=97;break}if(!r()){q.next=14;break}return q.abrupt("return");case 14:if(E=window.performance.now(),x=C()(),N={host:window.location.host,retries:l,replId:f,language:d,slug:b,attemptUuid:x,govalConnectUuid:m,connectCount:L},Object(O.track)(O.events.GOVAL_CONNECTION_ATTEMPTED,D({},N)),A=void 0,q.prev=19,s){q.next=31;break}if(!p){q.next=27;break}return q.next=24,v.a.awrap(Object(k.a)());case 24:A=q.sent,q.next=30;break;case 27:return q.next=29,v.a.awrap(Object(k.b)("genrepltoken"));case 29:A=q.sent;case 30:Object(O.track)(O.events.GOVAL_CONNECTION_STEP,D({},N,{time:window.performance.now()-E,timeSinceCreateWorkspace:j(),step:"captcha",failed:!1}));case 31:q.next=45;break;case 33:if(q.prev=33,q.t0=q.catch(19),Object(O.track)(O.events.GOVAL_CONNECTION_STEP,D({},N,{time:window.performance.now()-E,timeSinceCreateWorkspace:j(),step:"captcha",failed:!0})),Object(O.track)(O.events.GOVAL_CONNECTION_FAILED,D({},N,{error:q.t0&&q.t0.message||"unidentified failure",reason:"captcha"})),!r()){q.next=39;break}return q.abrupt("return");case 39:return p=!0,l++,o(l),q.next=44,v.a.awrap(w());case 44:return q.abrupt("continue",11);case 45:if(!r()){q.next=47;break}return q.abrupt("return");case 47:if(P=window.performance.now(),a&&!h){q.next=70;break}return q.prev=49,q.next=52,v.a.awrap(Object(S.a)((B={tokenUrl:"/data/repls/".concat(n.id,"/gen_repl_token")},Object(y.a)(B,p?"captchav2":"captcha",A),Object(y.a)(B,"clientVersion","d168a48"),B)));case 52:c.token=q.sent,Object(O.track)(O.events.GOVAL_CONNECTION_STEP,D({},N,{time:window.performance.now()-P,timeSinceCreateWorkspace:j(),step:"fetchToken",failed:!1})),q.next=68;break;case 56:if(q.prev=56,q.t1=q.catch(49),Object(O.track)(O.events.GOVAL_CONNECTION_STEP,D({},N,{time:window.performance.now()-P,timeSinceCreateWorkspace:j(),step:"fetchToken",failed:!0})),Object(O.track)(O.events.GOVAL_CONNECTION_FAILED,D({},N,{error:q.t1.message,reason:"token"})),!r()){q.next=62;break}return q.abrupt("return");case 62:return q.t1.message&&q.t1.message.toLowerCase().includes("captcha")&&(p=!0),l++,o(l),q.next=67,v.a.awrap(w());case 67:return q.abrupt("continue",11);case 68:if(!r()){q.next=70;break}return q.abrupt("return");case 70:return h=!0,_=window.performance.now(),q.prev=72,q.next=75,v.a.awrap(t.connect(c));case 75:window.v1ws=t.ws,q.next=93;break;case 78:if(q.prev=78,q.t2=q.catch(72),!q.t2.message.includes("Client.close")){q.next=82;break}return q.abrupt("return");case 82:if(!r()){q.next=84;break}return q.abrupt("return");case 84:return 2===u&&!1===c.polling&&(c.urlOptions.host="gp-v2.herokuapp.com",c.polling=!0,Object(O.track)(O.events.GOVAL2_FELLBACK,{error:q.t2.message||"",retries:l,host:window.location.hostname})),Object(O.track)(O.events.GOVAL_CONNECTION_STEP,D({},N,{time:window.performance.now()-_,timeSinceCreateWorkspace:j(),step:"connect",failed:!0})),Object(O.track)(O.events.GOVAL_CONNECTION_FAILED,D({},N,{error:q.t2.message,reason:"goval"})),u++,l++,o(l),q.next=92,v.a.awrap(w());case 92:return q.abrupt("continue",11);case 93:Object(O.track)(O.events.GOVAL_CONNECTION_STEP,D({},N,{time:window.performance.now()-_,timeSinceCreateWorkspace:j(),step:"connect",failed:!1})),Object(O.track)(O.events.GOVAL_CONNECTION_SUCCEEDED,D({},N,{time:window.performance.now()-E})),q.next=11;break;case 97:case"end":return q.stop()}}),null,null,[[19,33],[49,56],[72,78]])}},"rx/v":function(e,t,n){var r=n("yeub"),o=n("HiSk");e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(a){}try{if("undefined"!==typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(a){}if(!t)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(a){}}},u0Ev:function(e,t,n){(function(t){var r,o,i=n("O9h/"),a=n("E+TZ"),s=n("TypT"),c=n("Yvos"),u=n("Aplp"),l=n("NOtv")("engine.io-client:websocket");if("undefined"!==typeof WebSocket?r=WebSocket:"undefined"!==typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"===typeof window)try{o=n(49)}catch(f){}var p=r||o;function h(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=o),i.call(this,e)}e.exports=h,c(h,i),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new p(e,t):new p(e):new p(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},h.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,o=0,i=r;o<i;o++)!function(e){a.encodePacket(e,n.supportsBinary,(function(o){if(!n.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),n.perMessageDeflate)("string"===typeof o?t.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(f){l("websocket closed before onclose event")}--r||s()}))}(e[o]);function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},h.prototype.onClose=function(){i.prototype.onClose.call(this)},h.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},h.prototype.check=function(){return!!p&&!("__initialize"in p&&this.name===h.prototype.name)}}).call(this,n("tjlA").Buffer)},yLpU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCloseReason=void 0,function(e){e[e.Intentional=0]="Intentional",e[e.Disconnected=1]="Disconnected"}(t.ClientCloseReason||(t.ClientCloseReason={}))},yz3v:function(e){e.exports=JSON.parse('{"name":"ace-builds","main":"./src-noconflict/ace.js","typings":"ace.d.ts","version":"1.4.11","description":"Ace (Ajax.org Cloud9 Editor)","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"repository":{"type":"git","url":"https://github.com/ajaxorg/ace-builds.git"},"author":"","license":"BSD-3-Clause","bugs":{"url":"https://github.com/ajaxorg/ace-builds/issues"},"homepage":"https://github.com/ajaxorg/ace-builds"}')}}]);
//# sourceMappingURL=074c1584875a3e5c346a5795bdd46d97bc0596e5.d410b74b809cb750002e.js.map