(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{"/9aa":function(e,t,n){var r=n("NykK"),a=n("ExA7"),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&r(e)==i}},"/otM":function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),l=n.n(s),c=n("Jo+v"),u=n.n(c),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),g=n("ln6h"),b=n.n(g),h=n("vYYK"),v=n("0iUn"),x=n("sLSF"),y=n("MI3g"),w=n("a7VT"),k=n("Tit0"),j=n("rt45"),O=n("MX0m"),E=n.n(O),_=n("q1tI"),N=n("vbcS"),S=n("lTCR"),C=n.n(S),P=n("nOHt"),I=n.n(P),A=n("/MKj"),R=n("CIYy"),T=n("5TM/"),M=n("ArsQ"),L=n("G5Ub"),D=n("zgDP"),z=n("0gYX"),F=n.n(z),U=_.createElement;function H(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(){var e=Object(j.a)(["\n  mutation createPost($input: CreatePostInput!) {\n    createPost(input: $input) {\n      post {\n        id\n        url\n        showHosted\n        board {\n          id\n          name\n          slug\n          url\n          replRequired\n          template\n        }\n      }\n    }\n  }\n"]);return B=function(){return e},e}var V=C()(B()),K=function(e){function t(){var e,n;Object(v.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(y.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(i)))).state={title:n.props.title||"",board:n.props.board,body:n.props.body||(n.props.board&&n.props.board.template?n.props.board.template:""),repl:n.props.repl,showHosted:void 0,loading:!1,tracked:!1},n.onChange=function(e){!n.state.tracked&&n.state.board&&Object(D.track)(D.events.POST_WRITTEN,{boardId:n.state.board.id}),n.props.setActiveEdits&&n.props.setActiveEdits(!0),n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):l.a?o()(e,l()(n)):H(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},e,{tracked:!0}))},n.onSubmit=function(e){var t,r,a,i,o,s,l,c,u,d,p,f,m;return b.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(t=n.state,r=t.title,a=t.body,i=t.showHosted,o=t.repl,s=t.board,l=t.loading,c=o?o.id:void 0,!l&&s){g.next=4;break}return g.abrupt("return");case 4:return n.setState({loading:!0}),g.prev=5,g.next=8,b.a.awrap(e({variables:{input:{title:r,body:a,showHosted:i,replId:c,boardId:s.id}}}));case 8:d=g.sent,u=d.data,g.next=18;break;case 12:return g.prev=12,g.t0=g.catch(5),n.setState({loading:!1}),p=g.t0.graphQLErrors.length&&g.t0.graphQLErrors[0].message||"Something went wrong. Please contact support",n.props.showMessage({content:p,type:"error",time:4e3}),g.abrupt("return");case 18:n.setState({title:"",body:"",repl:void 0,showHosted:void 0,loading:!1}),f=u&&u.createPost,m=f.post,n.props.onSubmit?n.props.onSubmit(m):I.a.push({pathname:"/post",query:{id:m.id}},m.url);case 21:case"end":return g.stop()}}),null,null,[[5,12]])},n.selectBoard=function(e){var t,r,a,i,o,s,l;return b.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=n.state,r=t.repl,a=t.body,i=t.title,o={board:e},!r){c.next=10;break}if(i){c.next=9;break}return c.next=6,b.a.awrap(Object(L.b)("/data/repls/check-generated/".concat(r.title)));case 6:s=c.sent,l=s.isGenerated,o.title=l?"":r.title;case 9:a||(o.body=r.description||e.template||"");case 10:n.setState(o);case 11:case"end":return c.stop()}}))},n}return Object(k.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.boardChangable,r=t.onCancel,a=t.replChangable,i=t.autofocus,o=this.state,s=o.title,l=o.body,c=o.repl,u=o.showHosted,d=o.board,p=o.loading,f=!d||d.replRequired&&!c,m=f;return U("div",{className:"jsx-2855744574 board-new-post-container"},U(N.a,{mutation:V},(function(t){return U(T.a,{title:s,body:l,repl:c,showHosted:u,loading:p,onChange:e.onChange,onSubmit:function(){return e.onSubmit(t)},cancelable:!0,onCancel:r,cta:d&&d.buttonCta?d.buttonCta:"Submit",titleCta:d?d.titleCta:void 0,bodyCta:d?d.bodyCta:void 0,titleDisabled:f,bodyDisabled:m,autofocus:i,showReplSelector:a},d&&d.cta&&!n?U(q,{board:d}):null,c&&!a?U(G,{repl:c}):null,!d||n?U(R.a,{board:d,onBoardSelected:e.selectBoard}):null)})),U(E.a,{id:"2855744574"},[".board-new-post-container.jsx-2855744574{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:700px;margin-left:auto;margin-right:auto;color:var(--color-foreground-1);}"]))}}]),t}(_.Component);K.defaultProps={replChangable:!0,boardChangable:!0};var G=function(e){var t=e.repl,n=F.a.get(t.language),r=n.displayName,a=n.icon;return U("div",{className:"jsx-1134565699"},U("span",{className:"jsx-1134565699"},"Sharing repl"),U("span",{className:"jsx-1134565699"},U("img",{alt:r,title:r,src:a,className:"jsx-1134565699"}),t.title),U(E.a,{id:"1134565699"},["div.jsx-1134565699{margin-top:10px;margin-bottom:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","span.jsx-1134565699:first-child{opacity:0.6;}","span.jsx-1134565699:last-child{font-family:PT Mono,monospace;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","img.jsx-1134565699{width:20px;margin-left:4px;margin-right:4px;}"]))},q=function(e){var t=e.board;return U("div",{className:"jsx-320836829"},U("h2",{className:"jsx-320836829"},t.name),U("p",{className:"jsx-320836829"},t.cta),U(E.a,{id:"320836829"},["div.jsx-320836829{margin-bottom:20px;font-size:20px;text-align:center;}","h2.jsx-320836829{font-size:22px;font-weight:bold;}","p.jsx-320836829{font-size:16px;opacity:0.6;}"]))};t.a=Object(A.c)(void 0,{showMessage:M.b})(K)},"0F/J":function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n("UWUU"),s=n("nGMS"),l=n("p6Je"),c=i.createElement;t.a=function(e){var t=e.type,n=void 0===t?"default":t,r=e.onClick,i=e.label,u=e.iconStyle,d=e.lite,p=o[u.svgName],f="run"===n?{backgroundColor:"var(--color-control-3)",backgroundColorHover:"var(--color-positive-1)",backgroundColorActive:"var(--color-positive-2)",textColor:"var(--color-positive-1)",textColorHover:"var(--color-white)"}:{backgroundColor:"var(--color-control-3)",backgroundColorHover:"var(--color-control-2)",backgroundColorActive:"var(--color-control-1)",textColor:"var(--color-foreground-2)",textColorHover:"var(--color-foreground-1)"},m=f.backgroundColor,g=f.backgroundColorHover,b=f.backgroundColorActive,h=f.textColor,v=f.textColorHover;return c("div",{role:"button",onClick:r,className:a.a.dynamic([["1823872648",[m,h,g,v,b,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]]])+" ws-header-cta"},c("span",{className:a.a.dynamic([["1823872648",[m,h,g,v,b,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]]])+" ws-header-cta-label"},Object(l.toSentenceCase)(i)),p&&c("div",{className:a.a.dynamic([["1823872648",[m,h,g,v,b,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]]])+" ws-header-cta-icon"},c(p,{className:a.a.dynamic([["1823872648",[m,h,g,v,b,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]]])})),c(a.a,{id:"1823872648",dynamic:[m,h,g,v,b,u.width,u.height,s.BREAKPOINTS.tabletMax,d?"100px":"60px",d?"100px":"60px"]},[".ws-header-cta.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:20px;height:80%;width:96px;cursor:pointer;position:relative;-webkit-transition:color 0.2s,background-color 0.2s;transition:color 0.2s,background-color 0.2s;z-index:1;border-radius:var(--border-radius-2);background-color:".concat(m,";color:").concat(h,";font-weight:var(--font-weight-regular);font-size:var(--font-size-desktop-text-medium);border:1px solid var(--color-control-2);}"),".ws-header-cta.__jsx-style-dynamic-selector:hover{background-color:".concat(g,";color:").concat(v,";}"),".ws-header-cta.__jsx-style-dynamic-selector:active{background-color:".concat(b,";}"),".ws-header-cta-label.__jsx-style-dynamic-selector{vertical-align:middle;text-align:center;padding-right:var(--spacing-half);line-height:100%;}",".ws-header-cta-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:".concat(u.width,"px;height:").concat(u.height,"px;padding-top:1px;}"),"@media screen and (max-width:".concat(s.BREAKPOINTS.tabletMax,"px){.ws-header-cta.__jsx-style-dynamic-selector{max-width:").concat(d?"100px":"60px",";min-width:").concat(d?"100px":"60px",";}.ws-header-cta-label.__jsx-style-dynamic-selector{display:none;}}")]))}},"0by9":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironment",function(){return n("AxEE")}])},"1GjN":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n("TSYQ"),s=n.n(o),l=i.createElement;function c(e){var t=e.enabled,n=e.enabledChild,r=e.disabledChild,i=e.onClick,o=e.style;return l("div",{style:o,onClick:i,className:"jsx-3781739236 "+(s()("toggle-box-root",{"toggle-box-enabled":t})||"")},!t&&l("div",{className:"jsx-3781739236 toggle-box-toggle"}),l("div",{className:"jsx-3781739236 toggle-box-child-container"},t&&n,!t&&r),t&&l("div",{className:"jsx-3781739236 toggle-box-toggle"}),l(a.a,{id:"3373614338"},[".toggle-box-root.jsx-3781739236{background-color:var(--color-primary-transparent-1);color:var(--color-foreground-1);}",".toggle-box-enabled.jsx-3781739236{background-color:var(--color-positive-1);}"]),l(a.a,{id:"2091277935"},[".toggle-box-root.jsx-3781739236{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;padding:0.2em;border-radius:1.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".toggle-box-toggle.jsx-3781739236{width:1.5em;height:1.5em;background:#fff;border-radius:100%;}",".toggle-box-child-container.jsx-3781739236{padding:0 0.75em;}"]))}},"5QjX":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("g7Gn"),a=n("/MKj"),i=n("9PDL"),o=!1;function s(e){return Object(a.f)((function(t){var n=t.user.userInfo;if(!n.isLoggedIn)return!1;try{return Object(i.a)(n,e)}catch(a){if(r.c(a),o)throw a}return!1}),a.d)}},61:function(e,t,n){n("j36g"),e.exports=n("0by9")},"7okm":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("doui"),a=n("q1tI"),i=n("I7/E"),o=n("fA4Q");function s(){var e=Object(i.a)().container,t=a.useState(e.getRepl()),n=Object(r.a)(t,2),s=n[0],l=n[1];return a.useEffect((function(){return e.onConnectionStateChanged((function(t){t===o.a.CONNECTED&&l(e.getRepl())}))}),[l,e]),s}},AP2z:function(e,t,n){var r=n("nmnc"),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},AxEE:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"equalityFn",(function(){return Ja})),n.d(r,"Component",(function(){return ti})),n.d(r,"reducer",(function(){return ei})),n.d(r,"receiver",(function(){return Za}));var a={};n.r(a),n.d(a,"Component",(function(){return di})),n.d(a,"reducer",(function(){return pi}));var i={};n.r(i),n.d(i,"Component",(function(){return yi})),n.d(i,"reducer",(function(){return Oi})),n.d(i,"reciever",(function(){return ji}));var o={};n.r(o),n.d(o,"Component",(function(){return Gi})),n.d(o,"reducer",(function(){return Wi})),n.d(o,"receiver",(function(){return Yi}));var s={};n.r(s),n.d(s,"Component",(function(){return ms})),n.d(s,"reciever",(function(){return gs})),n.d(s,"reducer",(function(){return hs}));var l={};n.r(l),n.d(l,"Component",(function(){return Ps})),n.d(l,"reducer",(function(){return Us}));var c={};n.r(c),n.d(c,"Component",(function(){return $s}));var u={};n.r(u),n.d(u,"Component",(function(){return al}));var d={};n.r(d),n.d(d,"Component",(function(){return pl})),n.d(d,"reducer",(function(){return fl}));var p={};n.r(p),n.d(p,"Component",(function(){return vl}));var f={};n.r(f),n.d(f,"Component",(function(){return Jl}));var m={};n.r(m),n.d(m,"receiver",(function(){return ic})),n.d(m,"reducer",(function(){return lc}));var g={};n.r(g),n.d(g,"Component",(function(){return fc})),n.d(g,"reducer",(function(){return mc}));var b={};n.r(b),n.d(b,"reducer",(function(){return Wc})),n.d(b,"receiver",(function(){return Yc})),n.d(b,"Component",(function(){return Xc}));var h={};n.r(h),n.d(h,"reducer",(function(){return mu})),n.d(h,"receiver",(function(){return gu})),n.d(h,"Component",(function(){return fu}));var v={};n.r(v),n.d(v,"default",(function(){return Eu})),n.d(v,"Component",(function(){return ju})),n.d(v,"reducer",(function(){return Ou})),n.d(v,"receiver",(function(){return Eu}));var x={};n.r(x),n.d(x,"Component",(function(){return Pu})),n.d(x,"reducer",(function(){return Cu}));var y={};n.r(y),n.d(y,"receiver",(function(){return Au})),n.d(y,"reducer",(function(){return Tu}));var w={};n.r(w),n.d(w,"reducer",(function(){return Vu})),n.d(w,"receiver",(function(){return Bu})),n.d(w,"Component",(function(){return Ku}));var k={};n.r(k),n.d(k,"reducer",(function(){return nd})),n.d(k,"receiver",(function(){return Zu}));var j={};n.r(j),n.d(j,"receiver",(function(){return gd})),n.d(j,"reducer",(function(){return cd}));var O={};n.r(O),n.d(O,"Component",(function(){return Od})),n.d(O,"receiver",(function(){return kd}));var E={};n.r(E),n.d(E,"reducer",(function(){return Cd})),n.d(E,"Component",(function(){return Pd}));var _={};n.r(_),n.d(_,"Component",(function(){return jp})),n.d(_,"receiver",(function(){return wp}));var N={};n.r(N),n.d(N,"Component",(function(){return Kp})),n.d(N,"receiver",(function(){return Bp}));var S={};n.r(S),n.d(S,"Component",(function(){return Of})),n.d(S,"reducer",(function(){return Ef})),n.d(S,"receiver",(function(){return wf}));var C={};n.r(C),n.d(C,"Component",(function(){return Rf}));var P=n("kOwS"),I=n("hfKm"),A=n.n(I),R=n("2Eek"),T=n.n(R),M=n("XoMD"),L=n.n(M),D=n("Jo+v"),z=n.n(D),F=n("4mXO"),U=n.n(F),H=n("pLtp"),B=n.n(H),V=n("eVuF"),K=n.n(V),G=n("doui"),q=n("vYYK"),W=n("ln6h"),Y=n.n(W),X=n("0iUn"),$=n("sLSF"),Q=n("MI3g"),J=n("a7VT"),Z=n("Tit0"),ee=n("2wwy"),te=n.n(ee),ne=n("rt45"),re=n("9Jkg"),ae=n.n(re),ie=n("MX0m"),oe=n.n(ie),se=n("4y2c");function le(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):le(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}se.a.register("replEnvironment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isForking:!1,activeReplId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_REPL_ID":return ce({},e,{activeReplId:t.replId});case"SET_IS_FORKING":return ce({},e,{isForking:t.isForking});default:return e}}));n("WB0c");var ue=n("ZU0V"),de=n.n(ue);function pe(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):pe(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}se.a.register("profiles",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROFILE_SUCCESS":return fe({},e,{data:fe({},e.data,Object(q.a)({},t.profile.id,de()(t.profile)))})}return e}));var me=n("q1tI"),ge=n.n(me),be=n("jfjY"),he=n.n(be),ve=n("2mql"),xe=n.n(ve),ye=n("lTCR"),we=n.n(ye),ke=n("ANjH"),je=n("nOHt"),Oe=n.n(je),Ee=n("54jN");function _e(e){return{type:"SET_ACTIVE_REPL_ID",replId:e.replId}}var Ne=n("Gbtx"),Se=n("ArsQ"),Ce=n("xk4V"),Pe=n.n(Ce),Ie=n("8eab"),Ae=n("0gYX"),Re=n.n(Ae),Te=n("nGMS");function Me(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Me(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var De=n("/MKj"),ze=n("G5Ub"),Fe=n("1Sre"),Ue=n("FX4h"),He=n("/3ys");function Be(e){return function(t,n){if(n().user.userInfo.isLoggedIn)return Object(ze.b)("/data/tours/".concat(e));var r=He.a.get(Ke(e));return K.a.resolve({seen:!!r})}}function Ve(e){return function(t,n){return n().user.userInfo.isLoggedIn?Object(ze.d)("/data/tours/seen",{name:e}):(He.a.set(Ke(e),!0),K.a.resolve())}}var Ke=function(e){return"replit_tour_".concat(e)},Ge=n("roZX"),qe=n("9PDL"),We=n("g7Gn"),Ye=n("3gM7"),Xe=n("zgDP"),$e=n("BjlX"),Qe=n("lixr"),Je=n("UO7Q"),Ze=n("Qbrf"),et=n("PMgc"),tt=n("qNsG"),nt=n("3TIX"),rt=n("h7rM"),at=n("OQjE"),it=n("h2o0"),ot=n("Hrer"),st=n("uMB5"),lt=n("TSYQ"),ct=n.n(lt),ut=n("wAr2"),dt=n("tZOq"),pt=n("K3MS"),ft=n.n(pt),mt=n("Vbf+"),gt=n.n(mt),bt=n("C6q9"),ht=n("7FmB"),vt=n.n(ht),xt=n("PzFc"),yt=n("2wLS"),wt=n("YFqc"),kt=n.n(wt),jt=n("tcye"),Ot=n("I7/E");function Et(){var e=Object(Ot.a)().presence,t=me.useState(e.getActiveUsers()),n=Object(G.a)(t,2),r=n[0],a=n[1];return me.useEffect((function(){return a(e.getActiveUsers()),e.onActiveUsersChange((function(e){return a(e)}))}),[e]),r}var _t=n("5QjX"),Nt=ge.a.createElement,St=function(e){var t=e.username,n=e.id,r=e.image,a=e.color;return Nt("div",{"aria-label":t,"data-microtip-position":"bottom",role:"tooltip",key:n,className:oe.a.dynamic([["2618977678",[a,a]]])+" avatar-wrapper"},r?Nt("img",{title:t,src:r,alt:"avatar for ".concat(t),className:oe.a.dynamic([["2618977678",[a,a]]])+" avatar"}):Nt("div",{title:t,className:oe.a.dynamic([["2618977678",[a,a]]])+" avatar placeholder"},t.charAt(0).toUpperCase()),Nt(oe.a,{id:"2618977678",dynamic:[a,a]},[".avatar-wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:var(--padding-size-medium);}",".avatar.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:50%;width:35px;height:35px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;border:2px solid ".concat(a,";object-fit:cover;}"),".avatar.placeholder.__jsx-style-dynamic-selector{font-size:16px;background-color:".concat(a,";color:var(--color-white);}"),".avatar.__jsx-style-dynamic-selector:hover{-webkit-filter:brightness(95%);filter:brightness(95%);box-shadow:0 0px 5px 0px var(--color-black-16);}"]))},Ct=function(e,t){return Nt("div",{className:oe.a.dynamic([["2047701884",[Te.BREAKPOINTS.mobileMax+100]]])+" multiplayer-users-container"},function(e,t){return e.length>t?Nt("div",{className:"jsx-4012618756 user-limit"},"+ ",e.length-t,Nt(oe.a,{id:"4012618756"},[".user-limit.jsx-4012618756{color:var(--color-foreground-1);font-size:16px;}"])):null}(e,3),e.length?e.slice(0,3).map((function(e){return Nt(St,{id:e.id,username:e.username,key:e.id,image:e.image,color:t[e.id]})})):null,Nt(oe.a,{id:"2047701884",dynamic:[Te.BREAKPOINTS.mobileMax+100]},[".multiplayer-users-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 var(--padding-size-medium);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","@media only screen and (max-width:".concat(Te.BREAKPOINTS.mobileMax+100,"px){.multiplayer-users-container.__jsx-style-dynamic-selector{display:none;}}")]))},Pt=function(e){var t=Object(dt.wd)({variables:{ids:e.users.map((function(e){return e.id}))},ssr:!1,skip:!e.users.length}),n=t.data,r=(t.loading,t.error,e.users.reduce((function(e,t){return e[t.id]=t.color,e}),{}));if(n&&n.currentUser){var a=n.usersByIds,i=n.currentUser,o=a.filter((function(e){return e.id!==i.id}));return Ct(o,r)}return null},It=n("W27C"),At=n("nArr"),Rt=n.n(At),Tt=n("W/wR"),Mt=n("vV95"),Lt=me.createElement;function Dt(e){var t=e.user;return Lt(me.Fragment,null,t?Lt(kt.a,Object(It.c)(t),Lt("a",{onClick:function(e){e.stopPropagation()},className:oe.a.dynamic([["3467627074",[Te.BREAKPOINTS.tabletMax]]])+" icon"},Lt(Ne.a,{url:t.image,size:"inherit"}))):Lt("div",{className:oe.a.dynamic([["3467627074",[Te.BREAKPOINTS.tabletMax]]])+" icon"},Lt(Ne.a,{size:"inherit"})),Lt(oe.a,{id:"3467627074",dynamic:[Te.BREAKPOINTS.tabletMax]},[".icon.__jsx-style-dynamic-selector{display:none;width:32px;height:32px;}","@media screen and (min-width:".concat(Te.BREAKPOINTS.tabletMax,"px){.icon.__jsx-style-dynamic-selector{display:block;}}")]))}function zt(e){var t=e.repl,n=e.refetch,r=e.onUpdateRepl,a=e.forkRepl,i=me.useState(!1),o=Object(G.a)(i,2),s=o[0],l=o[1];return Lt("div",{onClick:function(){return l(!s)},className:"jsx-2070316928 repl-info"},Lt(Dt,{user:t.user}),Lt(Tt.a,{repl:t}),Lt(Rt.a,null),s?Lt(me.Fragment,null,Lt("div",{onClick:function(e){return e.stopPropagation()},className:"jsx-2070316928 click-blocker"}),Lt(Mt.a,{formOnly:[dt.z.Submit,dt.z.PublishTemplate,dt.z.EditTemplate].includes(t.workspaceCta),repl:t,onClick:function(e){return e.stopPropagation()},onClose:function(){return l(!s)},refetch:function(){n()},setLoading:function(){return null},onUpdate:r,forkRepl:function(){l(!1),a()}})):null,Lt(oe.a,{id:"2070316928"},[".repl-info.jsx-2070316928{cursor:pointer;display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-1);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--spacing-half);color:var(--color-foreground-2);border-radius:var(--border-radius-1);border:1px solid transparent;position:relative;}",".repl-info.jsx-2070316928:hover{border:1px solid var(--color-control-1);}",".click-blocker.jsx-2070316928{position:absolute;position:absolute;top:0;-webkit-let:0;-moz-let:0;-ms-let:0;let:0;width:100%;height:100%;}"]))}var Ft=n("nnlM"),Ut=n("A3V5"),Ht=n.n(Ut),Bt=me.createElement;function Vt(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Vt(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Gt={top:{bottom:"100%",left:"50%",marginLeft:"-5px"},right:{top:"50%",left:"100%",marginTop:"-5px"},bottom:{top:"100%",left:"50%",marginLeft:"-5px"},left:{top:"50%",right:"100%",marginTop:"-5px"}},qt=function(e){var t=e.children,n=e.sawTour,r=e.arrowPosition,a=void 0===r?"bottom":r;return Bt("div",{onClick:function(e){return e.stopPropagation()},className:"jsx-2551691964 tour-tooltip-container"},Bt("div",{className:"jsx-2551691964 tour-tooltip-content"},t),Bt("div",{className:"jsx-2551691964 tour-tooltip-actions"},Bt(vt.a,{filled:!0,onClick:n},"Got it")),Bt(Ht.a,{direction:a,size:10,style:Kt({display:"block",position:"absolute"},Gt[a]),color:"var(--color-background-1)"}),Bt(oe.a,{id:"2551691964"},[".tour-tooltip-container.jsx-2551691964{color:var(--color-foreground-1);background-color:var(--color-background-1);padding:10px;max-width:200px;border-radius:5px;}",".tour-tooltip-container.jsx-2551691964:hover{cursor:default;}",".tour-tooltip-actions.jsx-2551691964{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".tour-tooltip-content.jsx-2551691964{font-size:16px;line-height:20px;padding:0 5px;margin-bottom:5px;}"]))},Wt=n("0F/J"),Yt=n("9vYF"),Xt=n("AT/M"),$t=n("0dmp"),Qt=n("eISJ"),Jt=n.n(Qt),Zt=n("Soul"),en=n.n(Zt);function tn(){var e=Object(ne.a)(["\n  mutation deleteMultiplayerEmailInvite($replId: String!, $email: String!) {\n    deleteMultiplayerEmailInvite(replId: $replId, email: $email) {\n      email\n      replId\n    }\n  }\n"]);return tn=function(){return e},e}function nn(){var e=Object(ne.a)(["\n  mutation createMultiplayerEmailInvite(\n    $replId: String!\n    $email: String!\n    $type: String!\n  ) {\n    createMultiplayerEmailInvite(replId: $replId, email: $email, type: $type) {\n      email\n      type\n    }\n  }\n"]);return nn=function(){return e},e}function rn(){var e=Object(ne.a)(["\n  mutation refreshMultiplayerInviteLink($replId: String!) {\n    refreshMultiplayerInviteLink(replId: $replId) {\n      id\n    }\n  }\n"]);return rn=function(){return e},e}function an(){var e=Object(ne.a)(["\n  mutation removeMultiplayerUser($username: String!, $replId: String!) {\n    removeMultiplayerUser(username: $username, replId: $replId) {\n      id\n      type\n      repl {\n        id\n        permissions {\n          id\n        }\n      }\n      user {\n        id\n        username\n      }\n    }\n  }\n"]);return an=function(){return e},e}function on(){var e=Object(ne.a)(["\n  mutation addMultiplayerUser(\n    $username: String!\n    $replId: String!\n    $type: String!\n  ) {\n    addMultiplayerUser(username: $username, replId: $replId, type: $type) {\n      id\n      timeCreated\n      type\n      repl {\n        id\n        permissions {\n          id\n        }\n      }\n      user {\n        id\n        username\n        image\n      }\n    }\n  }\n"]);return on=function(){return e},e}var sn=we()(on()),ln=we()(an()),cn=we()(rn()),un=we()(nn()),dn=we()(tn());function pn(){var e=Object(ne.a)(["\n  query user($id: Int!) {\n    user(id: $id) {\n      id\n      username\n      image\n    }\n  }\n"]);return pn=function(){return e},e}function fn(){var e=Object(ne.a)(["\n  query usernameSearch($query: String!, $limit: Int) {\n    usernameSearch(query: $query, limit: $limit) {\n      id\n      firstName\n      lastName\n      username\n      image\n    }\n  }\n"]);return fn=function(){return e},e}function mn(){var e=Object(ne.a)(["\n  query multiplayerEmailInvites($replId: String!) {\n    multiplayerEmailInvites(replId: $replId) {\n      email\n      type\n    }\n  }\n"]);return mn=function(){return e},e}function gn(){var e=Object(ne.a)(["\n  query multiplayerInviteLink($replId: String!) {\n    multiplayerInviteLink(replId: $replId)\n  }\n"]);return gn=function(){return e},e}function bn(){var e=Object(ne.a)(["\n  query replMultiplayerPermissionsByRepl($replId: String!) {\n    replMultiplayerPermissionsByRepl(replId: $replId) {\n      id\n      timeCreated\n      type\n      user {\n        id\n        username\n        image\n      }\n    }\n  }\n"]);return bn=function(){return e},e}var hn=we()(bn()),vn=we()(gn()),xn=we()(mn()),yn=we()(fn()),wn=(we()(pn()),ge.a.createElement),kn=Object($t.a)(vn,{name:"inviteLink",options:function(e){return{variables:{replId:e.replId}}}}),jn=Object($t.a)(cn,{name:"refreshLink"}),On=function(e){function t(){var e,n;Object(X.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(Q.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(a))),Object(q.a)(Object(Xt.a)(n),"state",{copied:!1}),Object(q.a)(Object(Xt.a)(n),"input",ge.a.createRef()),Object(q.a)(Object(Xt.a)(n),"onSelect",(function(){var e=Object(Xt.a)(n).input;e&&e.current&&e.current.select()})),Object(q.a)(Object(Xt.a)(n),"onCopy",(function(){n.onSelect(),document.execCommand("copy"),n.setState({copied:!0}),setTimeout((function(){return n.setState({copied:!1})}),2e3)})),Object(q.a)(Object(Xt.a)(n),"onRefresh",(function(){var e,t,r,a,i,o;return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.props,t=e.inviteLink,r=e.refreshLink,a=e.showError,i=e.showConfirm,o=e.replId,s.prev=1,s.next=4,Y.a.awrap(r({variables:{replId:o}}));case 4:return s.next=6,Y.a.awrap(t.refetch());case 6:s.next=11;break;case 8:return s.prev=8,s.t0=s.catch(1),s.abrupt("return",a(s.t0.message));case 11:i("Link refreshed"),n.onSelect(),Object(Xe.track)(Xe.events.MP2_REFRESHED_LINK,{replId:o});case 14:case"end":return s.stop()}}),null,null,[[1,8]])})),n}return Object(Z.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props.inviteLink,t=e.loading?"loading...":window.location.origin+(e.multiplayerInviteLink||"Error: please contact support");return wn("div",{className:"jsx-3330467730 multiplayer-link-wrapper"},wn("div",{className:"jsx-3330467730 header info"},"Or, invite someone with a join link"),wn("div",{className:"jsx-3330467730 multiplayer-link"},wn(en.a,{readOnly:!0,ref:this.input,style:{height:"42px",borderRight:"none !important",cursor:"auto"},onChange:function(){return null},value:t,onClick:this.onSelect}),!e.loading&&wn(ge.a.Fragment,null,wn("div",{className:"jsx-3330467730 spacer"}),wn(vt.a,{onClick:this.onCopy},"Copy"))),wn("div",{className:"jsx-3330467730 regenerate-link"},wn("span",{className:"jsx-3330467730 info"},"Only one join link works at a time.")," ",wn("span",{className:"jsx-3330467730"},wn("a",{onClick:this.onRefresh,className:"jsx-3330467730"},"Generate a new one."))),wn(oe.a,{id:"3330467730"},[".multiplayer-link-wrapper.jsx-3330467730{width:100%;margin:0 auto;padding:var(--padding-size-large) 0;}",".header.jsx-3330467730{padding:var(--padding-size-medium) 0;}",".info.jsx-3330467730{opacity:60%;font-size:14px;}",".multiplayer-link.jsx-3330467730{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;}",".regenerate-link.jsx-3330467730{padding-top:var(--padding-size-medium);font-size:14px;}",".spacer.jsx-3330467730{width:var(--spacing-1);}"]))}}]),t}(ge.a.Component),En=Jt()(kn,jn)(On),_n=n("XLFt"),Nn=n("lPwP"),Sn=n.n(Nn),Cn=n("GHe4"),Pn=me.createElement,In=function(){return Pn("svg",{version:"1.1",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",className:"jsx-407751284 email-icon-svg"},Pn(oe.a,{id:"407751284"},[".email-icon-svg{width:100%;height:100%;}",".email-icon-svg .st0{fill:currentColor;}"]),Pn("g",{className:"jsx-407751284"},Pn("g",{transform:"translate(78.000000, 232.000000)",className:"jsx-407751284"},Pn("path",{d:"M-22.5-213.2l-1.9-1.9l-17.6,17.6c-2.2,2.2-5.9,2.2-8.1,0L-67.7-215l-1.9,1.9l13.1,13.1     l-13.1,13.1l1.9,1.9l13.1-13.1l2.6,2.6c1.6,1.6,3.7,2.5,5.9,2.5s4.3-0.9,5.9-2.5l2.6-2.6l13.1,13.1l1.9-1.9l-13.1-13.1     L-22.5-213.2",className:"jsx-407751284 st0"}),Pn("path",{d:"M-26.2-181.6h-39.5c-2.3,0-4.2-1.9-4.2-4.2v-28.2c0-2.3,1.9-4.2,4.2-4.2h39.5     c2.3,0,4.2,1.9,4.2,4.2v28.2C-22-183.5-23.9-181.6-26.2-181.6L-26.2-181.6z M-65.8-215.5c-0.8,0-1.4,0.6-1.4,1.4v28.2     c0,0.8,0.6,1.4,1.4,1.4h39.5c0.8,0,1.4-0.6,1.4-1.4v-28.2c0-0.8-0.6-1.4-1.4-1.4H-65.8L-65.8-215.5z",className:"jsx-407751284 st0"}))))},An=n("LIj+"),Rn=n("VoYB"),Tn=ge.a.createElement,Mn={rw:"can edit",r:"read only"};var Ln,Dn=function(e){var t=Object(Rn.a)(),n=t.showError,r=t.showConfirm,a=function(){var t,a,i;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.data,a=t.user,i=t.type,o.prev=1,o.next=4,Y.a.awrap(e.onUndoRemoveUser({username:a.username,type:i}));case 4:o.next=9;break;case 6:return o.prev=6,o.t0=o.catch(1),o.abrupt("return",n(o.t0.message));case 9:r("@".concat(a.username," restored")),Object(Xe.track)(Xe.events.MP2_UNDO_REMOVE_PERMISSION,{replId:e.replId,username:a.username});case 11:case"end":return o.stop()}}),null,null,[[1,6]])},i=function(){var t,i;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.data,i=t.user,o.prev=1,o.next=4,Y.a.awrap(e.onRemoveUser(i.username));case 4:o.next=9;break;case 6:return o.prev=6,o.t0=o.catch(1),o.abrupt("return",n(o.t0.message));case 9:r(Tn("div",{className:"jsx-3326758730"},"@",i.username," removed.",Tn("a",{onClick:a,className:"jsx-3326758730"},"Undo"),Tn(oe.a,{id:"3326758730"},["a.jsx-3326758730{margin-left:5px;}"])));case 10:case"end":return o.stop()}}),null,null,[[1,6]])},o=e.type,s=e.data;return Tn("div",{className:"jsx-3920621230 permission-list-item"},function(t){var n=t.type,r=t.dataIn;if("perm"===n){var a,o=r;return a="".concat(o.user.username," (").concat(Mn[o.type],")"),Tn(ge.a.Fragment,null,Tn("div",{className:"user-info"},Tn("img",{className:"profile-picture",src:o.user.image}),Tn("div",{className:"user"},a)),e.isOwner&&Tn("div",{className:"close-icon","aria-label":"remove","data-microtip-position":"left",role:"tooltip",onClick:i},Tn(An.a,null)))}if("invite"===n){var s=r,l="".concat(s.email," (pending)");return Tn(ge.a.Fragment,null,Tn("div",{className:"user-info"},Tn("div",{className:"jsx-2954923744 profile-picture"},Tn(In,null),Tn(oe.a,{id:"2954923744"},[".profile-picture.jsx-2954923744{background:#46aedd;color:white;padding:5px;}"])),Tn("div",{className:"user"},l)),Tn("div",{className:"close-icon","aria-label":"remove","data-microtip-position":"left",role:"tooltip",onClick:function(){return Y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.onDeleteEmailInvite(s.email));case 1:case"end":return t.stop()}}))}},Tn(An.a,null)))}return null}({type:o,dataIn:s}),Tn(oe.a,{id:"3920621230"},[".permission-list-item.jsx-3920621230{padding:var(--padding-size-medium) var(--padding-size-large);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".permission-list-item.jsx-3920621230 .user-info{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".permission-list-item.jsx-3920621230 .profile-picture{width:30px;height:30px;border-radius:15px;margin-right:10px;object-fit:cover;background:white;}",".permission-list-item.jsx-3920621230 .close-icon{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:12px;height:12px;cursor:pointer;}"]))},zn=n("M85P"),Fn=n("9/5/"),Un=n.n(Fn),Hn=n("UWUU"),Bn=ge.a.createElement,Vn=Object($t.a)(yn,{name:"usernames",options:function(){return{variables:{query:""}}}})(function(e){function t(){var e,n;Object(X.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(Q.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(a))),Object(q.a)(Object(Xt.a)(n),"state",{isOpen:!1,username:"",loading:!1}),Object(q.a)(Object(Xt.a)(n),"searchUsernames",Un()((function(){var e,t;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.props.showError,"@"===(t=n.state.username.trim())[0]&&(t=t.slice(1)),r.prev=3,r.next=6,Y.a.awrap(n.props.usernames.refetch({query:t,limit:5}));case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(3),e(r.t0.message),r.abrupt("return",n.setState({loading:!1}));case 12:n.setState({loading:!1});case 13:case"end":return r.stop()}}),null,null,[[3,8]])}),250)),Object(q.a)(Object(Xt.a)(n),"submitInvite",(function(){var e;return Y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=n.state.username).trim().length){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,Y.a.awrap(n.props.submitInvite(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),n.setState({loading:!1}),t.abrupt("return");case 12:n.setState({username:"",isOpen:!1,loading:!1});case 13:case"end":return t.stop()}}),null,null,[[3,8]])})),Object(q.a)(Object(Xt.a)(n),"onKeyDown",(function(e){13===e.keyCode&&n.submitInvite()})),Object(q.a)(Object(Xt.a)(n),"onInputChange",(function(e){n.setState({username:e.currentTarget.value,loading:!0}),n.searchUsernames()})),Object(q.a)(Object(Xt.a)(n),"onUserSelect",(function(e){e&&n.setState({username:e.username,isOpen:!1})})),Object(q.a)(Object(Xt.a)(n),"onFocus",(function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({isOpen:!0}),n.state.username&&(n.setState({loading:!0}),n.searchUsernames());case 2:case"end":return e.stop()}}))})),Object(q.a)(Object(Xt.a)(n),"renderUsernames",(function(e){var t=e.getItemProps,r=e.highlightedIndex,a=n.props.usernames.usernameSearch,i=n.props,o=i.theme,s=i.existingUsernames;return n.state.loading?Bn("div",{className:"jsx-2994659489 dropdown-item"},Bn("div",{className:"jsx-2994659489 loading-wrapper"},Bn(_n.a,null)),Bn(oe.a,{id:"2994659489"},[".loading-wrapper.jsx-2994659489{width:20px;height:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 auto;}"])):n.state.username?a.length?a.map((function(e,n){var a="";e.firstName?a=e.firstName+(e.lastName?" ".concat(e.lastName):""):e.lastName&&(a=e.lastName);var i=s.includes(e.username);return Bn("div",Object(P.a)({key:"username-select-".concat(e.username)},t({item:e}),{className:oe.a.dynamic([["3790967852",[o.dropdown.hoverBackground,o.base.boldForeground]]])+" "+(ct()("dropdown-item","selectable",{highlighted:n===r})||"")}),i&&Bn("div",{className:oe.a.dynamic([["3790967852",[o.dropdown.hoverBackground,o.base.boldForeground]]])+" check-icon-wrapper"},Bn(Hn.Checkmark,null)),Bn("img",{src:e.image,className:oe.a.dynamic([["3790967852",[o.dropdown.hoverBackground,o.base.boldForeground]]])}),e.username," ",a&&Bn("span",{className:oe.a.dynamic([["3790967852",[o.dropdown.hoverBackground,o.base.boldForeground]]])+" small"},"(",a,")"),Bn(oe.a,{id:"3790967852",dynamic:[o.dropdown.hoverBackground,o.base.boldForeground]},["img.__jsx-style-dynamic-selector{width:20px;min-width:20px;height:20px;border-radius:10px;margin-right:10px;object-fit:cover;}",".selectable.__jsx-style-dynamic-selector{cursor:pointer;}",".selectable.__jsx-style-dynamic-selector:hover,.highlighted.__jsx-style-dynamic-selector{background:".concat(o.dropdown.hoverBackground,";}"),".dropdown-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;white-space:nowrap;position:relative;}",".small.__jsx-style-dynamic-selector{margin-left:4px;font-size:12px;overflow:hidden;text-overflow:ellipsis;}",".check-icon-wrapper.__jsx-style-dynamic-selector{position:absolute;width:14px;height:14px;top:calc(50% - 7px);left:3px;color:".concat(o.base.boldForeground,";}")]))})):Bn("div",{className:"dropdown-item"},"No users found from search"):null})),n}return Object(Z.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.theme,a=n.addingUser,i=n.loadingPermissions,o=this.state,s=o.username,l=o.isOpen,c=r,u=!!s.match(/.+@.+/);return e=a?Bn(_n.a,{style:{height:"15px "}}):"Invite",Bn("div",{className:oe.a.dynamic([["391986248",[r.confirmButton.disabledBackground,r.confirmButton.disabledForeground,r.confirmButton.disabledBorder,c.dropdown.foreground,c.dropdown.background,c.dropdown.border,r.dropdown.background,r.dropdown.border,s?"block":"none",c.dropdown.border]]])+" add-permission"},Bn(zn.default,{isOpen:l&&!u,onOuterClick:function(){return t.setState({isOpen:!1})},onChange:this.onUserSelect,itemToString:function(e){return e?e.username:""}},(function(e){var n=e.getInputProps,a=e.getItemProps,o=e.getMenuProps,l=e.isOpen,u=e.highlightedIndex;return Bn("div",{className:oe.a.dynamic([["391986248",[r.confirmButton.disabledBackground,r.confirmButton.disabledForeground,r.confirmButton.disabledBorder,c.dropdown.foreground,c.dropdown.background,c.dropdown.border,r.dropdown.background,r.dropdown.border,s?"block":"none",c.dropdown.border]]])+" dropdown"},Bn(en.a,n({disabled:i,value:s,onChange:t.onInputChange,placeholder:"Search by username or invite by email",autoComplete:"off",onFocus:t.onFocus,style:{height:"44px",maxHeight:"46px",border:"none"},theme:r.themeMetaData.replitBaseTheme,onKeyDown:function(e){l||t.onKeyDown(e)}})),l&&Bn("div",Object(P.a)({},o(),{className:oe.a.dynamic([["391986248",[r.confirmButton.disabledBackground,r.confirmButton.disabledForeground,r.confirmButton.disabledBorder,c.dropdown.foreground,c.dropdown.background,c.dropdown.border,r.dropdown.background,r.dropdown.border,s?"block":"none",c.dropdown.border]]])+" opened-dropdown"}),t.renderUsernames({getItemProps:a,highlightedIndex:u})))})),Bn("div",{className:oe.a.dynamic([["391986248",[r.confirmButton.disabledBackground,r.confirmButton.disabledForeground,r.confirmButton.disabledBorder,c.dropdown.foreground,c.dropdown.background,c.dropdown.border,r.dropdown.background,r.dropdown.border,s?"block":"none",c.dropdown.border]]])+" spacer"}),Bn(vt.a,{color:"primary",filled:!0,className:"cta",onClick:a?void 0:this.submitInvite,disabled:i||!s},e),Bn(oe.a,{id:"391986248",dynamic:[r.confirmButton.disabledBackground,r.confirmButton.disabledForeground,r.confirmButton.disabledBorder,c.dropdown.foreground,c.dropdown.background,c.dropdown.border,r.dropdown.background,r.dropdown.border,s?"block":"none",c.dropdown.border]},[".add-permission.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:100%;}",".add-permission.__jsx-style-dynamic-selector .disabled-invite{background:".concat(r.confirmButton.disabledBackground," !important;color:").concat(r.confirmButton.disabledForeground," !important;border:1px solid ").concat(r.confirmButton.disabledBorder," !important;cursor:not-allowed !important;}"),".add-permission.__jsx-style-dynamic-selector .dropdown.__jsx-style-dynamic-selector{position:relative;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;border-radius:2.5px;color:".concat(c.dropdown.foreground,";background:").concat(c.dropdown.background,";border:1px solid ").concat(c.dropdown.border,";z-index:5;}"),".add-permission.__jsx-style-dynamic-selector .opened-dropdown.__jsx-style-dynamic-selector{background:".concat(r.dropdown.background,";border-top:1px solid ").concat(r.dropdown.border,";}"),".opened-dropdown.__jsx-style-dynamic-selector{position:absolute;display:".concat(s?"block":"none",";margin:0;width:100%;}"),".add-permission.__jsx-style-dynamic-selector .dropdown-item{height:30px;padding:5px;padding-left:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;border:1px solid ".concat(c.dropdown.border,";}"),".spacer.__jsx-style-dynamic-selector{width:var(--spacing-1);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}"]))}}]),t}(ge.a.Component)),Kn=ge.a.createElement,Gn=Object($t.a)(hn,{name:"replMultiplayerPermissions",options:function(e){return{variables:{replId:e.replId},fetchPolicy:"network-only"}}}),qn=Object($t.a)(xn,{name:"emailInvites",options:function(e){return{variables:{replId:e.replId},fetchPolicy:"network-only"}}}),Wn=Object($t.a)(sn,{name:"addMultiplayerUser"}),Yn=Object($t.a)(ln,{name:"removeMultiplayerUser"}),Xn=Object($t.a)(un,{name:"createEmailInvite"}),$n=Object($t.a)(dn,{name:"deleteEmailInvite"}),Qn=function(e){function t(){var e,n;Object(X.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(Q.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(a))),Object(q.a)(Object(Xt.a)(n),"pollIntervalId",null),Object(q.a)(Object(Xt.a)(n),"state",{addingUser:!1,loadingOverride:!1,justRefreshed:!1,shouldRefresh:!1,showUpgradeModal:!1,upgradeModalMessage:""}),Object(q.a)(Object(Xt.a)(n),"submitInvite",(function(e){var t,r,a,i,o,s,l;return Y.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=n.props,r=t.showConfirm,a=t.showError,i=t.loadChatIntoLayout,o=t.wid,s=t.replId,n.setState({addingUser:!0}),c.prev=2,!e.match(/.+@.+\..+/)){c.next=8;break}return c.next=6,Y.a.awrap(n.createEmailInvite({email:e,type:"rw"}));case 6:c.next=10;break;case 8:return c.next=10,Y.a.awrap(n.addMultiplayerUser({username:e,type:"rw"}));case 10:c.next=17;break;case 12:throw c.prev=12,c.t0=c.catch(2),c.t0.message.includes("ERROR_OVERLIMIT")?n.setState({showUpgradeModal:!0,upgradeModalMessage:"Upgrade for unlimited multiplayer collaborators"}):a(c.t0.message),n.setState({addingUser:!1}),c.t0;case 17:return e.match(/.+@.+\..+/)?(l="Invited ".concat(e," via email"),Object(Xe.track)(Xe.events.MP2_INVITED_BY_EMAIL,{replId:s,email:e})):(l="Added @".concat(e),i({wid:o}),Object(Xe.track)(Xe.events.MP2_INVITED_BY_USERNAME,{replId:s,username:e})),n.setState({addingUser:!1}),r(l),c.next=22,Y.a.awrap(n.refetchAll());case 22:case"end":return c.stop()}}),null,null,[[2,12]])})),Object(q.a)(Object(Xt.a)(n),"deleteInvite",(function(e){var t,r,a;return Y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=n.props,r=t.removeMultiplayerUser,a=t.replId,i.next=3,Y.a.awrap(r({variables:{username:e,replId:a}}));case 3:return Object(Xe.track)(Xe.events.MP2_REMOVED_USER_PERMISSION,{replId:a,username:e}),i.next=6,Y.a.awrap(n.refetchAll());case 6:case"end":return i.stop()}}))})),Object(q.a)(Object(Xt.a)(n),"addMultiplayerUser",(function(e){var t,r,a,i,o;return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.username,r=e.type,a=n.props,i=a.addMultiplayerUser,o=a.replMultiplayerPermissions,s.next=4,Y.a.awrap(i({variables:{username:t,replId:n.props.replId,type:r}}));case 4:return s.next=6,Y.a.awrap(o.refetch());case 6:case"end":return s.stop()}}))})),Object(q.a)(Object(Xt.a)(n),"createEmailInvite",(function(e){var t,r,a;return Y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.email,r=e.type,a=n.props.createEmailInvite,i.next=4,Y.a.awrap(a({variables:{email:t,replId:n.props.replId,type:r}}));case 4:case"end":return i.stop()}}))})),Object(q.a)(Object(Xt.a)(n),"deleteEmailInvite",(function(e){var t,r,a;return Y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=n.props,r=t.deleteEmailInvite,a=t.replId,i.next=3,Y.a.awrap(r({variables:{email:e,replId:a}}));case 3:return Object(Xe.track)(Xe.events.MP2_REMOVED_EMAIL_INVITE,{replId:a,email:e}),i.next=6,Y.a.awrap(n.props.emailInvites.refetch());case 6:case"end":return i.stop()}}))})),Object(q.a)(Object(Xt.a)(n),"refetchAll",(function(){var e,t,r,a,i,o,s,l=arguments;return Y.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e=l.length>0&&void 0!==l[0]?l[0]:{},t=e.userTriggered,n.setState({loadingOverride:!0}),r=n.props,a=r.replMultiplayerPermissions,i=r.emailInvites,o=r.replId,a.refetch&&i.refetch){c.next=5;break}return c.abrupt("return");case 5:return s=new K.a((function(e){return setTimeout(e,500)})),c.next=8,Y.a.awrap(K.a.all([a.refetch(),i.refetch(),s]));case 8:t?(n.setState({justRefreshed:!0,shouldRefresh:!1,loadingOverride:!1}),setTimeout((function(){return n.setState({justRefreshed:!1})}),1e3)):n.setState({shouldRefresh:!1,loadingOverride:!1}),Object(Xe.track)(Xe.events.MP2_REFRESHED_PERMISSIONS,{replId:o});case 10:case"end":return c.stop()}}))})),Object(q.a)(Object(Xt.a)(n),"hideModal",(function(){return n.setState({showUpgradeModal:!1})})),Object(q.a)(Object(Xt.a)(n),"hideUpgradeModal",(function(){n.setState({showUpgradeModal:!1,upgradeModalMessage:""})})),n}return Object(Z.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.pollIntervalId=setInterval((function(){var t,n,r,a;return Y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.state.shouldRefresh){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Y.a.awrap(Object(ze.d)("/graphql",{query:"\nquery pollPermissionsByRepl($replId: String!) {\n  replMultiplayerPermissionsByRepl(replId: $replId) {\n    id\n  }\n}\n",variables:{replId:e.props.replId}}));case 4:if(t=i.sent,n=t.data,r=e.props.replMultiplayerPermissions,n&&n.replMultiplayerPermissionsByRepl&&!r.loading&&r.replMultiplayerPermissionsByRepl){i.next=9;break}return i.abrupt("return");case 9:(a=function(e){return ae()(e.map((function(e){return e.id})))})(r.replMultiplayerPermissionsByRepl)!==a(n.replMultiplayerPermissionsByRepl)&&e.setState({shouldRefresh:!0});case 11:case"end":return i.stop()}}))}),4e3)}},{key:"componentWillUnmount",value:function(){this.pollIntervalId&&clearInterval(this.pollIntervalId)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.theme,a=n.replMultiplayerPermissions,i=n.emailInvites,o=n.isSubscribed,s=n.isOwner,l=n.replId,c=this.state,u=c.addingUser,d=c.loadingOverride,p=(a.replMultiplayerPermissionsByRepl||[]).filter((function(e){return e.user})),f=i.multiplayerEmailInvites||[],m=d||a.loading||i.loading,g={onRemoveUser:this.deleteInvite,onUndoRemoveUser:this.addMultiplayerUser,onDeleteEmailInvite:this.deleteEmailInvite,theme:r,replId:l},b="";return b=o?"".concat(p.length," multiplayer").concat(1===p.length?"":"s"):"".concat(p.length,"/").concat(50," multiplayers"),e=m?Kn("div",{className:"jsx-3652972900 loading-contents"},Kn(_n.a,{style:{width:"150px"}}),Kn(oe.a,{id:"3652972900"},[".loading-contents.jsx-3652972900{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"])):m||!p.length&&!f.length?Kn("div",{className:"jsx-2466710466 empty-list"},Kn("div",{className:"jsx-2466710466"},"No one is here"),Kn("img",{src:"/public/images/rainy-computer.png",className:"jsx-2466710466"}),Kn(oe.a,{id:"2466710466"},[".empty-list.jsx-2466710466{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:70%;margin:0 auto;}",".empty-list.jsx-2466710466 img.jsx-2466710466{height:100%;opacity:60%;}"])):Kn(ge.a.Fragment,null,p.map((function(e){return Kn(Dn,Object(P.a)({key:"permission-"+e.user.username,type:"perm",data:e,isOwner:s},g))})),f.map((function(e){return Kn(Dn,Object(P.a)({key:"invite-"+e.email,type:"invite",data:e,isOwner:s},g))}))),Kn(ge.a.Fragment,null,Kn("div",{className:oe.a.dynamic([["2274075212",[r.modal.recessedBackground,r.modal.foreground]]])+" multiplayer-permissions-control"},s?Kn(Vn,{theme:r,addingUser:u,loadingPermissions:m,submitInvite:this.submitInvite,existingUsernames:p.map((function(e){return e.user.username})),showError:this.props.showError}):null,Kn("div",{className:oe.a.dynamic([["2274075212",[r.modal.recessedBackground,r.modal.foreground]]])+" shared-with-container"},Kn("div",{className:oe.a.dynamic([["2274075212",[r.modal.recessedBackground,r.modal.foreground]]])+" shared-with-label"},b,!o&&Kn("div",{className:oe.a.dynamic([["2274075212",[r.modal.recessedBackground,r.modal.foreground]]])+" icon-wrapper"},Kn("a",{onClick:function(){return t.setState({showUpgradeModal:!0})},"aria-label":"Click to upgrade for unlimited invites","data-microtip-position":"top",role:"tooltip",className:oe.a.dynamic([["2274075212",[r.modal.recessedBackground,r.modal.foreground]]])},Kn(Sn.a,null)))),!o&&Kn("div",{className:oe.a.dynamic([["2274075212",[r.modal.recessedBackground,r.modal.foreground]]])+" covid-message"},"Due to COVID-19, we're temporarily increasing the free multiplayer limit.")),Kn("div",{className:oe.a.dynamic([["2274075212",[r.modal.recessedBackground,r.modal.foreground]]])+" list-content"},e),Kn(oe.a,{id:"2274075212",dynamic:[r.modal.recessedBackground,r.modal.foreground]},[".multiplayer-permissions-control.__jsx-style-dynamic-selector{width:100%;margin:0 auto;position:relative;}",".covid-message.__jsx-style-dynamic-selector{font-size:14px;opacity:0.6;}",".shared-with-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:var(--padding-size-large) 0;}",".list-content.__jsx-style-dynamic-selector{height:200px;background:".concat(r.modal.recessedBackground,";overflow-y:auto;border-radius:2.5px;margin:padding:var(--padding-size-large) 0;}"),".icon-wrapper.__jsx-style-dynamic-selector{padding-left:var(--padding-size-small);}",".icon-wrapper.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector,.icon-wrapper.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:hover,.icon-wrapper.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:focus{color:".concat(r.modal.foreground,";border:none;outline:none;}"),".shared-with-label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:var(--padding-size-medium);}","@-webkit-keyframes spin-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes spin-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"])),Kn(Cn.a,{isOpen:this.state.showUpgradeModal,closeModal:this.hideUpgradeModal,reason:this.state.upgradeModalMessage,trackingInfo:{context:"workspace-multiplayer-header"}}))}}]),t}(ge.a.Component),Jn=Jt()(Gn,Wn,Yn,qn,Xn,$n)(Qn),Zn=n("b518"),er=n("NXve"),tr=n.n(er),nr=n("zqNW"),rr=n.n(nr),ar=n("Jaku"),ir=n("/otM"),or=n("4byT"),sr=ge.a.createElement;!function(e){e.Repl="repl",e.Embed="embed"}(Ln||(Ln={}));var lr=function(e){var t=e.active,n=e.tab,r=e.onClick,a=function(e){var t=e.active;return{styles:sr(oe.a,{id:"2347799603",dynamic:[t?"transparent":"var(--color-control-3) !important;"]},["button.__jsx-style-dynamic-selector{padding:15px 10px 15px;background-color:".concat(t?"transparent":"var(--color-control-3) !important;",";}")]),className:oe.a.dynamic([["2347799603",[t?"transparent":"var(--color-control-3) !important;"]]])}}({active:t});return sr(ar.a,{onClick:r,checked:t,center:!0,block:!0,className:a.className},sr("div",{className:"jsx-4244945835 content"},n),a.styles,sr(oe.a,{id:"4244945835"},[".content.jsx-4244945835{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".text.jsx-4244945835{margin-left:5px;}"]))};var cr=Object(De.c)((function(e){return{isSubscribed:!!e.user.userInfo.subscription}}),{showMessage:Se.b,loadChatIntoLayout:function(e){var t=e.wid;return function(e){e({type:"LOAD_CHAT_INTO_LAYOUT",wid:t})}}})((function(e){var t,n,r=e.theme,a=e.repl,i=e.isSubscribed,o=e.isOwner,s=e.isCollaborator,l=e.track,c=e.hideModal,u=e.initialTab,d=e.wid,p=e.onFork,f=ge.a.useState(u||"Invite"),m=Object(G.a)(f,2),g=m[0],b=m[1],h=ge.a.useState(!1),v=Object(G.a)(h,2),x=v[0],y=v[1],w=ge.a.useState(null),k=Object(G.a)(w,2),j=k[0],O=k[1],E={showConfirm:function(t){e.showMessage({content:t,type:"confirm",time:5e3})},showError:function(t){t.includes("ERROR_OVERLIMIT")||e.showMessage({content:Object(Zn.e)(t),type:"error",time:5e3})}};"undefined"===typeof location?(t="https:",n="repl.it"):(t=window.location.protocol,n=window.location.host);var _=ge.a.createRef(),N=ge.a.createRef(),S="".concat(t,"//").concat(n).concat(a.url),C='<iframe height="400px" width="100%" src="'.concat(t,"//").concat(n).concat(a.url,'?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>'),I=function(e){var t;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e===Ln.Repl?_:N)||!t.current){n.next=12;break}return n.prev=2,n.next=5,Y.a.awrap(window.navigator.clipboard.writeText(t.current.value));case 5:n.next=12;break;case 7:n.prev=7,n.t0=n.catch(2),t.current.focus(),t.current.select(),document.execCommand("copy");case 12:case"end":return n.stop()}}),null,null,[[2,7]])},A=function(e){y(!0),O(e)};return x?sr(ur,{hideModal:c,gotoPost:function(){if(!j)throw new Error("Expected submitted post in state");l("WENT_TO_REPL_TALK_POST_WS"),Oe.a.push({pathname:"/post",query:{id:j.id}},j.url)}}):sr(Yt.default,{onRequestClose:c,hideX:!0,noBorder:!0},sr("div",{className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])+" share-modal-container"},o||s?sr("div",{className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])+" tabs"},sr(lr,{tab:o?"Invite":"Share",active:"Invite"===g,onClick:function(){return b("Invite")}}),sr(lr,{tab:"Post",active:"Post"===g,onClick:function(){return b("Post")}})):null,sr("div",{className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])+" share-modal-content"},"Invite"===g?sr(ge.a.Fragment,null,o||s?sr(ge.a.Fragment,null,sr(Jn,Object(P.a)({theme:r,replId:a.id,isSubscribed:i},E,{loadChatIntoLayout:e.loadChatIntoLayout,isOwner:o,wid:d})),o?sr(En,Object(P.a)({theme:r,replId:a.id},E)):sr("div",{className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])},"Only the owner can invite people to multiplayer")):sr("div",{className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])},sr("div",{className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])+" fork-prompt"},"Fork this repl to start a multiplayer session!"),sr(vt.a,{filled:!0,Icon:function(){return sr("div",{style:{width:23,height:23},className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])},sr(Hn.Fork,null))},fullWidth:!0,onClick:p,color:"primary"},"Fork and Invite!")),sr("div",{className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])+" footer"},sr("input",{ref:_,readOnly:!0,value:S,className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])+" ghost-input"}),sr("input",{ref:N,readOnly:!0,value:C,className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])+" ghost-input"}),sr(vt.a,{Icon:rr.a,onClick:function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I(Ln.Repl));case 1:case"end":return e.stop()}}))},fullWidth:!0},"Copy repl link"),sr("div",{className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])+" spacer"}),sr(vt.a,{Icon:tr.a,onClick:function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I(Ln.Embed));case 1:case"end":return e.stop()}}))},fullWidth:!0},"Copy embed code"))):sr(dt.y,{variables:{slug:"share"}},(function(e){var t=e.data;return e.loading?sr(_n.a,{style:{margin:"0 auto"}}):t?sr(ir.a,{theme:r.themeMetaData.name,onCancel:c,autofocus:"title",onSubmit:A,repl:a,replChangable:!1,board:t.boardBySlug,boardChangable:!1}):sr("div",{className:oe.a.dynamic([["3183434892",["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]]])},"Oh no! We had a problem fetching post data.")}))),sr(oe.a,{id:"3183434892",dynamic:["Post"===g||o?"650px":s?"450px":"250px",r.modal.titleForeground,Te.BREAKPOINTS.mobileMax]},[".share-modal-container.__jsx-style-dynamic-selector{width:450px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-radius:5px;}",".tabs.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".ghost-input.__jsx-style-dynamic-selector{position:absolute;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:-100vh;left:-100vw;}",".share-modal-content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:calc(var(--padding-size-large) * 2);min-height:".concat("Post"===g||o?"650px":s?"450px":"250px",";}"),"h2.__jsx-style-dynamic-selector{color:".concat(r.modal.titleForeground,";font-size:18px;}"),".heading.__jsx-style-dynamic-selector{width:100%;margin:0 auto;}",".heading.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{margin-top:10px;font-size:14px;}",".fork-prompt.__jsx-style-dynamic-selector{text-align:center;padding-bottom:var(--spacing-1);}",".footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-top:var(--spacing-1);height:48px;width:100%;}",".spacer.__jsx-style-dynamic-selector{width:var(--spacing-1);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}","@media screen and (max-width:".concat(Te.BREAKPOINTS.mobileMax,"px){.share-modal-container.__jsx-style-dynamic-selector{width:300px;}.footer.__jsx-style-dynamic-selector{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}")])))})),ur=function(e){var t=e.hideModal,n=e.gotoPost;return sr(Yt.default,{onRequestClose:t},sr(or.a,{hideModal:t,onSubmit:n,submitLabel:"Go to Post",cancelLabel:"Continue Coding"},sr("div",null,"Post Created"),sr("div",null,"Your repl has been posted to talk. What would you like to do?")))},dr=n("tidx"),pr=n("hEBX"),fr=n("cR/2"),mr=me.createElement,gr=Re.a.getSeoAliases();function br(e){var t,n,r=e.language,a=Object(je.useRouter)(),i=Re.a.get(r),o=i.displayName,s=i.icon,l=gr[a.asPath];return l?(t=l.title,n=l.description):(t="".concat(o," Online Compiler, IDE, Editor, Interpreter and REPL"),n="Code, collaborate, compile, run, share, and deploy ".concat(o," online from your browser")),mr("div",{className:"jsx-3344639527 lang-meta-wrapper"},mr("div",{className:"jsx-3344639527 lang-meta-info-wrapper"},mr("h1",{className:"jsx-3344639527 lang-meta-repl-name"},mr("img",{alt:o,title:o,src:s,className:"jsx-3344639527 lang-meta-icon"}),t),mr("div",{className:"jsx-3344639527 lang-meta-desc-wrapper"},mr("h2",{className:"jsx-3344639527 lang-meta-desc"},n))),mr(oe.a,{id:"3344639527"},[".lang-meta-wrapper.jsx-3344639527{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;margin-left:15px;max-width:50vw;overflow:hidden;text-overflow:ellipsis;padding-top:15px;box-sizing:border-box;}",".lang-meta-info-wrapper.jsx-3344639527{overflow:hidden;text-align:left;line-height:18px;}",".lang-meta-repl-name.jsx-3344639527{font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;font-weight:normal;}",".lang-meta-desc-wrappeer.jsx-3344639527{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;max-width:100%;}",".lang-meta-desc.jsx-3344639527{font-size:12px;color:#787a7b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;}",".lang-meta-icon.jsx-3344639527{height:16px;vertical-align:middle;margin-right:4px;}"]))}var hr=n("8Vt8"),vr=n("gF3W"),xr=n("QQiT"),yr=n.n(xr),wr=n("vTpr"),kr=n.n(wr),jr=n("Jh0O"),Or=n.n(jr),Er=n("7MR+"),_r=n.n(Er),Nr=n("mKBA"),Sr=n.n(Nr),Cr=n("irrw"),Pr=n.n(Cr),Ir=n("dwxc"),Ar=n.n(Ir),Rr=n("tQ+K"),Tr=n("yKe8"),Mr=me.createElement;function Lr(e){var t,n=e.replId,r=Object(dt.kc)({variables:{replId:n}}),a=r.data,i=r.loading,o=Object(Rn.a)(),s=o.showConfirm,l=o.showError,c=me.useState(""),u=Object(G.a)(c,2),d=u[0],p=u[1],f=Object(dt.jc)({onError:function(e){return l(e.message)},onCompleted:function(e){var t=e.addMultiplayerUser.user,n=t?"@".concat(t.username):"Member";s("".concat(n," added"))}}),m=Object(G.a)(f,2),g=m[0],b=m[1],h=Object(dt.lc)({onError:function(e){return l(e.message)},onCompleted:function(e){var t=e.removeMultiplayerUser.user,n=t?"@".concat(t.username):"Member";s("".concat(n," removed"))}}),v=Object(G.a)(h,2),x=v[0],y=v[1],w="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null;if(w&&!w.owner)throw new Error("Cannot manage members on anon repls");if((null===w||void 0===w?void 0:w.owner)&&"Team"!==(null===w||void 0===w?void 0:w.owner.__typename))throw new Error("Expect repl owned by a team");var k="Team"===(null===w||void 0===w?void 0:null===(t=w.owner)||void 0===t?void 0:t.__typename)?w.owner:null,j=null===k||void 0===k?void 0:k.members.reduce((function(e,t){if(!t.user)return e;var n=t.user;if(!(!d||Tr.a.filter(d,[n.username]).length>0))return e;var r=t.permissions&&t.permissions!==dt.D.Member,a=null===w||void 0===w?void 0:w.permissions.find((function(e){var t;return e.user&&(null===(t=e.user)||void 0===t?void 0:t.id)===n.id}));return r?e.teamAdmins.push(n):(null===a||void 0===a?void 0:a.type)?e.withPermisison.push(n):e.withoutPermisison.push(n),e}),{teamAdmins:[],withPermisison:[],withoutPermisison:[]}),O=Boolean(j&&!j.teamAdmins.length&&!j.withoutPermisison.length&&!j.withPermisison.length),E=null===w||void 0===w?void 0:w.currentUserPermissions.editMultiplayers;return Mr("div",{className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" root"},Mr(vr.VStack,{spacing:2,align:"stretch"},Mr(Pr.a,{level:5,foreground:i?3:1},E?"Add or remove members from this repl":null,i?"Loading...":null),Mr(en.a,{disabled:i,value:d,onChange:function(e){return p(e.currentTarget.value)},placeholder:E?"Filter team members to add or remove":"Filter team members"}),Mr("div",{className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" "+(ct()("multiplayers-list",{"is-empty":O})||"")},(null===j||void 0===j?void 0:j.withPermisison.length)?Mr("div",{className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" list-heading"},Mr(vr.HStack,{align:"center",spacing:1},Mr(yr.a,{size:"small"}),Mr(Ar.a,{foreground:2,size:"small"},null===j||void 0===j?void 0:j.withPermisison.length," member",1===(null===j||void 0===j?void 0:j.withPermisison.length)?"":"s"," with access"))):null,null===j||void 0===j?void 0:j.withPermisison.map((function(e){return Mr("div",{key:e.id,className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" "+(ct()("multiplayer-item",{"is-editable":E})||"")},Mr(vr.HStack,{align:"center",spacing:1},Mr(Ne.a,{size:"s",url:e.image}),Mr("div",{className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" label"},d?Mr(Rr.c,{source:e.username,match:d}):e.username," ","(can edit)"),E?Mr(vt.a,{border:!1,filled:!1,"aria-label":"Remove member",role:"tooltip","data-microtip-position":"left",onClick:function(){y.loading||x({variables:{replId:n,username:e.username}})}},Mr(_r.a,{size:"small"})):null))})),(null===j||void 0===j?void 0:j.withoutPermisison.length)?Mr("div",{className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" list-heading"},Mr(vr.HStack,{align:"center",spacing:1},Mr(kr.a,{size:"small"}),Mr(Ar.a,{foreground:2,size:"small"},null===j||void 0===j?void 0:j.withoutPermisison.length," member",1===(null===j||void 0===j?void 0:j.withoutPermisison.length)?"":"s"," without access"))):null,null===j||void 0===j?void 0:j.withoutPermisison.map((function(e){return Mr("div",{key:e.id,className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" "+(ct()("multiplayer-item",{"is-editable":E})||"")},Mr(vr.HStack,{align:"center",spacing:1},Mr(Ne.a,{size:"s",url:e.image}),Mr("div",{className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" label"},d?Mr(Rr.c,{source:e.username,match:d}):e.username),E?Mr(vt.a,{border:!1,filled:!1,"aria-label":"Add member",role:"tooltip","data-microtip-position":"left",onClick:function(){b.loading||g({variables:{replId:n,username:e.username,type:"rw"}})}},Mr(Sr.a,{size:"small"})):null))})),(null===j||void 0===j?void 0:j.teamAdmins.length)?Mr("div",{className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" list-heading"},Mr(vr.HStack,{align:"center",spacing:1},Mr(Or.a,{size:"small"}),Mr(Ar.a,{foreground:2,size:"small"},"Team admins cannot be removed from repls"))):null,null===j||void 0===j?void 0:j.teamAdmins.map((function(e){return Mr("div",{key:e.id,className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" "+(ct()("multiplayer-item",{"is-editable":E})||"")},Mr(vr.HStack,{align:"center",spacing:1},Mr(Ne.a,{size:"s",url:e.image}),Mr("div",{className:oe.a.dynamic([["4137072712",[Te.BREAKPOINTS.mobileMax]]])+" label"},d?Mr(Rr.c,{source:e.username,match:d}):e.username)))})),O?Mr(Ar.a,{foreground:2,align:"center"},'No members matching "',d,'" found'):null),E||i?null:Mr(Ar.a,{foreground:2,size:"small"},"Only admins can add and remove members to multiplayer")),Mr(oe.a,{id:"4137072712",dynamic:[Te.BREAKPOINTS.mobileMax]},[".root.__jsx-style-dynamic-selector{padding:var(--spacing-2);color:var(--color-foreground-1);}",".multiplayers-list.__jsx-style-dynamic-selector{background-color:var(--color-background-2);border-radius:var(--border-radius-1);height:300px;overflow-y:auto;}",".multiplayers-list.is-empty.__jsx-style-dynamic-selector{display:grid;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:var(--spacing-2);word-break:break-word;}",".multiplayer-item.__jsx-style-dynamic-selector{padding:var(--spacing-half) var(--spacing-2);}",".multiplayer-item.is-editable.__jsx-style-dynamic-selector{padding-right:var(--spacing-1);}",".multiplayer-item.is-editable.__jsx-style-dynamic-selector:hover{background-color:var(--color-background-3);}",".list-heading.__jsx-style-dynamic-selector{padding:var(--spacing-2) var(--spacing-2) 0;}",".label.__jsx-style-dynamic-selector{margin-right:auto;}","@media screen and (min-width:".concat(Te.BREAKPOINTS.mobileMax,"px){.root.__jsx-style-dynamic-selector{padding:var(--spacing-6);}}")]))}var Dr=n("Qetd"),zr=n.n(Dr),Fr=n("XXOK"),Ur=n.n(Fr),Hr=n("1GjN"),Br=n("aKzv"),Vr="undefined"!==typeof window?me.useLayoutEffect:me.useEffect,Kr=n("khz9");function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xr(e,t,n){var r=Wr(function(e,t,n){var r=Gr(Object(me.useState)((function(){return t(e)})),2),a=r[0],i=r[1],o=Object(me.useCallback)((function(){var r=t(e);Object(Kr.a)(a,r)||(i(r),n&&n())}),[a,e,n]);return Vr(o,[]),[a,o]}(e,t,n),2),a=r[0],i=r[1];return Vr((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(i,{handlerIds:[t]})}),[e,i]),a}var $r=n("wSlI"),Qr=n("Lmng");function Jr(){var e=Object(me.useContext)(Qr.a).dragDropManager;return Object(Br.a)(null!=e,"Expected drag drop context"),e}var Zr=n("bO3s"),ea=n("bAlF");function ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ra(e){return(ra="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ia(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oa(e){var t=Object(me.useRef)(e);t.current=e,Object(Br.a)(null!=e.item,"item must be defined"),Object(Br.a)(null!=e.item.type,"item type must be defined");var n=aa(function(){var e=Jr();return[Object(me.useMemo)((function(){return new Zr.a(e)}),[e]),Object(me.useMemo)((function(){return new ea.a(e.getBackend())}),[e])]}(),2),r=n[0],a=n[1];!function(e,t,n){var r=Jr(),a=Object(me.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,a=n.item;if(r){var i=r(t);return Object(Br.a)(null==i||"object"===ra(i),"dragSpec.begin() must either return an object, undefined, or null"),i||a||{}}return a||{}},canDrag:function(){return"boolean"===typeof e.current.canDrag?e.current.canDrag:"function"!==typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var a=e.current.isDragging;return a?a(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);Vr((function(){var i=ta(Object($r.a)(e.current.item.type,a,r),2),o=i[0],s=i[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),s}),[])}(t,r,a);var i=Xr(r,t.current.collect||function(){return{}},(function(){return a.reconnect()})),o=Object(me.useMemo)((function(){return a.hooks.dragSource()}),[a]),s=Object(me.useMemo)((function(){return a.hooks.dragPreview()}),[a]);return Vr((function(){a.dragSourceOptions=t.current.options||null,a.reconnect()}),[a]),Vr((function(){a.dragPreviewOptions=t.current.previewOptions||null,a.reconnect()}),[a]),[i,o,s]}var sa=n("oQVV"),la=n("pdp2");function ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ua(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fa(e){var t=Object(me.useRef)(e);t.current=e,Object(Br.a)(null!=e.accept,"accept must be defined");var n=da(function(){var e=Jr();return[Object(me.useMemo)((function(){return new la.a(e)}),[e]),Object(me.useMemo)((function(){return new sa.a(e.getBackend())}),[e])]}(),2),r=n[0],a=n[1];!function(e,t,n){var r=Jr(),a=Object(me.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);Vr((function(){var i=ca(Object($r.b)(e.current.accept,a,r),2),o=i[0],s=i[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),s}),[t,n])}(t,r,a);var i=Xr(r,t.current.collect||function(){return{}},(function(){return a.reconnect()})),o=Object(me.useMemo)((function(){return a.hooks.dropTarget()}),[a]);return Vr((function(){a.dropTargetOptions=e.options||null,a.reconnect()}),[e.options]),[i,o]}var ma=n("9ICu"),ga=n.n(ma),ba=n("twnq"),ha=n.n(ba),va=ge.a.createElement;function xa(e){var t=e.user,n=e.onDelete,r=oa({item:{type:"SubmissionGroupUserItem",id:t.id},collect:function(e){return{opacity:e.isDragging()?.7:1}}}),a=Object(G.a)(r,2),i=a[0].opacity,o=a[1];return va("div",{ref:o,style:{opacity:i},className:"jsx-664165765 submission-group-user"},va(vr.HStack,{align:"center",spacing:1},va(Ne.a,{size:"s",url:t.image}),va(Ar.a,null,t.username),n&&va("span",{className:"jsx-664165765 x-icon"},va(_r.a,{onClick:function(){n(t)}}))),va(oe.a,{id:"664165765"},[".submission-group-user.jsx-664165765{cursor:pointer;}",".x-icon.jsx-664165765{cursor:pointer;margin-bottom:1px;}",".x-icon.jsx-664165765:hover{color:var(--color-red-1);}"]))}function ya(e){var t=e.availableUsers,n=e.onUserSelected,r=Object(me.useState)(""),a=r[0],i=r[1],o=Object(me.useState)(!1),s=o[0],l=o[1],c=a.length<1?[]:Tr.a.filter(a,t,{extract:function(e){var t,n;return"".concat(null===(t=e.user)||void 0===t?void 0:t.fullName," ").concat(null===(n=e.user)||void 0===n?void 0:n.username)}});return va("div",{className:"jsx-2127351458 submission-group-user-search"},va(zn.default,{isOpen:s,onOuterClick:function(){return l(!1)},onChange:function(e){return t=e.original,i(""),void n(t);var t},itemToString:function(e){return e?e.username:""},defaultHighlightedIndex:0},(function(e){var t=e.getInputProps,n=e.getMenuProps,r=e.getItemProps,o=e.isOpen,s=e.highlightedIndex;return va("div",{className:"jsx-2127351458 dropdown"},va(en.a,t({value:a,onChange:function(e){return i(e.target.value)},onFocus:function(){return l(!0)},placeholder:"Search for team members...",autoComplete:"off",style:{border:"none"}})),o&&c.length>0&&va("div",Object(P.a)({},n(),{className:"jsx-2127351458 submission-group-user-results"}),va(vr.VStack,{align:"stretch",spacing:"0.2em"},c.map((function(e,t){return e.original.user&&va("div",Object(P.a)({},r({item:e,key:e.original.user.username}),{className:"jsx-2127351458 "+(ct()({"submission-group-user-result-item":!0,"result-highlighted":s===t})||"")}),va(vr.HStack,{align:"center",spacing:1},va(Ne.a,{size:"s",url:e.original.user.image}),va(Ar.a,null,e.original.user.username)))})))))})),va(oe.a,{id:"2127351458"},[".submission-group-user-search.jsx-2127351458{position:relative;}",".submission-group-user-results.jsx-2127351458{position:absolute;z-index:3000;background-color:var(--color-background-1);border:1px solid var(--color-foreground-3);border-radius:var(--border-radius-1);max-width:300px;overflow:hidden;}",".submission-group-user-result-item.jsx-2127351458{cursor:pointer;padding:0.2em var(--spacing-2);}",".result-highlighted.jsx-2127351458{background-color:var(--color-background-2);}",".submission-group-user-result-item.jsx-2127351458:hover{background-color:var(--color-background-3);}"]))}function wa(e){var t,n=e.group,r=e.teamMembers,a=e.onAddUser,i=e.onRemoveUser,o=e.onRemoveGroup,s=fa({accept:"SubmissionGroupUserItem",collect:function(e){return{isOver:e.isOver()}},drop:function(e){return a(e.id,n)}}),l=Object(G.a)(s,2),c=l[0].isOver,u=l[1],d=r.filter((function(e){return e.permissions===dt.D.Member&&void 0===n.users.find((function(t){return t&&e.user&&t.id===e.user.id}))}));return va("div",{ref:u,className:"jsx-3453268590 "+(ct()({"submission-group":!0,"is-over":c})||"")},va(vr.VStack,{align:"stretch",spacing:1},va("div",{className:"jsx-3453268590 submission-group-users"},va(vr.VStack,{align:"stretch",spacing:"0.2em"},n.users.map((function(e){return e&&va(xa,{user:e,onDelete:i})})),n.users.length<1&&va(Ar.a,{foreground:"3"},"No users in this group."))),n.submission?va("a",{role:"tooltip","aria-label":"Open repl","data-microtip-position":"left",href:null===(t=n.submission.repl)||void 0===t?void 0:t.url,target:"_blank",className:"jsx-3453268590 submission-link"},va(ga.a,null)):va("span",{role:"tooltip","data-microtip-position":"left","aria-label":"Remove group",className:"jsx-3453268590 x-icon"},va(_r.a,{height:20,width:20,onClick:function(){return o&&o(n)}})),va(ya,{availableUsers:d,onUserSelected:function(e){return e.user&&a(e.user.id,n)}})),va(oe.a,{id:"3453268590"},[".submission-group.jsx-3453268590{position:relative;padding:var(--spacing-1) var(--spacing-2);border:1px solid var(--color-foreground-4);border-radius:var(--border-radius-1);min-height:35px;}",".submission-group-users.jsx-3453268590{max-height:150px;overflow:auto;margin-right:0.2em;}",".submission-link.jsx-3453268590{position:absolute;top:0.2em;right:0.2em;}",".is-over.jsx-3453268590{border-color:var(--color-blue-1);}",".x-icon.jsx-3453268590{cursor:pointer;margin-bottom:1px;position:absolute;top:0.2em;right:0.2em;}",".x-icon.jsx-3453268590:hover{color:var(--color-red-1);}"]))}function ka(e){var t=e.groups,n=e.teamMembers,r=e.onChangeGroups,a=Object(me.useState)(!1),i=a[0],o=a[1],s=n.filter((function(e){if(e.permissions!==dt.D.Member)return!1;var n=!0,r=!1,a=void 0;try{for(var i,o=Ur()(t);!(n=(i=o.next()).done);n=!0){if(void 0!==i.value.users.find((function(t){return e.user&&(null===t||void 0===t?void 0:t.id)===e.user.id})))return!1}}catch(s){r=!0,a=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return!0})),l=function(e){return(null===e||void 0===e?void 0:e.removeGroup)?t.filter((function(t){return t!==e.removeGroup})):t.map((function(t){var n,r=zr()({},t,{users:t.users.filter((function(t){var n,r,a,i,o;return!!t&&((void 0===(null===e||void 0===e?void 0:null===(n=e.unassignMember)||void 0===n?void 0:null===(r=n.user)||void 0===r?void 0:r.id)||t.id!==(null===(a=e.unassignMember)||void 0===a?void 0:null===(i=a.user)||void 0===i?void 0:i.id))&&(null===e||void 0===e||!e.move||t.id!==(null===e||void 0===e?void 0:null===(o=e.move.member.user)||void 0===o?void 0:o.id)))}))});return t===(null===e||void 0===e?void 0:null===(n=e.move)||void 0===n?void 0:n.targetGroup)&&e.move.member.user&&r.users.push(e.move.member.user),r}))},c=function(e,t){var a=n.find((function(t){var n;return(null===(n=t.user)||void 0===n?void 0:n.id)===e}));if(null===a||void 0===a?void 0:a.user){var i=l({move:{member:a,targetGroup:t}});r(i)}},u=function(e){var t=l({removeGroup:e});r(t)},d=Object(me.useRef)(null);return Object(me.useEffect)((function(){i&&d.current&&(d.current.scrollTop=d.current.offsetHeight,o(!1))}),[t,i]),va("div",{className:"jsx-1103065837 edit-submission-groups"},va(vr.HStack,{justify:"space-between"},va(Pr.a,{style:{paddingBottom:"var(--spacing-1)"},level:4},"Submission Groups"),va("div",{onClick:function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.floor(Math.sqrt(n.length)),t=l(),a=0;a<s.length;a++){var i=s[a];if(i.user){var o=t.find((function(t){return t.users.length<e}));void 0===o&&(a===s.length-1&&void 0!==t[0]?o=t[0]:(o={users:[]},t.push(o))),o.users.push(i.user)}}r(t)}()},className:"jsx-1103065837 auto-assign"},"Auto assign",va("span",{className:"jsx-1103065837 auto-assign-icon"},va(gt.a,null)))),va("div",{ref:d,className:"jsx-1103065837 submission-group-list"},va(vr.VStack,{spacing:1,align:"stretch"},t.map((function(e){return va(wa,{group:e,teamMembers:n,onAddUser:c,onRemoveUser:function(e){return function(e){var t=n.find((function(t){var n;return(null===(n=t.user)||void 0===n?void 0:n.id)===e}));if(null===t||void 0===t?void 0:t.user){var a=l({unassignMember:t});r(a)}}(e.id)},onRemoveGroup:void 0===e.submission?u:void 0})})))),va(ha.a,null),va(vr.HStack,{justify:"end"},va(vt.a,{Icon:Sr.a,color:"primary",onClick:function(){var e=l();e.push({users:[]}),o(!0),r(e)}},"Add Group")),va(oe.a,{id:"1103065837"},[".edit-submission-groups.jsx-1103065837{position:relative;}",".auto-assign.jsx-1103065837{cursor:pointer;border:1px solid var(--color-foreground-1);border-radius:var(--border-radius-1);padding:0.2em var(--spacing-1);font-size:0.9em;}",".auto-assign.jsx-1103065837:hover{color:var(--color-blue-1);border-color:var(--color-blue-1);}",".auto-assign-icon.jsx-1103065837{margin-left:var(--spacing-1);}",".submission-group-list.jsx-1103065837{height:50vh;overflow:auto;padding-right:var(--spacing-1);}"]))}function ja(e){var t=e.replId,n=e.onDone,r=Object(dt.mc)({variables:{replId:t}}).data,a="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl:null;if(!a||!a.template)return va("div",{className:"jsx-1269108943 root"},va(_n.a,null),va(oe.a,{id:"1269108943"},[".root.jsx-1269108943{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-width:500px;min-height:300px;}"]));var i=a.template;return va(Oa,{repl:a,template:i,onDone:n})}function Oa(e){var t,n=e.repl,r=e.template,a=e.onDone,i=Object(Rn.a)(),o=i.showConfirm,s=i.showError,l=Object(dt.nc)({onCompleted:function(e){var t=e.updateReplTemplate;"UserError"!==t.__typename?"ReplTemplate"===t.__typename&&t.isPublished?o("Project published!"):"ReplTemplate"!==t.__typename||t.isPublished||o("Project unpublished"):s(t.message)},onError:function(e){s(e.message)}}),c=Object(G.a)(l,1)[0],u=Object(me.useState)(r.isPublished),d=u[0],p=u[1],f=Object(me.useState)(!1),m=f[0],g=f[1],b=Object(me.useState)(r.submissionGroups),h=b[0],v=b[1],x=Object(_t.a)("flag-dc-multiplayer-submissions-ui");return va("div",{className:"jsx-1785764870 "+(ct()({root:!0,loading:m})||"")},va(vr.VStack,{spacing:1,align:"stretch"},va(Pr.a,{level:3,align:"center"},"Edit this project"),va("div",{className:"jsx-1785764870"},va(Pr.a,{align:"center",level:5},n.title),n.description?va(Ar.a,{foreground:3,align:"center",tag:"div"},n.description):null),va("div",{className:"jsx-1785764870 toggle"},va(Hr.a,{enabled:d,enabledChild:"published",disabledChild:"unpublished",onClick:function(){p(!d)}})),va("div",{className:"jsx-1785764870 copy"},d&&va(Ar.a,null,"This project can be forked by team members, and edited by other team admins."),!d&&va(Ar.a,null,"This project can only be viewed and edited by other team admins")),x&&"Team"===(null===(t=n.owner)||void 0===t?void 0:t.__typename)&&d&&r.isGroupProject&&va(ka,{groups:h,teamMembers:n.owner.members,onChangeGroups:v}),va("div",{className:"jsx-1785764870 modal-buttons"},va(vr.VStack,{spacing:1,align:"stretch"},va(vt.a,{filled:!1,onClick:a},"Cancel"),va(vt.a,{color:"primary",onClick:function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,Y.a.awrap(c({variables:{input:{id:r.id,isPublished:d,submissionGroups:x&&d&&r.isGroupProject&&h?h.filter((function(e){return void 0!==e.submission||e.users.length>0})).map((function(e){var t,n={submissionId:null===(t=e.submission)||void 0===t?void 0:t.id,userIds:[]},r=!0,a=!1,i=void 0;try{for(var o,s=Ur()(e.users);!(r=(o=s.next()).done);r=!0){var l=o.value;(null===l||void 0===l?void 0:l.id)&&n.userIds.push(l.id)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n})):void 0}}}));case 4:return e.prev=4,g(!1),e.finish(4);case 7:a();case 8:case"end":return e.stop()}}),null,null,[[1,,4,7]])}},"Save")),m&&va("div",{className:"jsx-1785764870 spinner-outer"},va(_n.a,{style:{width:75,height:75}})))),va(oe.a,{id:"1785764870"},[".root.jsx-1785764870{color:var(--color-foreground-1);padding:var(--spacing-3);min-width:500px;position:relative;}",".root.loading.jsx-1785764870{opacity:0.6;pointer-events:none;}",".toggle.jsx-1785764870{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".copy.jsx-1785764870{text-align:center;min-height:40px;}",".modal-buttons.jsx-1785764870{padding-top:var(--spacing-1);}",".spinner-outer.jsx-1785764870{width:100%;position:absolute;top:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]))}var Ea=me.createElement;function _a(e){var t=e.replId,n=e.onDone,r=e.isResubmit,a=Object(Rn.a)(),i=a.showConfirm,o=a.showError,s=Object(dt.oc)({variables:{replId:t},onCompleted:function(e){var t=e.submitRepl;"UserError"!==t.__typename?"Repl"===t.__typename&&(i("Repl submitted"),n()):o(t.message)},onError:function(e){o(e.message)}}),l=Object(G.a)(s,2),c=l[0],u=l[1];return Ea("div",{className:"jsx-3403090670 root"},Ea(Pr.a,{level:3,align:"center"},r?" Resubmit this repl":"Submit this repl"),Ea(Ar.a,{align:"center"},r?"This will re-notify team admins about your submission.":"This will submit your repl for review and notify the team's admins."),Ea("div",{className:"jsx-3403090670 controls"},Ea(vt.a,{disabled:u.loading,onClick:n},"Cancel"),Ea(vt.a,{filled:!0,color:"primary",disabled:u.loading,onClick:function(){return c()}},r?"Submit again":"Submit")),Ea(oe.a,{id:"3403090670"},[".root.jsx-3403090670{color:var(--color-foreground-1);padding:var(--spacing-3);display:grid;grid-gap:var(--spacing-3);}",".controls.jsx-3403090670{display:grid;grid-gap:var(--spacing-1);grid-auto-flow:column;}"]))}var Na,Sa=n("PMfk"),Ca=me.createElement,Pa="https://docs.repl.it/misc/annotations";function Ia(e){return Ca(hr.a,e,Ca("div",{className:"jsx-3678259200 container"},Ca("h1",{className:"jsx-3678259200"},"Introducing Annotations"),Ca("p",{className:"jsx-3678259200"},"Annotations is a new feature that lets you leave detailed feedback on a student's code!"),Ca("div",{className:"jsx-3678259200 loom-video-container"},Ca("iframe",{src:"https://www.loom.com/embed/955fb177889c4838b9332224067d4be0?autoplay=1",frameBorder:"0",allowFullScreen:!0,webkitallowfullscreen:!0,mozallowfullscreen:!0,className:"jsx-3678259200 loom-video"})),Ca("p",{className:"jsx-3678259200"},"To learn more, check out the"," ",Ca("a",{href:Pa,target:"_blank",className:"jsx-3678259200"},"docs")),Ca("div",{className:"jsx-3678259200 buttons"},Ca("a",{href:Pa,target:"_blank",className:"jsx-3678259200"},Ca(Sa.Button,null,"Learn More")),Ca(Sa.Button,{color:"primary",onClick:e.onRequestClose},"Okay"))),Ca(oe.a,{id:"3678259200"},[".container.jsx-3678259200{padding:var(--spacing-6);display:grid;grid-auto-flow:row;grid-row-gap:var(--spacing-2);}",".container.jsx-3678259200 h1.jsx-3678259200{padding:var(--spacing-2) 0;color:var(--color-foreground-1);}",".container.jsx-3678259200 p.jsx-3678259200{color:var(--color-foreground-1);}",".buttons.jsx-3678259200{display:grid;grid-auto-flow:column;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;grid-column-gap:var(--spacing-1);}",".buttons.jsx-3678259200 a.jsx-3678259200{-webkit-text-decoration:none;text-decoration:none;}",".loom-video-container.jsx-3678259200{position:relative;padding-bottom:56.25%;height:0;}",".loom-video.jsx-3678259200{position:absolute;top:0;left:0;width:100%;height:100%;}"]))}var Aa=me.createElement,Ra=(Na={},Object(q.a)(Na,dt.z.PublishTemplate,"Publish project"),Object(q.a)(Na,dt.z.EditTemplate,"Edit project"),Object(q.a)(Na,dt.z.Submit,"Submit"),Object(q.a)(Na,dt.z.Resubmit,"Resubmit"),Na);function Ta(e){var t=e.cta,n=e.replId,r=me.useState(null),a=Object(G.a)(r,2),i=a[0],o=a[1],s=function(){return o(null)},l=Boolean(i&&[dt.z.PublishTemplate,dt.z.EditTemplate].includes(i));return me.useEffect((function(){window&&window["enable-annotations"]&&(Ra[dt.z.ReviewSubmission]="Annotations")}),[]),me.useEffect((function(){window["enable-annotations"]&&(t===dt.z.ReviewSubmission&&(window.localStorage.getItem("annotations/educationModalDismissed")||(o(t),window.localStorage.setItem("annotations/educationModalDismissed","true"))))}),[t]),Aa(me.Fragment,null,Ra[t]&&Aa(vt.a,{filled:!0,border:!1,onClick:function(){return o(t)}},Ra[t]),Aa(hr.a,{isOpen:i===dt.z.Submit||i===dt.z.Resubmit,onRequestClose:s},Aa(_a,{replId:n,onDone:s,isResubmit:i===dt.z.Resubmit})),Aa(hr.a,{preventClose:!0,isOpen:l,onRequestClose:s},Aa(ja,{replId:n,onDone:s})),Aa(Ia,{isOpen:i===dt.z.ReviewSubmission,onRequestClose:s}))}var Ma=n("Shib"),La=ge.a.createElement,Da=function(e){var t=e.repl,n=e.isSaving;return La(kt.a,{href:{pathname:"/replHistory",query:{slug:t.slug}},as:"".concat(t.url,"/history")},La("a",{"aria-label":"Click to see repl history","data-microtip-position":"bottom",role:"tooltip",className:"jsx-2992576618 save-status"},La("div",{className:"jsx-2992576618 "+(ct()("history-icon",{"is-saving":n})||"")},La(Hn.HistoryIcon,null)),La(oe.a,{id:"2534165509"},[".save-status.jsx-2992576618:hover{color:var(--color-primary-1);}"]),La(oe.a,{id:"740781062"},[".save-status.jsx-2992576618{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;font-size:16px;color:var(--color-foreground-4);}",".save-status.jsx-2992576618 .history-icon.jsx-2992576618{width:24px;height:16px;margin-right:var(--spacing-half);margin-top:-2px;}",".save-status.jsx-2992576618 .is-saving.jsx-2992576618{-webkit-animation:pulse-jsx-2992576618 2s infinite;animation:pulse-jsx-2992576618 2s infinite;}","@-webkit-keyframes pulse-jsx-2992576618{0%,100%{opacity:1;}50%{opacity:0.25;}}","@keyframes pulse-jsx-2992576618{0%,100%{opacity:1;}50%{opacity:0.25;}}"])))},za=function(){return La("div",{"aria-label":"You are no longer connected, your file will save automatically once you reconnect","data-microtip-position":"bottom",role:"tooltip",className:"jsx-1062191725 offline-status"},La("div",{className:"jsx-1062191725 offline-icon"},La(Hn.CloudOff,null)),La(oe.a,{id:"1062191725"},[".offline-status.jsx-1062191725{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;cursor:default;padding-left:15px;color:var(--color-negative-1);}",".offline-status.jsx-1062191725 .offline-icon.jsx-1062191725{width:18px;height:16px;margin-right:5px;}"]))},Fa=function(){return La("div",{"aria-label":"There was an error saving a file in your repl","data-microtip-position":"bottom",role:"tooltip",className:"jsx-1174862059 error-status"},La(Hn.ErrorIcon,{style:{width:24}}),La(oe.a,{id:"1174862059"},[".error-status.jsx-1174862059{cursor:default;padding-left:15px;color:var(--color-negative-1);}"]))},Ua=function(e){var t=e.wid,n=e.pud,r=e.canEdit,a=e.repl,i=function(e,t){var n=Object(rt.b)(e,t,"header"),r=Object(G.a)(n,1)[0],a=r.loading,i=r.hasConnected,o=r.filestatus,s=!r.clean.status||te()(o).some((function(e){return e===it.a.Dirty||e===it.a.Syncing||e===it.a.Loading})),l=window["flag-disconnect-ot-hack"]&&i&&a;return{isSaving:s,didError:te()(o).some((function(e){return e===it.a.Err})),isOffline:l}}(t,n),o=i.isSaving,s=i.didError,l=i.isOffline;return r?s?La(Fa,null):l?La(za,null):La(Da,{isSaving:o,repl:a}):null},Ha=n("M+Cr"),Ba=me.createElement;function Va(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ka(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Va(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Ga=60;function qa(e){var t,n,r=e.wid,a=e.pud,i=Object(De.e)(),o=Object(je.useRouter)(),s=Object(pr.f)(),l=me.useState(!1),c=Object(G.a)(l,2),u=c[0],d=c[1],p=me.useState(!1),f=Object(G.a)(p,2),m=f[0],g=f[1],b=Object(rt.b)(r,a,"header",Ja),h=Object(G.a)(b,1)[0],v=h.runstate,x=h.repl,y=h.loading,w=h.lite,k=h.usersOnline,j=h.showMultiModal,O=Et(),E=Object(_t.a)("flag-multiplayer-services")?O:k,_=Object(dt.ic)({variables:{id:x.id}}),N=_.data,S=_.refetch;if("Repl"!==(null===N||void 0===N?void 0:N.repl.__typename))return Ba("header",{key:"loading-header",className:"jsx-2398313351"},Ba(oe.a,{id:"2398313351"},["header.jsx-2398313351{background-color:var(--color-background-1);height:".concat(Ga,"px;}")]));var C=N.currentUser,P=N.repl,I=o.asPath.startsWith("/l/")||o.asPath.startsWith("/languages/"),A=null;A=Ba(Ha.a,y?{runState:"loading",onClick:function(){return null},lite:!!w}:"stopping"===v?{runState:"stopping",onClick:function(){return null},lite:!!w}:"running"===v?{runState:"running",onClick:function(){return i({type:"STOP_EVAL",wid:r})},lite:!!w}:{runState:"idle",onClick:function(){return i({type:"RUN_REPL",wid:r})},lite:!!w});var R=P.currentUserPermissions.containerWrite?null:Ba(Wt.a,{label:"fork",iconStyle:{svgName:"Fork",width:23,height:23},onClick:function(){return i({type:"FORK_WORKSPACE_REPL",wid:r})}}),T=!R&&I?Ba(Wt.a,{label:"save",iconStyle:{svgName:"Save",width:18,height:18},onClick:function(){if(!y){var e=Ka({},o.query);delete e.langPage;var t=Object(et.a)(e);o.replace({pathname:"/replEnvironment",query:e},{pathname:o.query.replUrl.toString(),query:t},{shallow:!0}),i({type:"SAVE_CLICKED",wid:r}),d(!0)}}}):null,M=null,L="Repl"===(null===N||void 0===N?void 0:N.repl.__typename)&&"Team"===(null===N||void 0===N?void 0:null===(t=N.repl.owner)||void 0===t?void 0:t.__typename);if(j&&!L){var D=function(){return i({type:"CLOSE_MULTIPLAYER_MODAL",wid:r,pud:a})};M=C?Ba(cr,{theme:fr.a[s],wid:r,hideModal:D,track:function(e){i({type:"TRACK_WS_EVENT",eventKey:e,wid:r})},repl:P,isOwner:Boolean(P.isOwner),isCollaborator:P.currentUserPermissions.containerWrite,onFork:function(){return i({type:"FORK_WORKSPACE_REPL",wid:r})}}):Ba(Yt.default,{onRequestClose:D},Ba(dr.a,{title:"Sign up or log in to multiplay",description:"Multiplayer allows you to collaborate with others in real time. Please log in/sign up to team up with others and build software"}))}var z=R||T,F=P.workspaceCta&&[dt.z.Submit,dt.z.Resubmit,dt.z.PublishTemplate,dt.z.EditTemplate,dt.z.ReviewSubmission].includes(P.workspaceCta)?Ba(Ta,{cta:P.workspaceCta,replId:P.id}):null;return Ba("header",{className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" "+(ct()({"is-logged-in":C,"has-secondary-cta":z})||"")},Ba("div",{className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" content"},Ba("div",{className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" left"},Ba(kt.a,{as:"/~",href:"/home"},Ba("a",{className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" logo-link"},Ba(ft.a,{size:32}))),I?Ba(br,{language:P.language}):Ba(zt,{repl:P,refetch:S,onUpdateRepl:function(e){var t=!!e.title&&e.title!==P.title;if(i({type:"REPL_UPDATED",wid:r,updates:e}),t){var n=Object(et.a)(o.query);o.push({pathname:"/replEnvironment",query:Ka({},o.query,{replUrl:P.url})},{pathname:P.url,query:n},{shallow:!0})}},forkRepl:function(){i({type:"FORK_WORKSPACE_REPL",wid:r})}}),Ba(Ua,{repl:P,canEdit:P.currentUserPermissions.containerAttach,wid:r,pud:a})),Ba("div",{className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" center"},z,A),Ba("div",{className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" right"},E&&E.length>0?Ba(Pt,{users:E}):null,(null===C||void 0===C?void 0:C.isExplorer)?Ba("a",{href:"/account#roles",target:"_blank",className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" explorer-badge"},Ba(vt.a,{color:"red",filled:!0,border:!1,Icon:Ma.a})):null,C&&!C.isSubscribed?Ba(jt.a,{color:"default",filled:!0,context:"header-upgrade-button",responsive:!0}):null,C?null:Ba(kt.a,{href:"/postsFeed",as:"/talk/all"},Ba("a",{className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" repl-talk-link"},Ba(vt.a,{filled:!1,border:!1,Icon:gt.a},"talk"))),F||null,(null===(n=P.currentUserPermissions)||void 0===n?void 0:n.editMultiplayers)&&![dt.z.PublishTemplate,dt.z.EditTemplate,dt.z.ReviewSubmission].includes(P.workspaceCta)||P.workspaceCta===dt.z.Share?Ba("div",{className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" share-wrapper"},Ba(vt.a,{className:"header-share-button",onClick:function(){return i({type:"OPEN_MULTIPLAYER_MODAL",wid:r,pud:a})},responsive:!0,filled:!0,border:!1,Icon:Ft.UserAddIcon},"share"),m&&Ba("div",{className:oe.a.dynamic([["3264293614",[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]]])+" multiplayer-invite-tour"},Ba(qt,{arrowPosition:"top",sawTour:function(){g(!1),Object(ze.d)("/data/tours/seen",{name:"new_share"})}},"To invite people, click on share!"))):null,Ba(xt.a,null,Ba(yt.a,null)),C?null:Ba(bt.a,{open:u,onSuccess:function(){Object(Xe.track)(Xe.events.ACCOUNT_SIGNUP_CLICKED,{location:"ws_header",isNudged:!!u})}},Ba(vt.a,{color:"primary",filled:!0},"sign up")))),M,Ba(hr.a,{isOpen:j&&L,onRequestClose:function(){return i({type:"CLOSE_MULTIPLAYER_MODAL",wid:r,pud:a})}},Ba(Lr,{replId:P.id})),Ba(oe.a,{id:"3264293614",dynamic:[Ga,Te.BREAKPOINTS.tabletMax,ut.a,Te.BREAKPOINTS.mobileMax+100,Te.BREAKPOINTS.mobileMax,Te.BREAKPOINTS.tabletMin]},["header.__jsx-style-dynamic-selector{position:fixed;top:0px;left:0px;width:100%;height:".concat(Ga,"px;z-index:1000;background-color:var(--color-background-1);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.04);border-bottom:0.5px solid var(--color-control-3);--button-width:60px;--center-width:var(--button-width);}"),"@media screen and (min-width:".concat(Te.BREAKPOINTS.tabletMax,"px){header.__jsx-style-dynamic-selector{--button-width:96px;}}"),".logo-link.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".has-secondary-cta.__jsx-style-dynamic-selector{--center-width:calc(var(--button-width) * 2 + var(--spacing-2));}",".is-logged-in.__jsx-style-dynamic-selector .left.__jsx-style-dynamic-selector{padding-left:".concat(ut.a,"px;}"),".content.__jsx-style-dynamic-selector{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".is-logged-in.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{padding-left:0;}",".left.__jsx-style-dynamic-selector,.right.__jsx-style-dynamic-selector{height:100%;padding:0 var(--spacing-1);display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-1);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".left.__jsx-style-dynamic-selector{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}",".right.__jsx-style-dynamic-selector{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".center.__jsx-style-dynamic-selector{display:none;width:var(--center-width);position:absolute;top:0;left:50%;height:100%;-webkit-transform:translatex(-50%);-ms-transform:translatex(-50%);transform:translatex(-50%);grid-auto-flow:column;grid-column-gap:var(--spacing-2);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".center.__jsx-style-dynamic-selector>div,.left.__jsx-style-dynamic-selector>div{margin:0 !important;}",".explorer-badge.__jsx-style-dynamic-selector,.repl-talk-link.__jsx-style-dynamic-selector{display:none;}",".share-wrapper.__jsx-style-dynamic-selector{display:none;position:relative;}","@media screen and (min-width:".concat(Te.BREAKPOINTS.mobileMax+100,"px){.left.__jsx-style-dynamic-selector,.right.__jsx-style-dynamic-selector{width:50%;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}.center.__jsx-style-dynamic-selector{display:grid;}.share-wrapper.__jsx-style-dynamic-selector{display:block;}.left.__jsx-style-dynamic-selector{padding-right:calc(var(--center-width) / 2 + var(--spacing-1));}.right.__jsx-style-dynamic-selector{padding-left:calc(var(--center-width) / 2 + var(--spacing-1));}}"),"@media screen and (min-width:".concat(Te.BREAKPOINTS.mobileMax,"px){.explorer-badge.__jsx-style-dynamic-selector{display:unset;}}"),"@media screen and (min-width:".concat(Te.BREAKPOINTS.tabletMin,"px){.repl-talk-link.__jsx-style-dynamic-selector{display:unset;}}")]))}var Wa=me.createElement;function Ya(e){var t=e.wid,n=e.pud,r=e.style,a=Object(De.e)(),i=Object(pr.f)(),o=fr.a[i],s=Object(rt.b)(t,n,"header",Ja),l=Object(G.a)(s,1)[0],c=l.runstate,u=l.repl,d=l.loading,p=l.lite,f=null;f=Wa(Ha.a,d?{runState:"loading",onClick:function(){return null},lite:!0}:"stopping"===c?{runState:"stopping",onClick:function(){return null},lite:!0}:"running"===c?{runState:"running",onClick:function(){return a({type:"STOP_EVAL",wid:t})},lite:!0}:{runState:"idle",onClick:function(){return a({type:"RUN_REPL",wid:t})},lite:!0});var m=Re.a.get(u.language),g=m.displayName,b=m.icon,h="string"===typeof p?p:"",v={href:"https://repl.it".concat(u.url),target:"_blank",title:"open ".concat(u.title)};return Wa("div",{style:r,className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" lite-header"},Wa("div",{className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" lite-header-left"},h.includes("icon")||h.includes("title")?Wa("a",Object(P.a)({},v,{className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" "+(v&&null!=v.className&&v.className||"lite-header-title-link")}),h.includes("icon")?Wa("img",{alt:g,title:g,src:b,className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" lite-header-lang-icon"}):null,h.includes("title")?Wa("div",{className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" lite-header-title"},Wa("div",{className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])},u.title)):null):null),Wa("div",{className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" lite-header-cta"},f),Wa("div",{className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" lite-header-right"},h.includes("nologo")?Wa("a",Object(P.a)({},v,{className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" "+(v&&null!=v.className&&v.className||"lite-header-open-link")}),"open"):Wa("a",Object(P.a)({},v,{className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" "+(v&&null!=v.className&&v.className||"lite-header-logo-link")}),"open in"," ",Wa("img",{src:"/public/images/logo-small.png",className:oe.a.dynamic([["1183226218",[o.textLink.activeForeground,o.textLink.activeForeground]]])+" lite-header-logo"}))),Wa(oe.a,{id:"1183226218",dynamic:[o.textLink.activeForeground,o.textLink.activeForeground]},[".lite-header.__jsx-style-dynamic-selector{background:#f4f4f4;border-bottom:1px solid #e4e4e4;height:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}",".lite-header-title-link.__jsx-style-dynamic-selector{font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%;position:relative;-webkit-text-decoration:none;text-decoration:none;}",".lite-header-title.__jsx-style-dynamic-selector{position:relative;top:1px;display:none;max-width:100%;overflow:hidden;-webkit-text-decoration:none;text-decoration:none;}",".lite-header-title.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}",".lite-header-title-link.__jsx-style-dynamic-selector:hover .lite-header-title.__jsx-style-dynamic-selector{border-color:".concat(o.textLink.activeForeground,";}"),".lite-header-cta.__jsx-style-dynamic-selector{margin-left:auto;margin-right:auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:100px;padding:var(--spacing-half) 0;}",".lite-header-cta.__jsx-style-dynamic-selector>div{margin-left:0px;height:100%;border-bottom:0 none;}",".lite-header-lang-icon.__jsx-style-dynamic-selector{width:20px;margin-right:4px;}",".lite-header-left.__jsx-style-dynamic-selector,.lite-header-right.__jsx-style-dynamic-selector{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:calc(50% - 50px);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:10px;padding-right:10px;}",".lite-header-right.__jsx-style-dynamic-selector{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".lite-header-logo-link.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;border-bottom:none;color:#767777;font-size:14px;-webkit-text-decoration:none;text-decoration:none;}",".lite-header-logo-link.__jsx-style-dynamic-selector:hover{color:".concat(o.textLink.activeForeground,";}"),".lite-header-logo.__jsx-style-dynamic-selector{width:60px;margin-left:4px;}","@media screen and (min-width:400px){.lite-header-title.__jsx-style-dynamic-selector{display:block;}.lite-header-logo.__jsx-style-dynamic-selector{width:80px;margin-left:8px;}}"]))}var Xa=me.createElement;function $a(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):$a(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Ja=function(e,t){var n=function(e){e.filestatus,e.clean;return Object(tt.a)(e,["filestatus","clean"])};return Object(De.d)(n(e),n(t))};function Za(e,t,n){switch(n.type){case"OPEN_MULTIPLAYER_MODAL":return function(n,r){n({type:"MP2_OPENED_INVITE_MODAL",replId:Object(rt.a)(r(),e,t,"header").repl.id,wid:e})};default:return null}}var ei=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,lite:!1,hasConnected:!1,languageHeader:!1,showMultiModal:!1,isShowPushBadgeFlowEnabled:!1,showShareToTalkPromo:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt.q:return Qa({},e,{},t.initialState);case nt.w:return Qa({},e,{loading:!0});case nt.v:return Qa({},e,{loading:!1,hasConnected:!0});case"WORKSPACE_WILL_UNMOUNT":return Qa({},e,{hasConnected:!1});case"SAVE_CLICKED":return Qa({},e,{languageHeader:!1});case"OPEN_MULTIPLAYER_MODAL":return Qa({},e,{showMultiModal:!0});case"CLOSE_MULTIPLAYER_MODAL":return Qa({},e,{showMultiModal:!1});case"SET_RUN_BADGE":return Qa({},e,{isShowPushBadgeFlowEnabled:!t.isDetected});default:return e}},repl:Qe.b,filestatus:it.b,clean:ot.a,runstate:at.a,usersOnline:st.a});function ti(e){return Object(je.useRouter)().query.lite?Xa(Ya,e):Xa(qa,e)}var ni=n("fUEn"),ri=n("MG7t"),ai=n("S6NQ"),ii=n("kynp"),oi=ge.a.createElement,si=Re.a.allSupported().filter((function(e){return"goval"!==e.engine||!e.hasGit})).filter((function(e){return"Hidden"!==e.category})).map((function(e){return e.key})),li=/(^.*language.*=.*?)(".*").*$/m,ci=/(^.*run.*=.*?)(".*").*$/m,ui=function(e){var t=e.children;return oi("div",{className:"jsx-244350478 config-wrapper"},oi("div",{className:"jsx-244350478"},oi("div",{className:"jsx-244350478 config-wrapper-label"},oi("img",{src:"/public/images/prompt.png",className:"jsx-244350478"}),oi(Ar.a,{size:"small"},".replit"))),oi("div",{className:"jsx-244350478 config-wrapper-content"},t),oi(oe.a,{id:"244350478"},[".config-wrapper.jsx-244350478{width:100%;height:100%;background-color:var(--color-background-1);display:grid;grid-template-rows:auto 1fr;}",".config-wrapper-content.jsx-244350478{padding:0 16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow-y:auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".config-wrapper-label.jsx-244350478{padding:6px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:var(--font-family-monospace);background-color:var(--color-primary-transparent-3);color:var(--color-primary-1);}",".config-wrapper-label.jsx-244350478 img.jsx-244350478{height:11px;width:8px;margin-right:8px;}"]))},di=function(e){var t=e.wid,n=e.pud,r=Object(rt.b)(t,n,"config"),a=Object(G.a)(r,1)[0],i=a.files,o=a.repl,s=a.fsClean,l=a.filestatus,c=Object(De.e)(),u=Object(me.useState)(!1),d=u[0],p=u[1];var f=Object(me.useState)(!1),m=f[0],g=f[1];Object(me.useEffect)((function(){if(!m){var e=!s.status||te()(l).some((function(e){return e===it.a.Dirty||e===it.a.Syncing||e===it.a.Loading}));d&&!e&&(g(!0),c({type:"REQUEST_REPL_UPDATE",wid:t,updates:{language:w}}))}}),[d,s.status]);var b=Object(me.useState)(!1),h=b[0],v=b[1];Object(me.useEffect)((function(){h||m&&w===o.language&&(si.includes(w)?window.location.replace(window.location.pathname):(v(!0),c({type:"UNLOCK_WORKSPACE",wid:t}),c({type:"RUN_FLOW_CONFIG_COMPLETE",wid:t})))}),[o.language]);var x=i[".replit"];if(!x||!x.loaded)return oi(ui,null,oi("div",{className:"jsx-567169767 loading"},oi("p",{className:"jsx-567169767"},"initializing run configuration",oi(ni.a,{style:{color:"var(--color-foreground-1)"}}))),oi(oe.a,{id:"567169767"},[".loading.jsx-567169767{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;font-family:'source-code-pro',monospace;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]));var y=x.content.toString("utf8");if(!y.match(li)||!y.match(ci))return oi("div",null,".replit looks a lil messed up :/");var w,k,j=li.exec(y),O=j[1],E=j[2],_=j.index,N=ci.exec(y),S=N[1],C=N[2],P=N.index;try{var I=JSON.parse(E),A=JSON.parse(C);if("string"!==typeof I||"string"!==typeof A)return oi("div",null,".replit looks a lil messed up :/");w=I,k=A}catch(R){return oi("div",null,".replit looks a lil messed up :/")}return oi(ui,null,oi("div",{className:"jsx-882549902 config-item"},oi("label",{htmlFor:"lang-sel",className:"jsx-882549902"},"select language"),oi("div",{className:"jsx-882549902 config-item-lang-sel"},oi(ri.a,{disabled:d,initialSelectedItem:Re.a.get(w),placeholder:"Language",onSelect:function(e){c({type:"OT_FILE_OP",wid:t,path:".replit",op:[_+O.length].concat(E.length?[{d:E.length}]:[]).concat(e?[ae()(e.key)]:[ae()(o.language)]),changeSource:"config"})}}))),oi("div",{className:"jsx-882549902 config-item"},oi("label",{htmlFor:"run-sel",className:"jsx-882549902"},"configure the run button "),oi(en.a,{disabled:d,id:"run-sel",type:"text",value:k,style:{padding:"8px",fontFamily:'"source-code-pro", monospace'},placeholder:"enter command",onChange:function(e){e.currentTarget&&c({type:"OT_FILE_OP",wid:t,path:".replit",op:[P+S.length].concat(C.length?[{d:C.length}]:[]).concat(e.currentTarget.value.length>0?[ae()(e.currentTarget.value)]:[ae()("")]),changeSource:"config"})}}),oi("a",{target:"_blank",href:"https://docs.repl.it/repls/dot-replit",className:"jsx-882549902"},"not sure what to do?")),oi("div",{className:"jsx-882549902 config-item"},oi(vt.a,{color:"primary",disabled:d,onClick:Object(ii.a)({event:Xe.events.REPL_FROM_REPO_RUN_CONFIG_COMPLETED},(function(){Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:if(w!==o.language){e.next=4;break}return e.abrupt("return");case 4:p(!0),c({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Upgrading to ".concat(Re.a.get(w).displayName),wid:t}),c({type:"PERSIST_FILE",wid:t,flush:!0});case 7:case"end":return e.stop()}}))}))},d?"saving...":"done")),oi(oe.a,{id:"882549902"},[".config-item.jsx-882549902{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:var(--color-foreground-1);font-family:'source-code-pro',monospace;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin:8px 0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;max-height:150px;}",".config-item.jsx-882549902 label.jsx-882549902{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-bottom:8px;}",".config-item.jsx-882549902 a.jsx-882549902{margin-top:4px;font-size:13px;}",".config-item-lang-sel.jsx-882549902{margin-right:16px;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;}",".config-item.jsx-882549902 input{padding:8px;font-family:'source-code-pro',monospace;max-width:400px;width:100%;}"]))},pi=Object(Ze.a)({files:ai.a,repl:Qe.b,fsClean:ot.a,filestatus:it.b}),fi=n("dfwq"),mi=ge.a.createElement,gi=function(e){var t=e.navItems,n=e.activePanePuds;return ge.a.useEffect((function(){var e=document.body;e&&e.classList&&(t.some((function(e){return n.includes(e.pud)}))?e.classList.remove("sidenav-closed"):e.classList.add("sidenav-closed"))}),[t,n]),mi("div",{className:"jsx-2043054145 side-nav"},mi("div",{className:"jsx-2043054145 side-nav-options"},t.map((function(e){return mi(bi,Object(P.a)({key:e.type},e))}))),mi(oe.a,{id:"2043054145"},[".side-nav.jsx-2043054145{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;background-color:var(--color-background-1);border-top-left-radius:var(--border-radius-1);border-bottom-left-radius:var(--border-radius-1);}",".side-nav-options.jsx-2043054145{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;padding:var(--spacing-half) 0;}",".side-nav-active-pane.jsx-2043054145{-webkit-flex:1;-ms-flex:1;flex:1;height:100%;overflow:hidden;}"]))},bi=function(e){var t=e.icon?e.icon:Hn[e.svg];return mi("div",{onClick:e.onClick,"data-testid":"sidenav-".concat(e.type),"aria-label":e.tooltip,"data-microtip-position":"right",role:"tooltip",className:"jsx-616933984 "+(ct()("side-nav-item",{"side-nav-item-active":e.isActive})||"")},mi("div",{className:"jsx-616933984 side-nav-item-img"},t?mi(t,{className:"jsx-616933984"}):null),mi(oe.a,{id:"616933984"},[".side-nav-item.jsx-616933984{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;border-radius:var(--border-radius-2);height:var(--spacing-5);width:var(--spacing-5);margin-bottom:var(--spacing-half);}",".side-nav-item.jsx-616933984:hover{background:var(--color-control-3);}",".side-nav-item.jsx-616933984:active{background:var(--color-control-2);}",".side-nav-item-active.jsx-616933984{background:var(--color-primary-transparent-3);color:var(--color-foreground-1);}",".side-nav-item-img.jsx-616933984{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:20px;width:20px;color:var(--color-foreground-3);}",".side-nav-item-img.jsx-616933984 svg.jsx-616933984{height:100%;width:100%;}",".side-nav-item.jsx-616933984:hover .side-nav-item-img.jsx-616933984,.side-nav-item-active.jsx-616933984 .side-nav-item-img.jsx-616933984{color:var(--color-primary-1);}"]))},hi=me.createElement;function vi(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):vi(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var yi=function(e){var t=e.wid,n=e.pud,r=Object(rt.b)(t,n,"sidenav"),a=Object(G.a)(r,1)[0],i=a.activePanePuds,o=a.navItems,s=Object(De.e)();return hi(gi,{activePanePuds:i,navItems:o.map((function(e){return{type:e.pluginType,pud:e.pud,onClick:function(){return s(function(e){var t=e.wid,n=e.pud,r=e.forPud;return function(e,a){a().workspace[t].plugins[n].state.activePanePuds.includes(r)?e(wi({wid:t,pud:n,forPud:r})):e(ki({wid:t,pud:n,forPud:r}))}}({wid:t,pud:n,forPud:e.pud}))},isActive:i.includes(e.pud),svg:e.svg,tooltip:e.tooltip,icon:e.icon}}))})};function wi(e){var t=e.wid,n=e.pud,r=e.forPud;return function(e,a){var i=a().workspace[t].layout;e(Object(nt.gb)(xi({wid:t},Je.j(i,r)))),e({type:"ON_SIDEPANE_CLOSE",wid:t,pud:n,forPud:r})}}function ki(e){var t=e.wid,n=e.pud,r=e.forPud;return function(e,a){var i=a().workspace[t].layout,o=a().workspace[t].plugins[n].state.activePanePuds,s=Je.a(i,n);if(s){for(var l=Je.e(i,Je.l(s));"split"===l.type;)l=l.left;o.includes(l.pud)&&e(wi({wid:t,pud:n,forPud:l.pud})),i=a().workspace[t].layout;var c=a().workspace[t].plugins[n].state.savedPos;e(Object(nt.gb)(xi({wid:t},Je.h(i,r,"leftOf",Je.l(s),{position:c})))),e({type:"ON_SIDEPANE_OPEN",wid:t,activePanePud:r})}}}function ji(e,t,n){switch(n.type){case nt.z:return function(e){var t=e.wid,n=e.pud,r=e.paneType;return function(e,a){var i=a().workspace[t].plugins[n].state.navItems,o=!0,s=!1,l=void 0;try{for(var c,u=Ur()(i);!(o=(c=u.next()).done);o=!0){var d=c.value;if(d.pluginType===r)return void e(ki({wid:t,pud:n,forPud:d.pud}))}}catch(p){s=!0,l=p}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}}}({wid:e,pud:t,paneType:n.paneType});case"SET_SPLIT_POSITION":return function(e){var t=e.wid,n=e.pud,r=e.position,a=e.path;return 0===r?function(e,r){var i=r().workspace[t],o=i.layout,s=i.plugins[n].state,l=Je.e(o,a);s.activePanePuds.includes(l.left.pud)&&e(wi({wid:t,pud:n,forPud:l.left.pud}))}:100===r?function(e,r){var i=r().workspace[t],o=i.layout,s=i.plugins[n].state,l=Je.e(o,a);s.activePanePuds.includes(l.right.pud)&&e(wi({wid:t,pud:n,forPud:l.right.pud}))}:function(e,i){var o=i().workspace[t],s=o.layout,l=o.plugins[n].state,c=Je.e(s,a);l.activePanePuds.includes(c.left.pud)&&e({type:"SET_SAVED_POSITION",position:r,pud:n,wid:t})}}({wid:e,pud:t,position:n.position,path:n.path});default:return null}}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{navItems:[],activePanePuds:[],savedPos:15},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt.q:return xi({},e,{},t.initialState);case"PLUGIN_CLOSED":var n=t.closedPud;return xi({},e,{activePanePuds:e.activePanePuds.filter((function(e){return e!==n}))});case"ON_SIDEPANE_CLOSE":var r=t.forPud;return xi({},e,{activePanePuds:e.activePanePuds.filter((function(e){return e!==r}))});case"ON_SIDEPANE_OPEN":return e.activePanePuds.includes(t.activePanePud)?e:xi({},e,{activePanePuds:[].concat(Object(fi.a)(e.activePanePuds),[t.activePanePud])});case"SET_SAVED_POSITION":return xi({},e,{savedPos:t.position});case"ADD_SIDE_NAV_ITEM":if(e.navItems.some((function(e){return e.pud===t.navItem.pud})))return e;if("index"in t){if(t.index>e.navItems.length)throw new Error("Sidenav index out of range");return xi({},e,{navItems:[].concat(Object(fi.a)(e.navItems.slice(0,t.index)),[t.navItem],Object(fi.a)(e.navItems.slice(t.index)))})}return xi({},e,{navItems:[].concat(Object(fi.a)(e.navItems),[t.navItem])});default:return e}}var Ei=n("gdra"),_i=n("O+LL"),Ni=n.n(_i),Si=n("2+X6"),Ci=n.n(Si);class Pi extends me.Component{constructor(e){super(e),this._osInstance=null,this._osTargetRef=ge.a.createRef()}osInstance(){return this._osInstance}osTarget(){return this._osTargetRef.current||null}componentDidMount(){this._osInstance=Ci()(this.osTarget(),this.props.options||{},this.props.extensions),Ii(this._osInstance,this.props.className)}componentWillUnmount(){Ci.a.valid(this._osInstance)&&(this._osInstance.destroy(),this._osInstance=null)}componentDidUpdate(e){Ci.a.valid(this._osInstance)&&(this._osInstance.options(this.props.options),e.className!==this.props.className&&Ii(this._osInstance,this.props.className))}render(){const e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(this.props,["options","extensions","children","className"]);return ge.a.createElement("div",Object.assign({className:"os-host"},e,{ref:this._osTargetRef}),ge.a.createElement("div",{className:"os-resize-observer-host"}),ge.a.createElement("div",{className:"os-padding"},ge.a.createElement("div",{className:"os-viewport"},ge.a.createElement("div",{className:"os-content"},this.props.children))),ge.a.createElement("div",{className:"os-scrollbar os-scrollbar-horizontal "},ge.a.createElement("div",{className:"os-scrollbar-track"},ge.a.createElement("div",{className:"os-scrollbar-handle"}))),ge.a.createElement("div",{className:"os-scrollbar os-scrollbar-vertical"},ge.a.createElement("div",{className:"os-scrollbar-track"},ge.a.createElement("div",{className:"os-scrollbar-handle"}))),ge.a.createElement("div",{className:"os-scrollbar-corner"}))}}function Ii(e,t){if(Ci.a.valid(e)){const{host:n}=e.getElements(),r=new RegExp(`(^os-host([-_].+|)$)|${e.options().className.replace(/\s/g,"$|")}$`,"g"),a=n.className.split(" ").filter(e=>e.match(r)).join(" ");n.className=`${a} ${t||""}`}}var Ai=n("VhAj"),Ri=n("CD53"),Ti=n("yEu1"),Mi=n("Hxkj"),Li=n("9CwF"),Di=me.createElement,zi=function(e){var t=e.wid,n=e.tabIndex,r=e.filePath,a=e.onClick,i=e.onClose,o=e.isActiveFile,s=e.isOnlyOpenFile,l=Object(De.e)(),c=oa({item:{type:Li.a.FileHeaderTab,path:r,isFolder:!1}}),u=Object(G.a)(c,2)[1],d=fa({accept:[Li.a.FileNode,Li.a.FileHeaderTab],collect:function(e){var t,n=null===(t=e.getItem())||void 0===t?void 0:t.isFolder;return{isOver:e.isOver()&&!n}},drop:function(e){if(e&&!e.isFolder){var a=e.path;a!==r&&l({type:"OPEN_FILE",tabIndex:n,path:a,wid:t})}}}),p=Object(G.a)(d,2),f=p[0],m=p[1],g=function(e,t){return e?"var(--color-background-1)":t?"var(--color-control-3)":"var(--color-background-3)"}(o,f.isOver);return Di("div",{ref:function(e){u(e),m(e)},onClick:a,className:oe.a.dynamic([["4282463915",[s?"var(--spacing-2)":"var(--spacing-half)",g,o?"var(--color-foreground-1)":"var(--color-foreground-2)",o?"0px 4px 12px 0px rgba(0, 0, 0, 0.16)":"none",o?"auto":"var(--color-background-2)"]]])+" "+(ct()("file-header-tab",{first:0===n})||"")},Di("span",{className:oe.a.dynamic([["4282463915",[s?"var(--spacing-2)":"var(--spacing-half)",g,o?"var(--color-foreground-1)":"var(--color-foreground-2)",o?"0px 4px 12px 0px rgba(0, 0, 0, 0.16)":"none",o?"auto":"var(--color-background-2)"]]])+" file-path"},r),!s&&Di(me.Fragment,null,Di("div",{className:oe.a.dynamic([["4282463915",[s?"var(--spacing-2)":"var(--spacing-half)",g,o?"var(--color-foreground-1)":"var(--color-foreground-2)",o?"0px 4px 12px 0px rgba(0, 0, 0, 0.16)":"none",o?"auto":"var(--color-background-2)"]]])+" spacer"}),Di(vt.a,{className:"close-file-button",size:"small",border:!1,filled:!1,Icon:_r.a,onClick:i})),Di(oe.a,{id:"4282463915",dynamic:[s?"var(--spacing-2)":"var(--spacing-half)",g,o?"var(--color-foreground-1)":"var(--color-foreground-2)",o?"0px 4px 12px 0px rgba(0, 0, 0, 0.16)":"none",o?"auto":"var(--color-background-2)"]},[".file-header-tab.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:var(--spacing-2);padding-top:var(--spacing-1);padding-bottom:var(--spacing-1);padding-right:".concat(s?"var(--spacing-2)":"var(--spacing-half)",";cursor:pointer;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;position:relative;background-color:").concat(g,";color:").concat(o?"var(--color-foreground-1)":"var(--color-foreground-2)",";border:2px solid var(--color-backround-1);box-shadow:").concat(o?"0px 4px 12px 0px rgba(0, 0, 0, 0.16)":"none",";min-width:var(--spacing-10);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-top-right-radius:var(--border-radius-1);border-top-left-radius:var(--border-radius-1);}"),".sidenav-closed .file-header-tab.first{border-top-left-radius:0px;}",".close-file-button{opacity:0;color:var(--color-foreground-2) !important;}",".file-header-tab.__jsx-style-dynamic-selector:hover{background-color:".concat(o?"auto":"var(--color-background-2)",";}"),".file-header-tab.__jsx-style-dynamic-selector:hover .file-path{color:var(--color-foreground-1);}",".file-header-tab.__jsx-style-dynamic-selector:hover .close-file-button{opacity:1;}",".close-file-button:hover{color:var(--color-foreground-1) !important;}",".file-path.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;}",".spacer.__jsx-style-dynamic-selector{width:var(--spacing-1);}"]))},Fi=function(e){var t=e.text;return Di("div",{className:"jsx-396960526 empty"},Di(Ar.a,{size:"small",foreground:2},t),Di(oe.a,{id:"396960526"},[".empty.jsx-396960526{background-color:var(--color-background-1);height:100%;min-width:var(--spacing-10);padding:var(--spacing-1) var(--spacing-2);border-top-right-radius:var(--border-radius-1);border-top-left-radius:var(--border-radius-1);}"]))},Ui=n("NuhN"),Hi=n("NveQ"),Bi=me.createElement;function Vi(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Vi(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Gi=function(e){var t,n,r=e.style,a=e.wid,i=e.pud,o=Object(pr.f)(),s=Object(De.e)(),l=Object(rt.b)(a,i,"fileheader",(function(e,t){return e.repl===t.repl&&e.currentFile===t.currentFile&&e.openFiles===t.openFiles&&e.activeIndex===t.activeIndex})),c=Object(G.a)(l,1)[0],u=c.dirs,d=c.repl,p=c.currentFile,f=c.openFiles,m=c.activeIndex,g=Object(De.f)((function(e){var t=Object(rt.a)(e,a,i,"fileheader"),n=t.filestatus,r=t.currentFile;if(!r.path)return!0;var o=n[r.path];return o===it.a.Unloaded||o===it.a.Loading})),b=p.path||"",h=d.language,v=!g&&b&&Object(Ai.a)(b,h)?Bi("div",{"aria-label":"auto-format","data-microtip-position":"left",role:"tooltip"},Bi(Ti.a,{onClick:function(){return s({type:"FORMAT_FILE",wid:a,filePath:b,language:h})}})):null,x=f.map((function(e,t){return Bi(zi,{filePath:e,tabIndex:t,key:t,wid:a,onClick:function(){e!==b&&s({type:"OPEN_FILE",path:e,wid:a})},onClose:function(t){t.stopPropagation(),s({type:"CLOSE_HEADER_TAB",path:e,wid:a})},isOnlyOpenFile:1===f.length,isActiveFile:t===m})})),y=me.useRef(null),w=null===(t=y.current)||void 0===t?void 0:t.osInstance(),k=me.useRef(0),j=me.useRef(0),O=fa({accept:[Li.a.FileNode,Li.a.FileHeaderTab],collect:function(e){var t,n=null===(t=e.getItem())||void 0===t?void 0:t.isFolder;return{isOver:e.isOver({shallow:!0})&&!n}},canDrop:function(e){return!e.isFolder},drop:function(e,t){if(e&&!e.isFolder&&!t.didDrop()){var n=f.length;s({type:"OPEN_FILE",path:e.path,tabIndex:n,wid:a})}}}),E=Object(G.a)(O,2),_=E[0],N=E[1],S="replitLight"===o?"os-theme-dark":"os-theme-light",C=(null===(n=u[""])||void 0===n?void 0:n.loaded)?"No files open":"Loading files...";return Bi("div",{ref:N,style:r,className:oe.a.dynamic([["2007309390",[_.isOver?"var(--color-control-3)":"var(--color-background-3)",_.isOver?"var(--color-control-3)":"var(--color-background-3)"]]])+" file-header"},Bi(Pi,{className:S,options:{overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave"}},onWheel:function(e){if(w&&0!==e.deltaY&&0===e.deltaX){var t=e.deltaY<0?-1:1,n=j.current!==t?w.scroll().position.x:k.current,r=25*t,a=w.scroll().max.x;k.current=Math.max(0,Math.min(a,n-r)),j.current=t;window.requestAnimationFrame((function e(){if(w){var t=w.scroll().position.x,n=k.current-t,r=Math.round(t+n/10);0!==n&&(w.scroll({x:r}),window.requestAnimationFrame(e))}}))}},ref:y},Bi("div",{className:oe.a.dynamic([["2007309390",[_.isOver?"var(--color-control-3)":"var(--color-background-3)",_.isOver?"var(--color-control-3)":"var(--color-background-3)"]]])+" file-header-name"},x.length>0?x:Bi(Fi,{text:C}))),g&&Bi("div",{className:oe.a.dynamic([["2007309390",[_.isOver?"var(--color-control-3)":"var(--color-background-3)",_.isOver?"var(--color-control-3)":"var(--color-background-3)"]]])+" loading-wrapper"},Bi("div",{className:oe.a.dynamic([["2007309390",[_.isOver?"var(--color-control-3)":"var(--color-background-3)",_.isOver?"var(--color-control-3)":"var(--color-background-3)"]]])+" file-header-loading-bar"})),x.length>0&&v,Bi(oe.a,{id:"2007309390",dynamic:[_.isOver?"var(--color-control-3)":"var(--color-background-3)",_.isOver?"var(--color-control-3)":"var(--color-background-3)"]},[".file-header.__jsx-style-dynamic-selector{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:48px;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:".concat(_.isOver?"var(--color-control-3)":"var(--color-background-3)",";border-top-right-radius:var(--border-radius-1);border-top-left-radius:var(--border-radius-1);}"),".file-header.__jsx-style-dynamic-selector .os-host{height:100%;-webkit-flex:auto;-ms-flex:auto;flex:auto;min-width:0;}",".os-content-glue{height:50px !important;}",".file-header.__jsx-style-dynamic-selector .os-scrollbar-handle{max-width:300px;}",".file-header-name.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;background-color:".concat(_.isOver?"var(--color-control-3)":"var(--color-background-3)",";color:var(--color-foreground-2);font-size:var(--font-size-desktop-text-small);height:100%;text-align:center;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;}"),".loading-wrapper.__jsx-style-dynamic-selector{position:absolute;bottom:0;left:0;right:0;height:2px;overflow:hidden;}",".file-header-loading-bar.__jsx-style-dynamic-selector{width:40px;height:2px;position:absolute;bottom:0;left:0;background:var(--color-control-3);-webkit-animation:loading-bar-move-__jsx-style-dynamic-selector 2.5s ease-in-out 0s infinite;animation:loading-bar-move-__jsx-style-dynamic-selector 2.5s ease-in-out 0s infinite;-webkit-animation-fill-mode:forward;animation-fill-mode:forward;}","@-webkit-keyframes loading-bar-move-__jsx-style-dynamic-selector{0%{left:-7%;}100%{left:105%;}}","@keyframes loading-bar-move-__jsx-style-dynamic-selector{0%{left:-7%;}100%{left:105%;}}"]))},qi={activeIndex:0,openFiles:[]},Wi=Object(Ze.a)({primary:function(e,t){switch(t.type){case"@@INIT":return Ki({},e,{},qi);case"OPEN_FILE":if(void 0===t.path)return e;if(0===e.openFiles.length)return Ki({},e,{activeIndex:0,openFiles:[t.path]});if(void 0!==t.tabIndex){if(t.tabIndex<0||t.tabIndex>e.openFiles.length)throw new Error("Received out of bounds index: ".concat(t.tabIndex,". Tab index must be between 0 and ").concat(e.openFiles.length));if(!Ni()(t.tabIndex))throw new Error("Received invalid index: ".concat(t.tabIndex,". Tab index must be an integer"));var n=e.openFiles.slice(),r=n.indexOf(t.path);if(-1===r)n.splice(t.tabIndex,1,t.path);else{var a=r===t.tabIndex-1?t.tabIndex+1:t.tabIndex;n.splice(a,0,t.path);var i=t.tabIndex>r?r:r+1;n.splice(i,1)}return Ki({},e,{activeIndex:n.indexOf(t.path),openFiles:n})}if(e.openFiles.includes(t.path))return Ki({},e,{activeIndex:e.openFiles.indexOf(t.path)});if(t.newTab){var o=e.openFiles.slice();return o.splice(e.activeIndex+1,0,t.path),Ki({},e,{activeIndex:e.activeIndex+1,openFiles:o})}var s=e.openFiles.slice();return s[e.activeIndex]=t.path,Ki({},e,{openFiles:s});case"CLOSE_HEADER_TAB":var l=e.openFiles.indexOf(t.path);if(-1===l)throw new Error("Trying to close file that's not open: ".concat(t.path));return Ki({},e,{activeIndex:l>e.activeIndex?e.activeIndex:Math.max(e.activeIndex-1,0),openFiles:e.openFiles.filter((function(e){return e!==t.path}))});case"MOVE_FILE":var c=e.openFiles.map((function(e){return e===t.path?t.to:Object(Ui.c)(t.path,e)?Object(Ui.e)(t.path,t.to,e):e}));return Ki({},e,{openFiles:c});case"DELETE_FILE":var u=e.openFiles[e.activeIndex],d=e.openFiles.filter((function(e){return e!==t.path&&!Object(Ui.c)(t.path,e)})),p=d.includes(u)?d.indexOf(u):d.length-1;return Ki({},e,{activeIndex:Math.max(0,p),openFiles:d});default:return e}},repl:Qe.b,dirs:Hi.a,filestatus:it.b,currentFile:Ri.a});function Yi(e,t,n){return"CLOSE_HEADER_TAB"!==n.type?null:function(r,a){var i=n.path,o=Object(rt.a)(a(),e,t,"fileheader"),s=o.openFiles,l=o.filestatus,c=o.currentFile,u=o.repl;if(i===c.path){var d=s.filter((function(e){return e!==i}));r({type:"OPEN_FILE",path:d.length>0?d[Math.max(s.indexOf(i)-1,0)]:Object(Mi.a)(B()(l),u.language),wid:e})}}}var Xi=n("GnjG"),$i=n("gfZM"),Qi=n("EQ2k"),Ji=n("uLgn"),Zi=n("dI/k"),eo=n("FzLU"),to=n("yz3v"),no=n("LOQN"),ro=me.createElement,ao=function(e){function t(){return Object(X.a)(this,t),Object(Q.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Object(pr.b)(Object(pr.c)());this._eventSubscriber=new no.a,this.editor=this.props.ace.edit(this.node),this.editor.setTheme(t),this.editor.renderer.setHScrollBarAlwaysVisible(!1),this.editor.setShowPrintMargin(!1),this._eventSubscriber.listen(this.editor,"change",(function(t){e.props.onChange&&e.props.onChange(t,e.editor)})),this.props.onSessionChange&&this._eventSubscriber.listen(this.editor,"changeSession",(function(t){e.props.onSessionChange(t)})),this.editor.commands.addCommand({name:"run",bindKey:{win:"Ctrl-Return",mac:"Command-Return",sebder:"editor"},exec:function(){return e.props.onRun()}});var n=this.props.keyboardHandler,r=n?"ace/keyboard/".concat(n):null;this.editor.setKeyboardHandler(r),this.editor.setOptions({fontSize:this.props.fontSize,useSoftTabs:this.props.indentIsSpaces,tabSize:this.props.indentSize,wrap:this.props.wrapping,theme:t,readOnly:!!this.props.readOnly,enableBasicAutocompletion:this.props.codeIntelligence,enableLiveAutocompletion:this.props.codeIntelligence,newLineMode:"unix",fontFamily:"'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace",scrollPastEnd:.5});var a=this.props,i=a.value,o=a.mode,s=a.editorSession;if(s)s.getValue()!==i&&s.setValue(i),this.editor.setSession(s);else{var l=this.createNewSession({value:i,mode:o});this.editor.setSession(l)}this.props.annotations&&this.props.annotations.length&&this.editor.getSession().setAnnotations(this.props.annotations),this.props.noFocus||this.editor.focus(),/\r\n|\r/.test(i)&&Object(Xe.track)(Xe.events.FILE_VALUE_CONTAINS_CARRIAGE_RETURN,{}),this.removeMarkers=[],this.props.registerEditor(this.editor)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.mode,r=e.value,a=void 0===r?"":r,i=e.fontSize,o=e.indentIsSpaces,s=e.indentSize,l=e.keyboardHandler,c=e.wrapping,u=e.codeIntelligence,d=e.readOnly,p=e.dimensions,f=e.annotations,m=e.highlightLines,g=e.editorSession;if(this.editor){if(g)g!==this.editor.getSession()&&(this.editor.setSession(g),this.editor.focus());else{var b=this.createNewSession({mode:n,value:a});this.editor.setSession(b),this.editor.focus()}var h=this.editor.getSession();if(n!==this.props.mode&&io(h,n),i!==this.props.fontSize&&this.editor.renderer.setOption("fontSize",i),o!==this.props.indentIsSpaces&&h.setOption("useSoftTabs",o),s!==this.props.indentSize&&h.setOption("tabSize",s),l!==this.props.keyboardHandler){var v=l?"ace/keyboard/".concat(l):null;this.editor.setKeyboardHandler(v)}if(c!==this.props.wrapping&&h.setOption("wrap",c),u!==this.props.codeIntelligence&&this.editor.setOptions({enableBasicAutocompletion:u,enableLiveAutocompletion:u}),"".concat(p.w.px,".").concat(p.w.pc,".").concat(p.h.px,".").concat(p.h.pc)!=="".concat(this.props.dimensions.w.px,".").concat(this.props.dimensions.w.pc,".").concat(this.props.dimensions.h.px,".").concat(this.props.dimensions.h.pc)&&this.editor.resize(),d!==this.props.readOnly&&this.editor.setReadOnly(d),f!==this.props.annotations&&(h.clearAnnotations(),f&&f.length&&h.setAnnotations(f)),m!==this.props.highlightLines){for(var x=this.props.ace.require("ace/range").Range;this.removeMarkers.length;)this.removeMarkers.pop()();if(m){var y=!0,w=!1,k=void 0;try{for(var j,O=function(){var e=j.value,n=new x(e.row,0,e.row,1),r=h.addMarker(n,e.className,"fullLine");t.removeMarkers.push((function(){return h.removeMarker(r)})),h.addGutterDecoration(e.row,"".concat(e.className,"-gutter")),t.removeMarkers.push((function(){return h.removeGutterDecoration(e.row,"".concat(e.className,"-gutter"))}))},E=Ur()(m);!(y=(j=E.next()).done);y=!0)O()}catch(_){w=!0,k=_}finally{try{y||null==E.return||E.return()}finally{if(w)throw k}}}}}}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this._eventSubscriber.destroy();var e=this.props.ace.require("ace/edit_session").EditSession;this.editor.setSession(new e("")),this.editor.destroy(),this.props.registerEditor(null)}},{key:"createNewSession",value:function(e){var t=e.value,n=e.mode,r=new(0,this.props.ace.require("ace/edit_session").EditSession)(t||"");return r.setOptions(this.editor.session.getOptions()),io(r,n),r.setUndoManager(new(this.props.ace.require("ace/undomanager").UndoManager)),r}},{key:"render",value:function(){var e=this,t=ro("div",{ref:function(t){t&&(e.node=t)},style:{position:"relative",height:"100%"}});return ro("div",{style:{position:"relative",minHeight:"60px",height:"100%"},className:"jsx-4044061986"},t,ro(pr.a,{onChange:function(t){e.editor&&e.editor.renderer.setOption("theme",Object(pr.b)(t))}}),ro(oe.a,{id:"4044061986"},[".ace_mobile-menu{display:none !important;}",".ace_content{background-color:var(--color-background-1) !important;}",".ace_gutter{background-color:var(--color-background-1) !important;}",".ace-cursor{min-width:2px;position:absolute;z-index:1000;}",".ace-cursor>span{position:relative;top:-100%;padding:4px;}"]))}}]),t}(me.Component);function io(e,t){t&&t.match(/php$/)?e.setMode({path:"ace/mode/php",inline:!0}):t&&t.match(/basic(?:-v\d+)?$/)?e.setMode("ace/mode/basic-v".concat(Ji.basic)):e.setMode(t)}ao.defaultProps={indentIsSpaces:!0,indentSize:2};var oo,so,lo,co=ao,uo=n("zoC5"),po=n("YtxT"),fo=n("hKI/"),mo=n.n(fo),go=me.createElement;function bo(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):bo(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var vo,xo={clj:"ace/mode/clojure",hs:"ace/mode/haskell",kt:"ace/mode/kotlin",fth:"ace/mode/forth",js:"ace/mode/replit-js-v".concat(Ji["replit-js"]),jsx:"ace/mode/replit-js-v".concat(Ji["replit-js"]),coffee:"ace/mode/coffee",sc:"ace/mode/scheme",lua:"ace/mode/lua",py:"ace/mode/replit-python-v".concat(Ji["replit-python"]),rb:"ace/mode/ruby",php:"ace/mode/php",go:"ace/mode/golang",java:"ace/mode/java",cpp:"ace/mode/c_cpp",hpp:"ace/mode/c_cpp",c:"ace/mode/c_cpp",h:"ace/mode/c_cpp",cs:"ace/mode/csharp",html:"ace/mode/html",css:"ace/mode/css",rs:"ace/mode/rust",swift:"ace/mode/swift",bas:"ace/mode/basic-v".concat(Ji.basic)},yo=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state.ace,r=n.activeLine,a=n.sessionHandle,i=n.readonly,o=n.filePath,s=n.annotations,l=n.runstate,c=n.preferences,u=n.files,d=n.language,p=n.lite,f=u[o];return{value:f&&f.loaded?$i.a.from(u[o].content).toString():"",static:!f||!f.loaded,sessionHandle:a,language:d,readonly:i,filePath:o,preferences:c,annotations:s,activeLine:r,runstate:l,lite:p}}),(function(e){return Object(ke.b)({evalProject:nt.X,setSession:jo,lintCode:nt.Z,trackWsEvent:nt.fb,showExamples:ko,otOp:wo,registerEditorHandle:Oo},e)}))((lo=so=function(e){function t(e){var n;return Object(X.a)(this,t),(n=Object(Q.a)(this,Object(J.a)(t).call(this,e))).throttledTypedEvent=mo()((function(){return n.props.trackWsEvent({wid:n.props.wid,eventKey:"WS_TYPED"})}),6e4),n.onChange=function(e){if(!n.editor.editor.getSession().__externalChange){var t=n.props,r=t.filePath,a=t.wid,i=n.props.value.split("\n"),o=function(e,t){for(var n=0,r=Math.min(e.row,t.length),a=0;a<r;++a)n+=t[a].length+1;return n+e.column}(e.start,i),s=[];o>0&&s.push(o);var l=e.lines.join("\n");"remove"===e.action?s.push({d:l.length}):s.push(l),n.props.otOp({wid:a,path:r,op:s}),n.lint(),n.throttledTypedEvent()}},n.onSessionChange=function(e){var t=e.session;if(t){var r=n.props,a=r.wid,i=r.pud;n.props.setSession({wid:a,pud:i,sessionHandle:eo.a.getHandle(t)})}},n.lint=Un()((function(){var e=n.props,t=e.wid,r=e.filePath,a=e.language;"python3"!==a&&"python3_project"!==a||n.props.lintCode({wid:t,filePath:r,code:n.editor.editor.getValue()})}),500),n.registerEditor=function(e){var t=n.props,r=t.wid,a=t.editorHandle,i=eo.a.get(a);i&&i.dispose(),n.props.registerEditorHandle({wid:r,editorHandle:e?eo.a.getHandle(e):null})},n.state={static:!vo},n}return Object(Z.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.mobileEditor=!0,(vo?K.a.resolve():Object(ze.c)("/public/ace/".concat(to.version,"/ace.js")).then((function(){if(!(vo=window.ace)){var e=new Error("Failed to load ace");throw We.c(e),e}return n.e(42).then(n.t.bind(null,"A8C4",7))})).then((function(){vo.require("ace/language_tools")}))).then((function(){e.setState({static:!1})}))}},{key:"componentWillUnmount",value:function(){window.mobileEditor=!1}},{key:"componentWillReceiveProps",value:function(e){"running"===this.props.runstate&&"running"!==e.runstate&&this._editorRan&&(this.editor.editor.focus(),this._editorRan=!1)}},{key:"render",value:function(){var e=this;if(this.state.static||this.props.static)return null;var t=this.props.filePath,n=!1,r=xo[Object(Zi.a)(this.props.filePath)];this.props.value||t!==Re.a.getMainFileName(this.props.language)||(n=!0);var a=this.props.sessionHandle?eo.a.get(this.props.sessionHandle):null;return go("div",{style:ho({height:"100%",position:"relative"},this.props.style),className:"jsx-728821476 "+oe.a.dynamic([["4041524055",[Qi.a.gray70,this.props.preferences.fontSize,Qi.a.blue]]])},go(oe.a,{id:"728821476"},[".replit-debug-active-line{background:#cfedf8;position:absolute;z-index:10000;}",".replit-debug-active-line-gutter{background:#cfedf8;}"]),go(oe.a,{id:"4041524055",dynamic:[Qi.a.gray70,this.props.preferences.fontSize,Qi.a.blue]},[".examples-placeholder.__jsx-style-dynamic-selector{position:absolute;z-index:1;font-family:Monaco,Menlo,'Ubuntu Mono',Consolas,source-code-pro, monospace;color:".concat(Qi.a.gray70,";font-size:").concat(this.props.preferences.fontSize,"px;left:47px;right:0;top:0;pointer-events:none;overflow:hidden;}"),".examples-placeholder-link.__jsx-style-dynamic-selector{cursor:pointer;pointer-events:all;color:".concat(Qi.a.blue,";-webkit-text-decoration:none;text-decoration:none;}"),".examples-placeholder-link.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector:{-webkit-text-decoration:underline;text-decoration:underline;}"]),n&&go("div",{className:"jsx-728821476 "+oe.a.dynamic([["4041524055",[Qi.a.gray70,this.props.preferences.fontSize,Qi.a.blue]]])+" examples-placeholder"},"Not sure what to do? Run some"," ",go("span",{onClick:function(){return e.props.showExamples({wid:e.props.wid,language:e.props.language})},className:"jsx-728821476 "+oe.a.dynamic([["4041524055",[Qi.a.gray70,this.props.preferences.fontSize,Qi.a.blue]]])+" examples-placeholder-link"},"examples")," ","(start typing to dismiss)"),go(co,{ref:function(t){t&&(e.editor=t)},ace:vo,noFocus:this.props.noFocus||this.props.lite,fontSize:this.props.preferences.fontSize,indentIsSpaces:this.props.preferences.indentIsSpaces,indentSize:this.props.preferences.indentSize,keyboardHandler:this.props.preferences.keyboardHandler,wrapping:this.props.preferences.wrapping,codeIntelligence:this.props.preferences.codeIntelligence,value:this.props.value.toString(),mode:r,onChange:this.onChange,onRun:function(){e._editorRan=!0,e.props.evalProject({wid:e.props.wid})},editorSession:a,dimensions:this.props.dimensions,readOnly:this.props.readonly,annotations:this.props.annotations,onSessionChange:this.onSessionChange,highlightLines:this.props.activeLine?[{row:this.props.activeLine-1,className:"replit-debug-active-line"}]:null,registerEditor:this.registerEditor}))}}]),t}(me.PureComponent),so.defaultProps={style:{},sessionHandle:null,readonly:!1},oo=lo))||oo;function wo(e){return{type:"OT_FILE_OP",wid:e.wid,path:e.path,op:e.op,changeSource:"editor"}}function ko(e){var t=e.wid,n=e.language;return Object(Xe.track)(Xe.events.LANGUAGE_EXAMPLES_VIEWED,{language:n}),{wid:t,type:nt.M}}function jo(e){var t=e.wid,n=e.pud,r=e.sessionHandle;return{type:nt.K,wid:t,pud:n,sessionHandle:r}}function Oo(e){var t=e.wid,n=e.editorHandle;return{type:nt.C,wid:t,editorHandle:n}}function Eo(e,t,n){return"OT_FILE_OP"===n.type?"editor"===n.changeSource?null:function(r,a){var i=n.path,o=n.op,s=a().workspace[e].plugins[t].state.ace,l=s.filePath,c=s.sessionHandle;if(i===l&&c){var u=eo.a.safeGet(c),d=u.getDocument();u.__externalChange=!0;var p=0,f=!0,m=!1,g=void 0;try{for(var b,h=Ur()(o);!(f=(b=h.next()).done);f=!0){var v=b.value;if("string"===typeof v)u.insert(d.indexToPosition(p,0),v),p+=v.length;else if("object"===typeof v&&"number"===typeof v.d){var x=d.indexToPosition(p,0),y=d.indexToPosition(p+v.d),w=new window.ace.Range(x.row,x.column,y.row,y.column);u.remove(w)}else"number"===typeof v&&(p+=v)}}catch(k){m=!0,g=k}finally{try{f||null==h.return||h.return()}finally{if(m)throw g}}u.__externalChange=!1}}:"FILE_LOADED"===n.type||"FILE_CACHE_HIT"===n.type?function(r,a){var i=a().workspace[e].plugins[t].state.ace,o=i.filePath,s=i.sessionHandle,l=i.files;if(n.path===o&&s){var c=eo.a.safeGet(s),u=$i.a.from(l[o].content).toString();c.getValue()!==u&&(c.__externalChange=!0,c.setValue(u),c.__externalChange=!1)}}:n.type===nt.G?function(e){var t=e.wid,n=e.pud,r=e.path,a=e.range;return function(e,i){var o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.ace.editorHandle;if(o===r&&s){var l=eo.a.safeGet(s);l&&l.gotoLine&&l.gotoLine(a.startLineNumber,a.startColumn-1)}}}({wid:e,pud:t,path:n.path,range:n.range}):null}var _o=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sessionHandle:null,readonly:!1,filePath:void 0,annotations:[],activeLine:null,runstate:"idle",editorHandle:null,lite:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt.q:return ho({},e,{},t.initialState);case nt.K:return ho({},e,{sessionHandle:t.sessionHandle});case"MOVE_FILE":return e.filePath&&e.filePath.startsWith(t.path)?ho({},e,{filePath:e.filePath.replace(t.path,t.to)}):e;case nt.u:return t.filePath!==e.filePath?e:ho({},e,{annotations:[]});case nt.t:return t.filePath!==e.filePath?e:ho({},e,{annotations:t.annotations});case nt.J:return ho({},e,{activeLine:t.line});case"DEBUG_STACK":return ho({},e,{activeLine:t.stack.length?t.stack[t.stack.length-1].lineno:null});case"DEBUG_ENDED":return ho({},e,{activeLine:null});case nt.C:return ho({},e,{editorHandle:t.editorHandle});default:return e}},preferences:uo.b,language:po.a,files:ai.a,runstate:at.a}),No=n("Cg2A"),So=n.n(No),Co=n("i8i4"),Po=n("+bZ2"),Io=n("pP2D"),Ao=n("mU7w"),Ro=n("N9ih"),To=me.createElement;function Mo(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Mo(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Do=[],zo=Ao.a,Fo=K.a.resolve();Fo=Promise.all([n.e(50),n.e(33),n.e(34),n.e(124)]).then(n.bind(null,"lX4r")).then((function(e){zo=e.default}));var Uo=1,Ho="REGISTER_MODEL_HANDLE",Bo="REGISTER_STATUS_BAR_HANDLE",Vo="REGISTER_KEYMODE_HANDLE",Ko="SAVE_VIEW_STATE",Go="SET_ACTIVE_LINE_DECORATIONS",qo="REGISTER_ON_CHANGE_HANDLE",Wo="PROMPT_FOR_FILE_STORE_VALUE",Yo=!1,Xo=function(e,t){return Math.round((t?1.5:1.35)*e)},$o=function(e){return 50+3*(e-8)},Qo=function(e){function t(){var e,n;Object(X.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(Q.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(a)))).handleWindowResize=mo()((function(){var e=n.props.editorHandle,t=eo.a.get(e);t&&t.layout&&t.layout()}),250),n.getPromptedValueModal=function(){var e=n.props,t=e.wid,r=e.pud,a=e.promptForFileStoreValue,i=e.filePath;if(!a)return null;var o=function(){n.props.respondToPromptedValue({wid:t,pud:r,accept:!1})};return To(Po.a,{hideModal:o},To(or.a,{onSubmit:function(){n.props.respondToPromptedValue({wid:t,pud:r,accept:!0})},onCancel:o,hideModal:o,submitLabel:"Update content",cancelLabel:"Ignore"},To("div",null,"File changed"),To("div",null,'Seems like "',i,'" has changed on the remote disk, would you like to update it?')))},n.EditorComponent=zo,n.registerEditor=function(e){var t=n.props,r=t.wid,a=t.preferences,i=t.editorHandle,o=t.filePath,s=eo.a.get(i);s&&s.dispose&&s.dispose(),n.props.registerEditorHandle({wid:r,editorHandle:e?eo.a.getHandle(e):null}),e&&(window.monaco.editor.setTheme("replitLight"===Object(pr.c)()?"replit-light":"replit-dark"),e.updateOptions({fontSize:a.fontSize,wordWrap:a.wrapping?"on":"off",quickSuggestions:a.codeIntelligence}),e.onDidFocusEditorWidget((function(){Yo=!0})),e.onDidChangeCursorSelection((function(t){if(e){var a=e.getModel();n.props.dispatch({wid:r,type:"UPDATE_FILE_CURSORS",path:o,selections:e.getSelections().map((function(e){return{position:a.getOffsetAt(e.getPosition()),selectionStart:a.getOffsetAt(e.getStartPosition()),selectionEnd:a.getOffsetAt(e.getEndPosition())}}))})}})))},n.registerStatusBarHandle=function(e){var t=n.props,r=t.wid,a=t.pud,i=t.preferences;n.props.registerStatusBarHandle({wid:r,statusBarHandle:e?eo.a.getHandle(e):null}),e&&n.props.setupKeyboardHandler({wid:r,pud:a,keyboardHandler:i.keyboardHandler})},n.openEditor=function(e){var t=n.props,r=t.editorHandle,a=t.wid,i=t.filePath,o=t.workingDirectory,s=eo.a.get(r);if(!s)throw new Error("Editor not registered");if(!e.resource.path.startsWith(o))return s;var l=e.resource.path.replace(o+"/","");l!==i&&n.props.openFile({wid:a,path:l});var c=Lo({},s.saveViewState(),{cursorState:{inSelectionMode:e.options.selection.startLineNumber!==e.options.selection.endLineNumber||e.options.selection.startColumn!==e.options.selection.endColumn,selectionStart:{lineNumber:e.options.selection.startLineNumber,column:e.options.selection.startColumn},position:{lineNumber:e.options.selection.endLineNumber,column:e.options.selection.endColumn}}});return s.restoreViewState(c),s.revealLine(e.options.selection.startLineNumber),s},n}return Object(Z.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.handleWindowResize),this.EditorComponent===Ao.a&&Fo.then((function(){e.EditorComponent=zo,e.forceUpdate()}))}},{key:"componentWillReceiveProps",value:function(e){if("running"===this.props.runstate&&"running"!==!e.runstate&&this._editorRan){var t=this.props.editorHandle,n=eo.a.get(t);n&&n.focus&&n.focus(),this._editorRan=!1}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.wid,a=t.pud,i=t.showExamplesPlaceholder,o=t.preferences,s=t.language,l=t.isMac,c=t.fileLoaded,u=t.filePath,d=t.theme,p=t.didDisconnect,f=Re.a.getDocs(s),m=this.EditorComponent;return To("div",{style:n,className:oe.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",Qi.a.gray70,o.fontSize,$o(o.fontSize),Xo(o.fontSize,l),Qi.a.blue]]])+" monaco-editor-plugin"},this.getPromptedValueModal(),i&&To("div",{className:oe.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",Qi.a.gray70,o.fontSize,$o(o.fontSize),Xo(o.fontSize,l),Qi.a.blue]]])+" examples-placeholder"},"Not sure what to do? Run some"," ",To("span",{onClick:function(){return e.props.showExamples({wid:r,language:s})},className:oe.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",Qi.a.gray70,o.fontSize,$o(o.fontSize),Xo(o.fontSize,l),Qi.a.blue]]])+" examples-placeholder-link"},"examples"),f&&To("span",{className:oe.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",Qi.a.gray70,o.fontSize,$o(o.fontSize),Xo(o.fontSize,l),Qi.a.blue]]])}," ","or"," ",To("a",{target:"_blank",href:f,className:oe.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",Qi.a.gray70,o.fontSize,$o(o.fontSize),Xo(o.fontSize,l),Qi.a.blue]]])+" examples-placeholder-link"},"view documentation"))," ","(start typing to dismiss)"),To("div",{className:oe.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",Qi.a.gray70,o.fontSize,$o(o.fontSize),Xo(o.fontSize,l),Qi.a.blue]]])+" monaco-editor-plugin-wrapper"},"md"===Object(Zi.a)(u)&&To(Io.a,{renderingMarkdown:!1,onToggle:function(t){return e.props.setPreviewMarkdown({wid:r,preview:t})}}),To(m,{key:r+"-monaco",isMac:l,fontSize:o.fontSize,indentSize:o.indentSize,language:s,theme:d,openShell:function(){e.props.dispatch({type:"OPEN_SHELL",wid:e.props.wid})},pud:a,registerEditor:this.registerEditor,onRun:function(){e._editorRan=!0},openEditor:this.openEditor,getModelFromUri:function(t){return e.props.getModelFromUri({wid:r,pud:a,uri:t})},createAnnotation:function(t){var n=t.indexStart,r=t.indexEnd;e.props.dispatch({type:"CREATE_ANNOTATION",wid:e.props.wid,indexStart:n,indexEnd:r,path:u})},className:oe.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",Qi.a.gray70,o.fontSize,$o(o.fontSize),Xo(o.fontSize,l),Qi.a.blue]]])})),!c&&!p&&To(Ao.a,{theme:d}),c&&this.props.editorHandle?To("div",{ref:this.registerStatusBarHandle,className:oe.a.dynamic([["3420469638",[o.keyboardHandler?"auto":"none",Qi.a.gray70,o.fontSize,$o(o.fontSize),Xo(o.fontSize,l),Qi.a.blue]]])+" monaco-editor-plugin-keybinds-status"}):null,To(pr.a,{onChange:function(e){window.monaco&&window.monaco.editor.setTheme("replitLight"===e?"replit-light":"replit-dark")}}),To(oe.a,{id:"3420469638",dynamic:[o.keyboardHandler?"auto":"none",Qi.a.gray70,o.fontSize,$o(o.fontSize),Xo(o.fontSize,l),Qi.a.blue]},[".monaco-editor-plugin.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".monaco-editor-plugin-wrapper.__jsx-style-dynamic-selector{position:relative;height:100%;width:100%;}",".monaco-editor-plugin-keybinds-status.__jsx-style-dynamic-selector{display:".concat(o.keyboardHandler?"auto":"none",";font-family:'PT Mono',monospace;font-weight:bold;background-color:var(--color-background-1);color:var(--color-foreground-1);}"),".monaco-editor-plugin-keybinds-status.__jsx-style-dynamic-selector input{outline:none;border:none;background:transparent;color:var(--color-foreground-1);font-family:'PT Mono',monospace;}",".editor-wrapper.__jsx-style-dynamic-selector{height:100%;width:100%;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:inline;-ms-flex-direction:inline;flex-direction:inline;}",".examples-placeholder.__jsx-style-dynamic-selector{position:absolute;z-index:1;font-family:Monaco,Menlo,'Ubuntu Mono',Consolas,source-code-pro, monospace;color:".concat(Qi.a.gray70,";font-size:").concat(o.fontSize,"px;left:").concat($o(o.fontSize),"px;line-height:").concat(Xo(o.fontSize,l),"px;right:0;top:2px;pointer-events:none;overflow:hidden;}"),".examples-placeholder-link.__jsx-style-dynamic-selector{cursor:pointer;pointer-events:all;color:".concat(Qi.a.blue,";-webkit-text-decoration:none;text-decoration:none;}"),".examples-placeholder-link.__jsx-style-dynamic-selector:hover{-webkit-text-decoration:underline;text-decoration:underline;}",".editor-loading-overlay.__jsx-style-dynamic-selector{position:absolute;right:0;top:0;height:100%;width:100%;background-color:var(--color-background-2);overflow:hidden;padding:30px;}",".editor-loading-overlay.__jsx-style-dynamic-selector>svg{max-width:640px;min-width:500px;height:auto;}"]))}}]),t}(me.Component);function Jo(e){var t=e.wid,n=e.pud,r=e.viewState;return{type:Ko,wid:t,pud:n,viewState:r}}function Zo(e){var t=e.wid,n=e.keyModeHandle;return{type:Vo,wid:t,keyModeHandle:n}}function es(e){var t=e.wid,n=e.pud,r=e.activeLine;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.modelHandle,s=i.editorHandle,l=i.activeLineDecorations,c=eo.a.get(s),u=eo.a.get(o);if(u&&c){var d=u.deltaDecorations(l,r?[{range:new window.monaco.Range(r,1,r,1),options:{inlineClassName:"replit-monaco-editor-debugger",isWholeLine:!0}}]:[]);e({type:Go,wid:t,pud:n,decorations:d})}}}function ts(e){var t=e.wid,r=e.pud,a=e.keyboardHandler;return function(e,i){var o=i().workspace[t].plugins[r].state.monaco,s=o.editorHandle,l=o.statusBarHandle,c=o.keyModeHandle,u=eo.a.get(s);if(!u)throw new Error("expected editor to be loaded");var d=Co.findDOMNode(eo.a.get(l));if(!d)throw new Error("expected statusbar to be rendered");d.textContent="";var p=eo.a.get(c);p&&p.dispose(),null===a?e(Zo({wid:t,keyModeHandle:null})):"vim"===a?Promise.all([n.e(45),n.e(33),n.e(34),n.e(123)]).then(n.t.bind(null,"iH6r",7)).then((function(n){var r=n.initVimMode(u,d);e(Zo({wid:t,keyModeHandle:eo.a.getHandle(r)}))})):"emacs"===a&&Promise.all([n.e(33),n.e(34),n.e(122)]).then(n.t.bind(null,"VrTg",7)).then((function(n){var r=new n.EmacsExtension(u);r.onDidMarkChange((function(e){d.textContent=e?"Mark Set!":"Mark Unset"})),r.onDidChangeKey((function(e){d.textContent=e})),r.start(),e(Zo({wid:t,keyModeHandle:eo.a.getHandle(r)}))}))}}function ns(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.modelHandle,s=i.filePath;if(s===r||Object(Ui.c)(r,s)){var l=eo.a.get(o);l&&!l.isDisposed()&&(l.dispose(),e({type:Ho,wid:t,filePath:s,modelHandle:null}))}}}function rs(e){var t=e.wid,n=e.pud,r=e.activeFile;return function(e,a){var i=a().workspace[t].plugins,o=i[n].state.monaco,s=o.filePath,l=o.viewState,c=o.modelHandle,u=o.editorHandle,d=o.lite,p=o.files;if(s===r){var f=eo.a.get(u);if(f){var m=eo.a.get(c);if(m){for(var g=0,b=B()(i);g<b.length;g++){var h=b[g],v=i[h];if("editor"===v.type){var x=eo.a.get(v.state.monaco.modelHandle);if(x&&f.getModel()===x){e(Jo({wid:t,pud:h,viewState:f.saveViewState()}));break}}}f.setModel(m),f.restoreViewState(l);var y=p[s]&&p[s].loaded;f.updateOptions({readOnly:!y}),d&&!Yo||setTimeout((function(){return f.focus()}))}}}}}function as(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.plugins,o=a.activeFile,s=i[n].state.monaco,l=s.filePath,c=s.modelHandle,u=s.editorHandle,d=s.preferences,p=s.files,f=s.externalCursors,m=s.language,g=s.workingDirectory;if(eo.a.get(u)){var b=eo.a.get(c);if(!b||b.isDisposed()){var h="";p[l]&&(h=p[l].content);var v=$i.a.from(h).toString(),x=window.monaco.Uri.from({scheme:"file",path:"".concat(g,"/").concat(l)}),y=window.monaco.editor.getModel(x);y&&y.dispose();var w=Re.a.get(m),k=null,j=Object(Zi.a)(l);["ts","tsx"].includes(j)?k=w.hasLanguageServer&&"ts"===w.ext?"replit-ts":"typescript":["js","jsx","es6"].includes(j)&&(k="replit-js-v".concat(Ji["replit-js"])),(y=window.monaco.editor.createModel(v,k,x)).setEOL(0);var O=mo()((function(){return e(Object(nt.fb)({wid:t,eventKey:"WS_TYPED"}))}),6e4),E=y.getValue(),_=y.onDidChangeContent((function(a){var i=a.changes;if(y.__externalChange)E=y.getValue();else{var o=!0,s=!1,l=void 0;try{for(var c,u=Ur()(i);!(o=(c=u.next()).done);o=!0){var d=c.value,p=r().workspace[t].plugins[n].state.monaco,f=p.files,m=p.filePath,g=$i.a.from(f[m].content).toString(),b=[],h=0;if(d.rangeOffset>0){for(var v=E.slice(0,d.rangeOffset).split(y.getEOL()),x=0;x<v.length&&(h+=v[x].length,x!==v.length-1);x++){h+="\r\n"===g.slice(h,h+2)?2:1}b.push(h)}if(d.rangeLength>0){for(var w=E.slice(d.rangeOffset,d.rangeOffset+d.rangeLength).split(y.getEOL()),k=h,j=0;j<w.length&&(h+=w[j].length,j!==w.length-1);j++){h+="\r\n"===g.slice(h,h+2)?2:1}b.push({d:h-k})}d.text&&b.push(d.text),cs({monacoChanges:i,changeIndex:i.indexOf(d),filePath:m,fileContent:g,monacoContent:y.getValue(),prevMonacoValue:E,ops:b}),O(),e({wid:t,type:"OT_FILE_OP",op:b,path:m,changeSource:"editor"}),E=E.slice(0,d.rangeOffset)+d.text+E.slice(d.rangeOffset+d.rangeLength)}}catch(_){s=!0,l=_}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}E!==y.getValue()&&We.m((function(e){e.setExtras({monacoChanges:i,prevValue:E,monacoContent:y.getValue()}),We.c(new Error("Expected prevValue to match model.getValue"))}))}})),N=y.dispose.bind(y);y.dispose=function(){_.dispose(),N()},y.updateOptions({insertSpaces:d.indentIsSpaces,tabSize:d.indentSize});var S=eo.a.getHandle(y);e({type:Ho,wid:t,filePath:l,modelHandle:S}),o===l&&e(rs({wid:t,pud:n,activeFile:o}));for(var C=0,P=te()(f);C<P.length;C++){var I=P[C];e(ss({wid:t,pud:n,path:l,cursor:I}))}return y}o===l&&e(rs({wid:t,pud:n,activeFile:o}))}}}function is(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.modelHandle;i.filePath===r&&o&&e({type:Wo,wid:t,pud:n,promptForFileStoreValue:!0})}}var os={};function ss(e){var t=e.wid,n=e.pud,r=e.cursor,a=e.path;return function(e,i){var o=i().workspace[t].plugins[n].state.monaco,s=o.modelHandle;if(o.filePath===a&&s){var l=eo.a.safeGet(s);l._replit_cursorDecorations=l._replit_cursorDecorations||{};var c=l._replit_cursorDecorations,u=l.getPositionAt(r.position),d=c[r.id]||[],p=r.user.name,f=[{range:window.monaco.Range.fromPositions(u),options:{className:"cursor-"+p.replace(/_/g,"-"),hoverMessage:{value:p,isTrusted:!1},stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}],m=os[p],g=So()()-m,b=!m||g>3e4||g<2e3;if(b&&(f.push({range:window.monaco.Range.fromPositions(u),options:{className:"cursor-tag-"+p.replace(/_/g,"-"),stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}),(!m||g>3e4)&&(os[p]=So()())),r.selectionStart===r.position&&r.selectionEnd===r.position||f.push({range:window.monaco.Range.fromPositions(l.getPositionAt(r.selectionStart),l.getPositionAt(r.selectionEnd)),options:{className:"selection-"+p.replace(/_/g,"-"),stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}),l._replit_cursorDecorations[r.id]=l.deltaDecorations(d,f),b){var h=l._replit_cursorDecorations[r.id][1];setTimeout((function(){l.isDisposed()||l.deltaDecorations([h],[])}),2e3)}}}}function ls(e,t,n){return n.type===nt.L||n.type===nt.O?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.monaco.editorHandle,i=eo.a.get(a);i&&i.layout&&(i.layout(),setTimeout((function(){return i.layout()}),50))}}({wid:e,pud:t}):"UPDATE_WORKING_DIRECTORY"===n.type?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.plugins,o=a.activeFile,s=i[n].state.monaco,l=s.editorHandle,c=s.modelHandle,u=s.filePath,d=s.workingDirectory,p=eo.a.get(l),f=eo.a.get(c);if(f&&p&&f.uri.path.replace(new RegExp("/".concat(u,"$")),"")!==d){o===u&&e(Jo({wid:t,pud:n,viewState:p.saveViewState()}));var m=f._commandManager;f.dispose(),e({type:Ho,wid:t,filePath:u,modelHandle:null});var g=e(as({wid:t,pud:n}))._commandManager;g.currentOpenStackElement=m.currentOpenStackElement,g.past=m.past,g.future=m.future}}}({wid:e,pud:t}):n.type===nt.S?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.monaco.filePath;e(ns({wid:t,pud:n,path:a}))}}({wid:e,pud:t}):n.type===nt.D?as({wid:e,pud:t}):n.type===nt.I?rs({wid:e,pud:t,activeFile:n.activeFile}):"FILE_LOADED"===n.type||"FILE_CACHE_HIT"===n.type?function(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=a().workspace[t],o=i.plugins,s=i.activeFile,l=o[n].state.monaco,c=l.editorHandle,u=l.modelHandle,d=l.filePath,p=l.files;if(r===d){var f=eo.a.get(u);if(f){f.__externalChange=!0,f.applyEdits([{forceMoveMarkers:!1,range:f.getFullModelRange(),text:$i.a.from(p[d].content).toString("utf8")}]),f.__externalChange=!1;var m=eo.a.get(c);m&&d===s&&(m.setSelection({startColumn:1,startLineNumber:1,endColumn:1,endLineNumber:1}),m.updateOptions({readOnly:!1}))}}}}({wid:e,pud:t,path:n.path}):"FILE_UNLOAD"===n.type?function(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i=a().workspace[t],o=i.plugins,s=i.activeFile,l=o[n].state.monaco,c=l.editorHandle,u=l.modelHandle,d=l.filePath;if(r===d){var p=eo.a.get(u);if(p){if(p._replit_cursorDecorations&&B()(p._replit_cursorDecorations).length)for(var f=0,m=B()(p._replit_cursorDecorations);f<m.length;f++){var g=m[f];p.deltaDecorations(p._replit_cursorDecorations[g],[]),delete p._replit_cursorDecorations[g]}e(as({wid:t,pud:n}));var b=eo.a.get(c);b&&d===s&&(b.setSelection({startColumn:1,startLineNumber:1,endColumn:1,endLineNumber:1}),b.updateOptions({readOnly:!0}))}}}}({wid:e,pud:t,path:n.path}):"OT_FILE_OP"===n.type?"editor"===n.changeSource?function(r,a){a().workspace[e].plugins[t].state.monaco.filePath===n.path&&r(Lo({},n,{type:"MONACO_CONFIRM_OT"}))}:"goval"===n.changeSource?is({wid:e,pud:t,path:n.path}):function(e){var t=e.wid,n=e.pud,r=e.path,a=e.op;return function(e,i){var o=i().workspace[t].plugins[n].state.monaco,s=o.filePath,l=o.modelHandle,c=o.filesSnapshot;if(s===r&&l){var u=$i.a.from(c[s].content).toString(),d=eo.a.safeGet(l),p=Object(fi.a)(a),f=0,m=0;for(d.__externalChange=!0;p.length>0;){var g=p.shift();if("number"===typeof g){var b=u.slice(m,m+g).split(/\r\n/g).length-1;m+=g,f+=g-b}else if("object"===typeof g){var h=d.getPositionAt(f),v=u.slice(m,m+g.d).split(/\r\n/g).length-1,x=d.getPositionAt(f+g.d-v);d.applyEdits([{range:new window.monaco.Range(h.lineNumber,h.column,x.lineNumber,x.column),text:"",forceMoveMarkers:!0}]),u=u.slice(0,m)+u.slice(m+g.d)}else{if("string"!==typeof g)throw new Error("Unexpected TextOp");var y=d.getPositionAt(f);d.applyEdits([{range:new window.monaco.Range(y.lineNumber,y.column,y.lineNumber,y.column),text:g,forceMoveMarkers:!0}]),u=u.slice(0,m)+g+u.slice(m),m+=g.length;var w=g.split(/\r\n/g).length-1;f+=g.length-w}}d.__externalChange=!1,e({type:"MONACO_CONFIRM_OT",wid:t,pud:n,path:r,op:a})}}}({wid:e,pud:t,path:n.path,op:n.op}):"ADD_FILE_CURSOR"===n.type?ss(Lo({wid:e,pud:t},n)):"REMOVE_FILE_CURSOR"===n.type?function(r,a){var i=a().workspace[e].plugins[t].state.monaco,o=i.modelHandle,s=i.filePath,l=n.id;if(s===n.path&&o){var c=eo.a.safeGet(o);c._replit_cursorDecorations&&c._replit_cursorDecorations[l]&&(c.deltaDecorations(c._replit_cursorDecorations[l],[]),delete c._replit_cursorDecorations[l])}}:"DELETE_FILE"===n.type?ns({wid:e,pud:t,path:n.path}):"MOVE_FILE"===n.type?function(e){var t=e.wid,n=e.pud,r=e.to;return function(e,a){var i=a().workspace[t],o=i.plugins,s=i.activeFile,l=o[n].state.monaco,c=l.editorHandle,u=l.modelHandle,d=l.filePath;if(!d.startsWith(r)){var p=eo.a.get(c),f=eo.a.get(u);if(f&&p){s===d&&e(Jo({wid:t,pud:n,viewState:p.saveViewState()}));var m=f._commandManager;f.dispose(),e({type:Ho,wid:t,filePath:d,modelHandle:null});var g=e(as({wid:t,pud:n}))._commandManager;g.currentOpenStackElement=m.currentOpenStackElement,g.past=m.past,g.future=m.future}}}}({wid:e,pud:t,to:n.to}):n.type===nt.P?function(e){var t=e.wid,n=e.pud,r=e.updates;return function(e,a){var i=a().workspace[t],o=i.plugins,s=i.activeFile,l=o[n].state.monaco,c=l.modelHandle,u=l.editorHandle,d=l.filePath,p=l.preferences,f=eo.a.get(u),m=eo.a.get(c);m&&f&&(void 0===r.indentIsSpaces&&void 0===r.indentSize||m.updateOptions({insertSpaces:p.indentIsSpaces,tabSize:p.indentSize}),d===s&&(void 0===r.fontSize&&void 0===r.wrapping&&void 0===r.codeIntelligence||f.updateOptions({fontSize:p.fontSize,wordWrap:p.wrapping?"on":"off",quickSuggestions:p.codeIntelligence}),void 0!==r.keyboardHandler&&e(ts({wid:t,pud:n,keyboardHandler:r.keyboardHandler}))))}}({wid:e,pud:t,updates:n.updates}):n.type===nt.J?es({wid:e,pud:t,activeLine:n.line}):n.type===nt.G?function(e){var t=e.wid,n=e.pud,r=e.path,a=e.range;return function(e,i){var o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.monaco,l=s.modelHandle,c=s.editorHandle,u=eo.a.get(c);eo.a.get(l)&&u&&r===o&&(u.focus(),u.setSelection(a),u.revealRangeInCenterIfOutsideViewport(a))}}({wid:e,pud:t,path:n.path,range:n.range}):"SELECT_EDITOR_POSITION"===n.type?function(e){var t=e.wid,n=e.pud,r=e.path,a=e.position;return function(e,i){var o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.monaco,l=s.modelHandle,c=s.editorHandle,u=eo.a.get(c);eo.a.get(l)&&u&&r===o&&(u.focus(),u.setPosition(a),u.revealPositionInCenterIfOutsideViewport(a))}}({wid:e,pud:t,path:n.path,position:n.position}):n.type===nt.x?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.plugins,o=a.activeFile,s=i[n].state.monaco,l=s.filePath,c=s.editorHandle;if(o===l){var u=eo.a.get(c);u&&u.getAction("editor.action.formatDocument").run()}}}({wid:e,pud:t}):"DEBUG_STACK"===n.type?es({wid:e,pud:t,activeLine:n.stack.length?n.stack[n.stack.length-1].lineno:null}):"DEBUG_ENDED"===n.type?es({wid:e,pud:t,activeLine:null}):"EVAL_SETUP"===n.type||n.type===nt.m?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.activeFile;a.plugins[n].state.monaco.filePath===i&&Do.forEach((function(e){return e.flush()}))}}({wid:e,pud:t}):"DOWNLOAD_FILE_CONTENT_SUCCESS"===n.type?function(r,a){var i=a().workspace[e].plugins[t].state.monaco.peekDefinitionResolvers;if(i[n.path]){var o=window.monaco.Uri.from({scheme:"file",path:n.path}),s=window.monaco.editor.getModel(o);s||(s=window.monaco.editor.createModel(n.content.toString(),null,o)),r({type:"REGISTER_PEEK_DEFINITION_RESOLVER",path:n.path,resolver:null}),i[n.path].resolve({model:s,shouldDispose:!0})}}:"DOWNLOAD_FILE_CONTENT_FAILURE"===n.type?function(r,a){var i=a().workspace[e].plugins[t].state.monaco.peekDefinitionResolvers;i[n.path]&&(i[n.path].reject(n.error),r({type:"REGISTER_PEEK_DEFINITION_RESOLVER",path:n.path,resolver:null}))}:null}function cs(e){var t=e.monacoChanges,n=e.changeIndex,r=e.filePath,a=e.fileContent,i=e.monacoContent,o=e.prevMonacoValue,s=e.ops,l=!1,c=a,u=0,d=!0,p=!1,f=void 0;try{for(var m,g=Ur()(s);!(d=(m=g.next()).done);d=!0){var b=m.value;if("string"===typeof b)c=c.slice(0,u)+b+c.slice(u),u+=b.length;else if("object"===typeof b&&"number"===typeof b.d)u+b.d>c.length&&(l=!0),c=c.slice(0,u)+c.slice(u+b.d);else if("number"===typeof b&&(u+=b)>c.length){l=!0;break}}}catch(h){p=!0,f=h}finally{try{d||null==g.return||g.return()}finally{if(p)throw f}}l&&We.m((function(e){e.setExtras({filePath:r,currentContent:ae()(a),monacoContent:ae()(i),prevMonacoValue:ae()(o),monacoChanges:ae()(t),changeIndex:n,ops:ae()(s)}),We.c(new Error("Bad ot op :("))}))}var us=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.monaco,a=n.isMac,i=r.filePath,o=r.editorHandle,s=r.runstate,l=r.promptForFileStoreValue,c=r.preferences,u=r.theme,d=r.language,p=r.files,f=r.workingDirectory,m=r.didDisconnect,g=p[i]&&p[i].loaded,b=Re.a.getMainFileName(d),h=Boolean(p[i]&&p[i].content&&$i.a.from(p[i].content).length);return{workingDirectory:f,showExamplesPlaceholder:g&&!h&&i===b,filePath:i,editorHandle:o,language:d,preferences:c,theme:u,runstate:s,isMac:a,fileLoaded:p[i]&&p[i].loaded,promptForFileStoreValue:l,didDisconnect:m}}),{trackWsEvent:nt.fb,registerEditorHandle:function(e){var t=e.wid,n=e.editorHandle;return{type:nt.D,wid:t,editorHandle:n}},registerStatusBarHandle:function(e){var t=e.wid,n=e.statusBarHandle;return{type:Bo,wid:t,statusBarHandle:n}},setupKeyboardHandler:ts,showExamples:function(e){var t=e.wid,n=e.language;return Object(Xe.track)(Xe.events.LANGUAGE_EXAMPLES_VIEWED,{language:n}),{wid:t,type:nt.M}},openFile:nt.bb,getModelFromUri:function(e){var t=e.wid,n=e.pud,r=e.uri;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.files,s=i.workingDirectory,l=decodeURIComponent(r.path.replace(new RegExp("^".concat(s,"/")),"")),c=window.monaco.editor.getModel(r);return c?o[l]&&o[l].loaded?K.a.resolve({model:c,shouldDispose:!1}):K.a.resolve({model:c,shouldDispose:!0}):new K.a((function(a,i){e({type:"REGISTER_PEEK_DEFINITION_RESOLVER",wid:t,pud:n,path:r.path,resolver:{resolve:a,reject:i}}),e({type:"DOWNLOAD_FILE_CONTENT_REQUEST",wid:t,path:r.path})}))}},respondToPromptedValue:function(e){var t=e.wid,n=e.pud,r=e.accept;return function(e,a){var i=a().workspace[t].plugins[n].state.monaco,o=i.modelHandle,s=i.editorHandle,l=i.promptForFileStoreValue,c=i.files,u=i.filePath;if(l&&o&&s){var d=eo.a.safeGet(s),p=eo.a.safeGet(o);e({type:Wo,wid:t,pud:n,promptForFileStoreValue:!1});var f=$i.a.from(c[u].content).toString();if(r){Object(Xe.track)(Xe.events.REMOTE_FILE_CHANGE_ACCEPTED,{wid:t});var m=p.getFullModelRange(),g=[];d.getModel()===p&&(g=d.getSelections()),p.__externalChange=!0,p.pushEditOperations(g,[{forceMoveMarkers:!1,range:m,text:f}],(function(){return null})),p.__externalChange=!1}else{Object(Xe.track)(Xe.events.REMOTE_FILE_CHANGE_IGNORED,{wid:t});var b=p.getValue(Uo);e({type:"OT_FILE_OP",wid:t,op:[{d:f.length},b],path:u,changeSource:"editor"})}}}},promptNewValue:is,setPreviewMarkdown:function(e){return{type:"SET_PREVIEW_MARKDOWN",wid:e.wid,preview:e.preview}}})(Qo),ds=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filePath:void 0,modelHandle:null,editorHandle:null,onChangeHandle:null,viewState:null,runstate:"idle",activeLineDecorations:[],promptForFileStoreValue:!1,peekDefinitionResolvers:{},lite:!1,externalCursors:{},language:null,didDisconnect:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt.q:return Lo({},e,{},t.initialState);case"REGISTER_ON_SELECTION_CHANGE_HANDLE":return Lo({},e,{onSelectionChangeHandle:t.onSelectionChangeHandle});case"MOVE_FILE":return e.filePath&&e.filePath.startsWith(t.path)?Lo({},e,{filePath:e.filePath.replace(t.path,t.to)}):e;case Ho:return t.filePath!==e.filePath?e:Lo({},e,{modelHandle:t.modelHandle});case qo:return Lo({},e,{onChangeHandle:t.onChangeHandle});case Ko:return Lo({},e,{viewState:t.viewState});case nt.D:return Lo({},e,{editorHandle:t.editorHandle});case Bo:return Lo({},e,{statusBarHandle:t.statusBarHandle});case Vo:return Lo({},e,{keyModeHandle:t.keyModeHandle});case"FILE_LOADED":return Lo({},e,{didDisconnect:!1});case"LOADING_GOVAL_STARTED":return Lo({},e,{didDisconnect:!0});case Go:return Lo({},e,{activeLineDecorations:t.decorations});case Wo:return Lo({},e,{promptForFileStoreValue:t.promptForFileStoreValue});case"REGISTER_PEEK_DEFINITION_RESOLVER":return Lo({},e,{peekDefinitionResolvers:Lo({},e.peekDefinitionResolvers,Object(q.a)({},t.path,t.resolver))});case"ADD_FILE_CURSOR":return t.path!==e.filePath?e:Lo({},e,{externalCursors:Lo({},e.externalCursors,Object(q.a)({},t.cursor.id,t.cursor))});case"REMOVE_FILE_CURSOR":if(t.path!==e.filePath)return e;var n=Lo({},e.externalCursors);return delete n[t.id],Lo({},e,{externalCursors:n});case"FILE_UNLOAD":return Lo({},e,{externalCursors:{}});default:return e}},preferences:uo.b,files:ai.a,language:po.a,workingDirectory:Ro.b,runstate:at.a,filesSnapshot:function(e,t){return"OT_FILE_OP"===t.type?e:Object(ai.a)(e,Lo({},t,{type:"MONACO_CONFIRM_OT"===t.type?"OT_FILE_OP":t.type,changeSource:"editor"}))}}),ps=me.createElement;function fs(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}var ms=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.filePath,a=n.isMobile;return{noFocus:n.noFocus,isMonaco:!("ontouchstart"in window||window.DocumentTouch&&window.document instanceof window.document.DocumentTouch)&&!r.endsWith(".sqlite3")&&!r.endsWith(".wasm")&&!a}}))((function(e){return e.isMonaco?ps(us,e):ps(yo,e)}));function gs(e,t,n){var r=ls(e,t,n)||function(){},a=Eo(e,t,n)||function(){};return Object(Xi.a)(r,a)}var bs,hs=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filePath:null,isMac:!1,isMobile:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt.q:return t.initialState;case"MOVE_FILE":return e.filePath.startsWith(t.path)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):fs(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({},e,{filePath:e.filePath.replace(t.path,t.to)}):e;default:return e}},monaco:ds,ace:_o}),vs=n("Hl1s"),xs=n("KPrg"),ys=n("imBe"),ws=n("dwEI"),ks=n("eLmX"),js=n("nazz"),Os=n("Vb+v"),Es=n("fZNO"),_s=n("DUJV"),Ns=me.createElement;function Ss(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Ss(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Ps=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.files,a=n.debugging;return Cs({},Object(tt.a)(n,["files","debugging"]),{debugging:a,allowDebugger:1===B()(r).filter((function(e){return"py"===Object(Zi.a)(e)})).length||a})}),(function(e){return Object(ke.b)({startDebug:As,stopEval:nt.eb,resume:Rs,stepOver:Ts,stepInto:Ms,stepOut:Ls,setActiveLine:Is,checkTour:Be,sawTour:Ve},e)}))(bs=function(e){function t(){var e,n;Object(X.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(Q.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(a)))).state={showTour:!1},n.handleSawTour=function(){n.setState({showTour:!1}),n.props.sawTour("debugger_start")},n}return Object(Z.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.checkTour("debugger_start").then((function(t){var n=t.seen;return e.setState({showTour:!n})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.stack,a=t.activeLine,i=t.wid,o=t.pud,s=t.allowDebugger,l=t.debugging;if(!s)return Ns("div",{style:n,className:"jsx-2112841350"},"Debugging is disabled because you're in"," ",Ns("a",{href:"https://docs.repl.it/repls/files",className:"jsx-2112841350"},"project-mode.")," If you'd like us to support debugger for project mode"," ",Ns("a",{href:"https://repl.it/feedback/p/debug-mode-project-mode",target:"_blank",className:"jsx-2112841350"},"let us know here"),Ns(oe.a,{id:"2112841350"},["div.jsx-2112841350{padding:50px 20px;background:var(--color-background-1);color:var(--color-foreground-1);line-height:1.2;font-size:14px;}"]));var c={left:30,top:30};if(this.state.showTour&&!l&&this.debuggerStart){var u=this.debuggerStart.getBoundingClientRect();c={left:u.right,top:u.top/2}}return Ns("div",{style:n,className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-wrapper"},Ns("div",{ref:function(t){return e.debuggerStart=t},className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-header"},Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-heading"},"Debug"),l?Ns("div",{onClick:function(){return e.props.stopEval({wid:i})},className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-stop"},Ns(ks.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var--color-foreground-1)"})):Ns("div",{onClick:function(){return e.props.startDebug({wid:i,pud:o})},className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-start"},Ns(ws.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var--color-foreground-1)"})),this.state.showTour&&!l&&Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-start-tour"},Ns(qt,{arrowPosition:"left",sawTour:this.handleSawTour},"Click here to start debugging"))),Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-toolbar"},Ns(ys.a,{position:"bottom"},Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-toolbar-tooltip"},"resume"),Ns("div",{onClick:function(){return e.props.resume({wid:i})},className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" "+(ct()("debugger-toolbar-button",{"debugger-toolbar-button-disabled":!l})||"")},Ns(js.a,null))),Ns(ys.a,{position:"bottom"},Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-toolbar-tooltip"},"step over"),Ns("div",{onClick:function(){return e.props.stepOver({wid:i})},className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" "+(ct()("debugger-toolbar-button",{"debugger-toolbar-button-disabled":!l})||"")},Ns(Os.a,null))),Ns(ys.a,{position:"bottom"},Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-toolbar-tooltip"},"step into"),Ns("div",{onClick:function(){return e.props.stepInto({wid:i})},className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" "+(ct()("debugger-toolbar-button",{"debugger-toolbar-button-disabled":!l})||"")},Ns(Es.a,null))),Ns(ys.a,{position:"bottom"},Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-toolbar-tooltip"},"step out"),Ns("div",{onClick:function(){return e.props.stepOut({wid:i})},className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" "+(ct()("debugger-toolbar-button",{"debugger-toolbar-button-disabled":!l})||"")},Ns(_s.a,null)))),Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-stack-heading"},Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-stack-cell"},"function"),Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-stack-cell"},"line #")),r.slice().reverse().map((function(t,n){var r=a===t.lineno;return Ns("div",{key:"frame-".concat(n),onClick:function(){return e.props.setActiveLine({wid:i,line:t.lineno})},className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" "+(ct()("debugger-stack-row",{"debugger-stack-row-active":r})||"")},Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-stack-cell"},t.functionName),Ns("div",{className:oe.a.dynamic([["1152295779",[Qi.a.black,c.left,c.top]]])+" debugger-stack-cell"},t.lineno))})),Ns(oe.a,{id:"1152295779",dynamic:[Qi.a.black,c.left,c.top]},[".debugger-wrapper.__jsx-style-dynamic-selector{color:".concat(Qi.a.black,";background:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}"),".debugger-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".debugger-heading.__jsx-style-dynamic-selector{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}",".debugger-start.__jsx-style-dynamic-selector,.debugger-stop.__jsx-style-dynamic-selector{height:24px;width:24px;color:var(--color-foreground-2);cursor:pointer;margin-right:10px;position:relative;}",".debugger-start.__jsx-style-dynamic-selector:hover,.debugger-stop.__jsx-style-dynamic-selector:hover{color:#78af87;}",".debugger-start-tour.__jsx-style-dynamic-selector{position:fixed;left:".concat(c.left,"px;top:").concat(c.top,"px;max-width:180px;z-index:99;}"),".debugger-toolbar.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:45px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:var(--color-background-2);color:var(--color-foreground-1);border-top:1px solid var(--color-background-3);padding:0 24px;}",".debugger-toolbar-tooltip.__jsx-style-dynamic-selector{padding:5px !important;}",".debugger-toolbar-button.__jsx-style-dynamic-selector{height:26px;width:26px;cursor:pointer;}",".debugger-toolbar-button.__jsx-style-dynamic-selector:hover{color:var(-color-primary-3);}",".debugger-toolbar-button-disabled.__jsx-style-dynamic-selector{opacity:0.5;cursor:not-allowed;}",".debugger-stack-heading.__jsx-style-dynamic-selector{color:var(--color-foreground-1);background-color:var(--color-background-1);line-height:0;}",".debugger-stack-row.__jsx-style-dynamic-selector{cursor:pointer;line-height:0;}",".debugger-stack-row-active.__jsx-style-dynamic-selector{background-color:#cfedf8;}",".debugger-stack-cell.__jsx-style-dynamic-selector{display:inline-block;width:50%;height:32px;line-height:32px;padding-left:29px;font-size:14px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}"]))}}]),t}(me.PureComponent))||bs;function Is(e){var t=e.wid,n=e.line;return{type:nt.J,wid:t,line:n}}function As(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.files,i=B()(a).find((function(e){return"py"===Object(Zi.a)(e)})),o=$i.a.from(a[i].content).toString();e({type:nt.g,wid:t,code:o})}}function Rs(e){var t=e.wid;return{type:nt.c,wid:t}}function Ts(e){var t=e.wid;return{type:nt.f,wid:t}}function Ms(e){var t=e.wid;return{type:nt.d,wid:t}}function Ls(e){var t=e.wid;return{type:nt.e,wid:t}}var Ds,zs,Fs,Us=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stack:[],activeLine:null,debugging:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt.q:return Cs({},e,{},t.initialState);case nt.j:return Cs({},e,{debugging:!0});case nt.h:case"EVAL_ENDED":return Cs({},e,{stack:[],activeLine:null,debugging:!1});case nt.J:return Cs({},e,{activeLine:t.line});case nt.i:return Cs({},e,{stack:t.stack,activeLine:t.stack.length?t.stack[t.stack.length-1].lineno:null});default:return e}},files:ai.a}),Hs=n("RrDl"),Bs=n("Bmc4"),Vs=me.createElement,Ks=function(){return Vs("div",{className:"jsx-2650750789 help-container"},Vs(oe.a,{id:"2650750789"},[".help-container.jsx-2650750789{height:80vh;width:80vw;max-width:1200px;overflow-y:auto;font-size:16px;line-height:23px;color:var(--color-foreground-1);}",".help-left-col.jsx-2650750789{width:50%;float:left;padding-bottom:40px;padding-top:30px;}",".help-header.jsx-2650750789{text-align:center;font-size:120%;color:var(--color-foreground-1);margin-bottom:20px;}",".help-question.jsx-2650750789{font-weight:bold;margin-left:40px;margin-right:40px;}",".help-answer.jsx-2650750789{margin-left:40px;margin-right:40px;margin-top:5px;margin-bottom:20px;}",".help-right-col.jsx-2650750789{width:50%;float:right;padding-top:30px;}",".help-right-col-content.jsx-2650750789{margin-left:40px;margin-right:40px;margin:auto;}",".help-shortcut.jsx-2650750789{width:8em;text-align:right;display:inline-block;line-height:40px;margin-right:5px;}",".help-kbd.jsx-2650750789{padding:2px 4px;background:#333;border:1px transparent solid;border-radius:2px;color:#fff;text-shadow:0px 1px 2px rgba(0,0,0,1);}",".help-options.jsx-2650750789{display:inline-block;background-image:url('/public/images/settings_gear.png');height:17px;width:17px;background-size:contain;background-position:center;background-repeat:no-repeat;vertical-align:middle;}",".help-run.jsx-2650750789{display:inline-block;vertical-align:middle;background-size:contain;background-repeat:no-repeat;height:13px;width:12.5px;background-image:url('/public/images/run.svg');}",".help-link.jsx-2650750789{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}",".help-link.jsx-2650750789:hover,.help-link.jsx-2650750789:active,.help-link.jsx-2650750789:focus{-webkit-text-decoration:underline;text-decoration:underline;}",".help-code.jsx-2650750789,.help-doc.jsx-2650750789{margin:10px 0;}","code.jsx-2650750789{background-color:var(--color-background-2);color:var(--color-foreground-1);padding:3px;border-radius:2px;}"]),Vs("div",{className:"jsx-2650750789 help-left-col"},Vs("div",{className:"jsx-2650750789 help-header"},"FAQ"),Vs("div",{className:"jsx-2650750789 help-question"},"Q. What is repl.it?"),Vs("div",{className:"jsx-2650750789 help-answer"},"repl.it is a simple yet powerful online compiler, IDE, interpreter and interactive environment for programming languages. The name comes from the"," ",Vs(Gs,{href:"http://en.wikipedia.org/wiki/REPL"},"read-eval-print loop"),", the interactive toplevel used by languages like Lisp and Python."),Vs("div",{className:"jsx-2650750789 help-question"},"Q. How do I start?"),Vs("div",{className:"jsx-2650750789 help-answer"},"Once you have"," ",Vs(kt.a,{href:"/languages"},Vs("a",{className:"jsx-2650750789 help-link"},"selected a language")),", type some code into the editor on the left, then click on the run"," ",Vs("span",{className:"jsx-2650750789 help-run"})," button at the top. Alternatively, you can type an expression into the console on the right side of the screen and then hit Enter. Your expression will be evaluated and its result will be printed. Repeat until satisfied."),Vs("div",{className:"jsx-2650750789 help-question"},"Q. Can I save my session?"),Vs("div",{className:"jsx-2650750789 help-answer"},'Yes! You can save your session (which we call a "repl") and share it with others on our community,'," ",Vs(Gs,{href:"/talk"},"Repl Talk"),". Both the editor's content and the repl will be preserved and can be executed once again using the created link to continue from where you left off."),Vs("div",{className:"jsx-2650750789 help-question"},"Q. Can I write files?"),Vs("div",{className:"jsx-2650750789 help-answer"},"Yes! You can do all sorts of things with files. You can add split up your code into multiple modules, you can read and write data to files, you can even generate images and plots."),Vs("div",{className:"jsx-2650750789 help-question"},"Q. Can I use repl.it on my phone or tablet?")," ",Vs("div",{className:"jsx-2650750789 help-answer"},"Yes! As a web application, repl.it can be used on any device that has a modern web browser."),Vs("div",{className:"jsx-2650750789 help-question"},"Q. How does repl.it work?"),Vs("div",{className:"jsx-2650750789 help-answer"},"For most languages, code is sent to our servers where it will be executed in a secure sandbox. The result is then sent back and rendered on the website. However, some of our interpreters can run directly in your browser without going to the server."),Vs("div",{className:"jsx-2650750789 help-question"},"Q. Can I Embed Repl.it?"),Vs("div",{className:"jsx-2650750789 help-answer"},"Yes! Read the"," ",Vs("a",{target:"_blank",href:"/site/docs/repls/embed",className:"jsx-2650750789"},"instructions")," ","on our docs."),Vs("div",{className:"jsx-2650750789 help-question"},"Q. Can I clear the console programmatically?"),Vs("div",{className:"jsx-2650750789 help-answer"},"In most languages, we support ANSI Escape Sequences, so you can clear the screen by printing the sequence ",Vs("code",{className:"jsx-2650750789"},"\\033[2J")," to the console. Read more on escape sequences"," ",Vs("a",{href:"http://www.isthe.com/chongo/tech/comp/ansi_escapes.html",target:"blank",className:"jsx-2650750789"},"here"),"."),Vs("div",{className:"jsx-2650750789 help-question"},"Q. What languages does repl.it support?"),Vs("div",{className:"jsx-2650750789 help-answer"},"We support over 60 languages. Find them all on our"," ",Vs(Gs,{href:"/languages"},"Languages")," page.")),Vs("div",{className:"jsx-2650750789 help-right-col"},Vs("div",{className:"jsx-2650750789 help-header"},"Docs"),Vs("div",{className:"jsx-2650750789 help-right-col-content"},Vs("div",{className:"jsx-2650750789"},"Visit our ",Vs(Gs,{href:"/site/docs"},"docs page")," ","for more helpful documentation.")),Vs("div",{className:"jsx-2650750789 help-right-col-content"},Vs("div",{style:{marginTop:"20px"},className:"jsx-2650750789 help-header"},"Commonly Accessed Documentation"),Vs("div",{className:"jsx-2650750789 help-doc"},Vs(Gs,{href:"/site/docs/repls/packages"},"Importing Packages")),Vs("div",{className:"jsx-2650750789 help-doc"},Vs(Gs,{href:"/site/docs/repls/secret-keys"},"Using API keys / secrets / env files")),Vs("div",{className:"jsx-2650750789 help-doc"},Vs(Gs,{href:"/site/docs/repls/web-hosting"},"Web Hosting")),Vs("div",{className:"jsx-2650750789 help-doc"},Vs(Gs,{href:"/site/docs/repls/http-servers"},"Deploying a Web Server")),Vs("div",{className:"jsx-2650750789 help-doc"},Vs(Gs,{href:"/site/docs/repls/python-plots"},"Generating Plots in Python"))),Vs("div",{style:{marginTop:"20px"},className:"jsx-2650750789 help-header"},"Editor Shortcuts"),Vs("div",{className:"jsx-2650750789 help-doc"},Vs(Gs,{href:"https://code.visualstudio.com/docs/getstarted/keybindings#_keyboard-shortcuts-reference"},"For a full list of editor shortcuts, please click here"))))},Gs=function(e){var t=e.href,n=e.children;return Vs("a",{href:t,target:"_blank"},n)},qs=n("kfub"),Ws=n("YuJD"),Ys=me.createElement,Xs=function(e){var t=e.toggleFAQ,n=e.toggleMenu,r=e.toggleShortcuts;return Ys("div",{className:"jsx-630086888 menu-container"},Ys("div",{onClick:t,className:"jsx-630086888 help-item"},"What is Repl.it?"),Ys("a",{href:"/talk",onClick:n,target:"_blank",className:"jsx-630086888"},Ys("div",{className:"jsx-630086888 help-item"},"Ask the community for help")),Ys("div",{onClick:r,className:"jsx-630086888 help-item shortcuts"},"Workspace shortcuts"," ",Ys("div",{className:"jsx-630086888 keybindings"},Ys("kbd",{className:"jsx-630086888"},Ws.a.cmdOrCtrlKey),Ys("kbd",{className:"jsx-630086888"},Ws.c?"k":"."))),Ys(oe.a,{id:"630086888"},[".menu-container.jsx-630086888{position:absolute;left:0px;bottom:48px;min-width:235px;padding:var(--spacing-half);border:1px solid var(--color-control-2);background-color:var(--color-background-1);color:var(--color-foreground-1);font-size:var(--font-size-desktop-text-small);border-radius:var(--border-radius-1);outline:0;list-style:none;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);}",".help-item.jsx-630086888{color:var(--color-foreground-1);padding:var(--spacing-1);margin:var(--spacing-half);border-radius:var(--border-radius-1);font-weight:var(--font-weight-regular);font-family:var(--font-family-sans-serif);}",".help-item.jsx-630086888:hover{background-color:var(--color-control-3);}",".help-item.shortcuts.jsx-630086888{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".keybindings.jsx-630086888{margin-left:4px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}","kbd.jsx-630086888{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:1.2em;height:1.2em;border:1px solid #999;border-radius:2px;background:#eee;padding:1px 2px 0px 2px;color:#222;margin-right:2px;font-size:1.1em;}","a.jsx-630086888,a.jsx-630086888:visited{color:inherit;-webkit-text-decoration:none;text-decoration:none;}"]))},$s=function(e){var t=e.wid,n=me.useState(!1),r=Object(G.a)(n,2),a=r[0],i=r[1],o=me.useState(!1),s=Object(G.a)(o,2),l=s[0],c=s[1],u=me.useState(!1),d=Object(G.a)(u,2),p=d[0],f=d[1],m=Object(De.e)(),g=Object(qs.a)((function(){return i(!1)}),[i]),b=function(){p||a||(m({type:"HELP_OPENED",wid:t}),f(!0)),i(!a)};return Ys("div",{ref:g,className:oe.a.dynamic([["3267064227",[Te.BREAKPOINTS.mobileMax+100]]])+" help-container"},Ys("div",{onClick:b,title:"Help and shortcuts","aria-label":"Help and shortcuts","data-microtip-position":"top-right",role:"tooltip",className:oe.a.dynamic([["3267064227",[Te.BREAKPOINTS.mobileMax+100]]])+" help-button"},"?"),a&&Ys(Xs,{toggleFAQ:function(){return c(!0)},toggleShortcuts:function(){m({type:"TOGGLE_COMMAND_BAR",wid:t})},toggleMenu:b}),l&&Ys(Yt.default,{onRequestClose:function(){return c(!1)}},Ys(Ks,null)),Ys(oe.a,{id:"3267064227",dynamic:[Te.BREAKPOINTS.mobileMax+100]},[".help-container.__jsx-style-dynamic-selector{position:absolute;left:var(--spacing-1);bottom:var(--spacing-2);z-index:20;font-family:sans-serif;}",".help-button.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-family:var(--font-family-sans-serif);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:var(--spacing-4);height:var(--spacing-4);font-size:var(--font-size-desktop-text-large);cursor:pointer;border-radius:100%;background-color:var(--color-background-1);color:var(--color-foreground-2);border:1px solid var(--color-control-1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-shadow:0px 6px 6px rgba(0,0,0,0.1);-webkit-transition:0.2s;transition:0.2s;}",".help-button.__jsx-style-dynamic-selector:hover{background-color:var(--color-control-1);color:var(--color-foreground-1);box-shadow:0px 6px 6px rgba(0,0,0,0.15);}","@media screen and (max-width:".concat(Te.BREAKPOINTS.mobileMax+100,"px){.help-button.__jsx-style-dynamic-selector{display:none;}}")]))},Qs=n("g0FR"),Js=n("+7wc"),Zs=n("nG0Z"),el=n("eKMU"),tl=n("TyLv"),nl=n("7okm"),rl=me.createElement;function al(e){var t=e.style,n=e.wid,r=Object(Ot.a)().packager,a=Object(nl.a)(),i=me.useState([]),o=Object(G.a)(i,2),s=o[0],l=o[1],c=me.useState([]),u=Object(G.a)(c,2),d=u[0],p=u[1],f=me.useState(void 0),m=Object(G.a)(f,2),g=m[0],b=m[1],h=me.useState(!1),v=Object(G.a)(h,2),x=v[0],y=v[1],w=function(){var e,t,n;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return y(!0),a.next=3,Y.a.awrap(r.listSpecfile());case 3:e=a.sent,t=e.packages,n=e.error,t&&l(t),n&&l([]),y(!1);case 9:case"end":return a.stop()}}))};me.useEffect((function(){var e=null===a||void 0===a?void 0:a.language;Object(Xe.track)(Xe.events.LIBRARIES_SEARCHED,{wid:n,language:e}),w()}),[]);var k=function(e){return s.some((function(t){var n,r;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())}))},j=function(e){var t;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(Xe.track)(Xe.events.PACKAGES_SEARCHED,{query:e}),n.next=3,Y.a.awrap(r.searchPackages(e));case 3:t=n.sent,p(t);case 5:case"end":return n.stop()}}))},O=function(e){var t;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==e&&e.name){n.next=3;break}return b(void 0),n.abrupt("return");case 3:return Object(Xe.track)(Xe.events.PACKAGES_SELECTED,{package:e.name}),y(!0),n.next=7,Y.a.awrap(r.fetchPackageInfo(e.name));case 7:t=n.sent,y(!1),b(t),0===s.length&&w();case 11:case"end":return n.stop()}}))},E=me.useState(""),_=Object(G.a)(E,2),N=_[0],S=_[1];return rl("div",{style:t,className:"jsx-1295002028 libsearch"},rl("div",{className:"jsx-1295002028 libsearch-header"},rl("div",{className:"jsx-1295002028 libsearch-heading"},"Packages")),g?rl(il,{pkg:g,isPackagerRunning:x,isAlreadyInstalled:k(g),onInstall:function(e){return Y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(Xe.track)(Xe.events.PACKAGES_INSTALLING,{package:e.name}),k(e)||!e.name){t.next=8;break}return y(!0),t.next=5,Y.a.awrap(r.addPackages([e.name]));case 5:return y(!1),t.next=8,Y.a.awrap(w());case 8:case"end":return t.stop()}}))},onUninstall:function(e){return Y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!k(e)||!e.name){t.next=7;break}return y(!0),t.next=4,Y.a.awrap(r.removePackages([e.name]));case 4:return y(!0),t.next=7,Y.a.awrap(w());case 7:case"end":return t.stop()}}))},onBack:function(){return O(null)}}):rl(sl,{resetSearchState:function(){return j("")},onSearch:j,onSelectLibrary:O,libraries:d,specfilePackages:s,query:N,setQuery:S}),rl(oe.a,{id:"1295002028"},[".libsearch.jsx-1295002028{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".libsearch-header.jsx-1295002028{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".libsearch-heading.jsx-1295002028{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}"]))}function il(e){var t=e.pkg,n=e.isPackagerRunning,r=e.isAlreadyInstalled,a=e.onBack,i=e.onInstall,o=e.onUninstall,s=t.description||"This package has no description.";return rl("div",{className:"jsx-2887066402 libsearch-details"},rl("div",{onClick:a,className:"jsx-2887066402 libsearch-details-back"},rl(Ht.a,{size:4.5,direction:"left",color:"currentColor"})," back to search"," "),rl("div",{className:"jsx-2887066402 libsearch-details-header"},rl("div",{className:"jsx-2887066402 libsearch-details-libname"},t.name),rl("div",{onClick:function(){n||(r?o(t):i(t))},className:"jsx-2887066402 libsearch-details-cta"},rl(ol,{state:n?"working":r?"remove":"add"}))),"version"in t&&rl("div",{className:"jsx-2887066402 libsearch-details-version"},"version ",t.version),rl("div",{className:"jsx-2887066402 libsearch-details-description"},n&&!t.description?"loading...":s),rl("div",{className:"jsx-2887066402 libsearch-details-metadata"},"homepageURL"in t&&t.homepageURL&&rl("div",{className:"jsx-2887066402 details-meta-item libsearch-details-website"},rl("div",{className:"jsx-2887066402 label"},"Website"),rl("div",{className:"jsx-2887066402 value"},rl("a",{href:t.homepageURL,rel:"noreferer noopener",target:"_blank",className:"jsx-2887066402"},t.homepageURL))),"license"in t&&t.license&&rl("div",{className:"jsx-2887066402 details-meta-item libsearch-details-license"},rl("div",{className:"jsx-2887066402 label"},"License"),rl("div",{className:"jsx-2887066402 value"},t.license)),"author"in t&&t.author&&rl("div",{className:"jsx-2887066402 details-meta-item libsearch-details-authors"},rl("div",{className:"jsx-2887066402 label"},"Author"),rl("div",{className:"jsx-2887066402 value"},t.author)),"dependencies"in t&&t.dependencies&&t.dependencies.length>0?rl("div",{className:"jsx-2887066402 details-meta-item libsearch-details-deps"},rl("div",{className:"jsx-2887066402 label"},t.dependencies.length," dependencies"),rl("div",{className:"jsx-2887066402 value"},rl("ul",{className:"jsx-2887066402 libsearch-details-deps-list"},t.dependencies.map((function(e){return rl("li",{key:e.name||"",className:"jsx-2887066402"},e.name)}))))):null),rl("div",{className:"jsx-2887066402 libsearch-details-seperator"}),rl(oe.a,{id:"2887066402"},[".libsearch-details.jsx-2887066402{padding:12px 15px;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow-y:auto;overflow-x:hidden;color:var(--color-foreground-2);}",".libsearch-details-back.jsx-2887066402{cursor:pointer;margin-bottom:20px;color:var(--color-foreground-2);}",".libsearch-details-back.jsx-2887066402:hover{color:var(--color-foreground-1);}",".libsearch-details-header.jsx-2887066402{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin-bottom:18px;}",".libsearch-details-libname.jsx-2887066402{font-size:1.5em;margin:6px;margin-left:0;word-wrap:break-word;}",".libsearch-details-cta.jsx-2887066402{margin-top:calc(1.25em - 12px);height:22px;width:22px;cursor:pointer;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".libsearch-details-title.jsx-2887066402{font-size:1.4em;}",".libsearch-details-version.jsx-2887066402{color:var(--color-foreground-2);font-size:1em;margin-bottom:24px;}",".libsearch-details-description.jsx-2887066402{margin-bottom:20px;line-height:1.3em;}",".libsearch-details-metadata.jsx-2887066402:not(:empty){border-top:1px solid var(--color-control-1);padding-top:20px;}",".details-meta-item.jsx-2887066402{padding:8px 0;width:100%;}",".details-meta-item.jsx-2887066402 .label.jsx-2887066402{font-weight:bold;margin-bottom:4px;font-size:1.1em;}",".details-meta-item.jsx-2887066402 .value.jsx-2887066402{line-height:1.3em;word-wrap:break-word;color:var(--color-foreground-2);}",".libsearch-details-website.jsx-2887066402 .value.jsx-2887066402{word-wrap:break-word;overflow:hidden;}",".libsearch-details-deps-list.jsx-2887066402{list-style:none;}"]))}function ol(e){switch(e.state){case"working":return rl("div",{title:"Working...",className:oe.a.dynamic([["1455602669",["#78af87","#78af87"]]])+" rotato"},rl(oe.a,{id:"1455602669",dynamic:["#78af87","#78af87"]},["@-webkit-keyframes rotato-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes rotato-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".rotato.__jsx-style-dynamic-selector{height:100%;width:100%;border-radius:50%;border-top:2px solid ".concat("#78af87",";border-right:2px solid ").concat("#78af87",";-webkit-animation:rotato-__jsx-style-dynamic-selector 1.6s linear infinite;animation:rotato-__jsx-style-dynamic-selector 1.6s linear infinite;cursor:not-allowed;}")]));case"add":return rl(ys.a,{position:"left"},rl("div",null,"Add package"),rl("div",{style:{height:22,width:22},title:"Add package"},rl(Zs.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"})));default:case"remove":return rl(ys.a,{position:"left"},rl("div",null,"Remove package"),rl("div",{style:{height:22,width:22},title:"Remove package"},rl(el.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"})))}}function sl(e){var t=e.resetSearchState,n=e.onSearch,r=e.onSelectLibrary,a=e.libraries,i=e.specfilePackages,o=e.query,s=e.setQuery,l=me.useState(!1),c=Object(G.a)(l,2),u=c[0],d=c[1],p=me.useState(0),f=Object(G.a)(p,2),m=f[0],g=f[1],b=me.useRef();a!==b.current&&(d(!1),g(0)),b.current=a;var h=me.useCallback(Un()(n,400),[]);var v=""===o,x=v?i:a;return rl("div",{onKeyDown:function(e){function t(e){return(a.length+e)%a.length}switch(Object(tl.a)(e),e.key){case"ArrowUp":e.preventDefault(),g(t(m-1));break;case"ArrowDown":e.preventDefault(),g(t(m+1));break;case"Tab":e.shiftKey?(e.preventDefault(),g(t(m-1))):(e.preventDefault(),g(t(m+1)));break;case"Enter":e.preventDefault(),-1!==m&&a.length>0&&r(a[m])}},className:"jsx-2366923719 libsearch-search"},rl("div",{className:"jsx-2366923719 libsearch-search-input"},rl("input",{type:"text",placeholder:"search for a package",value:o,onChange:function(e){s(e.target.value),function(e){if(""===e.trim())return t(),void d(!1);d(!0),h(e.trim())}(e.target.value)},autoFocus:!0,className:"jsx-2366923719"}),u&&rl("div",{title:"loading",className:"jsx-2366923719 libsearch-search-loading"})),0===x.length&&!u&&rl("div",{className:"jsx-2366923719 libsearch-search-no-results"},v?"No packages installed":"No packages found"),v&&x.length>0&&rl("div",{className:"jsx-2366923719 libsearch-installed-header"},"Installed packages"),x.length>0&&rl("ul",{className:"jsx-2366923719 libsearch-search-result"},x.map((function(e,t){return rl(ll,{key:e.name||"Unknown",pkg:e,index:t,focused:m===t,onSelect:r,onMouseOver:function(){return function(e){g(e)}(t)}})}))),v&&rl("div",{className:"jsx-2366923719 libsearch-bare-imports-tip"},rl("div",{className:"jsx-2366923719 header"},"Packages Tip"),rl("p",{className:"jsx-2366923719 packages-tip"},"If you know which packages you want to use in your repl, you can just import and use packages in your repl as if they were already installed, and new packages will be installed for you the next time you run the repl.")),rl(oe.a,{id:"2366923719"},[".libsearch-search.jsx-2366923719{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:100%;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;color:var(--color-foreground-1);}",".libsearch-search-input.jsx-2366923719{width:100%;position:relative;}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::-webkit-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::-moz-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719:-ms-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719{padding:12px 30px 15px 12px;font-size:1em;width:100%;border-top:none;border-right:none;border-left:none;outline:none;color:var(--color-foreground-1);background-color:var(--color-background-1);border-bottom:solid 1px var(--color-control-1);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719:focus{border-color:var(--color-primary-1);}",".libsearch-search-loading.jsx-2366923719{position:absolute;top:8.5px;right:0px;width:30px;height:23px;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;background-size:contain;}",".libsearch-search-no-results.jsx-2366923719{font-size:15px;margin:20px auto;text-align:left;}",".libsearch-installed-header.jsx-2366923719{padding:12px;font-size:16px;}",".libsearch-search-result.jsx-2366923719{list-style:none;overflow:auto;max-height:100%;-webkit-overflow-scrolling:touch;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;}",".libsearch-bare-imports-tip.jsx-2366923719{background-color:var(--color-background-2);width:calc(100% - 20px);margin:12px auto;padding:8px 12px;line-height:1.4em;max-width:500px;}",".libsearch-bare-imports-tip.jsx-2366923719 .header.jsx-2366923719{font-weight:bold;font-size:1.1em;margin-bottom:8px;}",".libsearch-bare-imports-tip.jsx-2366923719 .body.jsx-2366923719{line-height:1.5em;}",".libsearch-bare-imports-tip.jsx-2366923719 .body.jsx-2366923719 p.jsx-2366923719{margin-top:8px;}",".packages-tip.jsx-2366923719{color:var(--color-foreground-2);}"]))}function ll(e){var t=e.pkg,n=e.index,r=e.focused,a=e.onSelect,i=e.onMouseOver;return rl("li",{key:t.name||"Unknown","data-index":n,onClick:function(){return a(t)},onMouseOver:i,className:"jsx-1407274871 "+((r?"libsearch-search-item libsearch-search-item-hover":"libsearch-search-item")||"")},rl("div",{className:"jsx-1407274871 pkgHeader"},rl("div",{className:"jsx-1407274871 pkgName"},t.name),"version"in t&&t.version&&rl("div",{className:"jsx-1407274871 pkgVersion"},rl("p",{className:"jsx-1407274871"},t.version))),"description"in t&&t.description&&rl("div",{className:"jsx-1407274871 pkgDescription"},t.description),rl(oe.a,{id:"1407274871"},[".libsearch-search-item.jsx-1407274871{cursor:pointer;font-size:1em;padding:18px 12px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-2);cursor:pointer;}",".libsearch-search-item-hover.jsx-1407274871{background-color:var(--color-background-2);}",".pkgHeader.jsx-1407274871{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".pkgName.jsx-1407274871{font-weight:bold;font-size:1.1em;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}",".pkgVersion.jsx-1407274871{color:var(--color-foreground-2);margin-left:6px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;}",".pkgDescription.jsx-1407274871{margin-top:6px;font-size:1em;line-height:1.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;}"]))}var cl=me.createElement;function ul(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):ul(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var pl=Object(De.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.filePath,a=n.files[r];return{value:a&&a.loaded?$i.a.from(a.content):$i.a.from(""),filePath:r,mime:Object(Zi.c)(r),fileLoaded:a&&a.loaded}}),(function(e){return Object(ke.b)({},e)}))((Fs=zs=function(e){function t(){return Object(X.a)(this,t),Object(Q.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mime,n=e.filePath,r=e.style,a=e.value,i=e.fileLoaded;if(!t)throw new Error("MediaView only supports video, audio, pdf, and images. Filepath: ".concat(n));var o,s=a.toString("base64");if(i)if(t.startsWith("video/"))o=cl("video",{src:"data:".concat(t,";base64,").concat(s),style:{maxHeight:"100%",maxWidth:"100%"},controls:!0});else if(t.startsWith("image/"))o=cl("img",{src:"data:".concat(t,";base64,").concat(s),style:{maxHeight:"100%",maxWidth:"100%"},alt:n});else if(t.startsWith("audio/")){var l=t;"audio/wave"===l&&(l="audio/wav"),o=cl("audio",{src:"data:".concat(l,";base64,").concat(s),style:{maxHeight:"100%",maxWidth:"100%"},controls:!0})}else{if("application/pdf"!==t)throw new Error("MediaView only supports video, audio, pdf, and images. Filepath: ".concat(n));o=cl("object",{data:"data:".concat(t,";base64,").concat(s),type:"application/pdf",style:{width:"100%",height:"100%"}},cl("embed",{src:"data:".concat(t,";base64,").concat(s),type:"application/pdf",style:{width:"100%",height:"100%"}}))}else o=cl("div",null,"Loading file, please wait.");return cl("div",{style:r,className:oe.a.dynamic([["4279445839",[Qi.a.gray85]]])+" mediaview"},cl("div",{className:oe.a.dynamic([["4279445839",[Qi.a.gray85]]])+" mediaview-download"},"Some files may fail to load on the browser."," ",cl("a",{href:"data:text/plain;base64,".concat(s),download:Object(Zi.b)(n),className:oe.a.dynamic([["4279445839",[Qi.a.gray85]]])},"Click here to download")),cl("div",{className:oe.a.dynamic([["4279445839",[Qi.a.gray85]]])+" mediaview-content"},o),cl(oe.a,{id:"4279445839",dynamic:[Qi.a.gray85]},[".mediaview.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#0e0e0e;}",".mediaview-download.__jsx-style-dynamic-selector{text-align:center;width:100%;color:".concat(Qi.a.gray85,";padding:10px;}"),".mediaview-content.__jsx-style-dynamic-selector{min-height:0;-webkit-flex:1;-ms-flex:1;flex:1;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]))}}]),t}(me.Component),zs.defaultProps={style:{}},Ds=Fs))||Ds;var fl=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filePath:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt.q:return dl({},e,{},t.initialState);case"SET_MEDIA_FILE":return dl({},e,{filePath:t.filePath});case"MOVE_FILE":return e.filePath&&e.filePath.startsWith(t.path)?dl({},e,{filePath:e.filePath.replace(t.path,t.to)}):e;default:return e}},files:ai.a}),ml=n("d76n"),gl=n("dXu1"),bl=n("mEHV"),hl=ge.a.createElement,vl=function(e){function t(){return Object(X.a)(this,t),Object(Q.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(Z.a)(t,e),Object($.a)(t,[{key:"render",value:function(){return hl("div",{style:this.props.style,className:"jsx-849216488 react-native-container"},hl("div",{className:"jsx-849216488 react-native-content"},hl("div",{style:{fontSize:"25px",textAlign:"center"},className:"jsx-849216488"},"\ud83d\ude14"),hl("br",{className:"jsx-849216488"}),hl("br",{className:"jsx-849216488"}),"We have discontinued support for React Native on repl.it to focus more on other languages that use our infrastracture. We had a good run and we're happy to have served thousands of users play with mobile apps using their favorite web IDE.",hl("br",{className:"jsx-849216488"}),hl("br",{className:"jsx-849216488"}),"You can checkout our"," ",hl(kt.a,{href:"/languages"},hl("a",{className:"jsx-849216488"},"broad list of languages.")),hl("br",{className:"jsx-849216488"}),hl("br",{className:"jsx-849216488"}),"For React Native you should head over to"," ",hl("a",{href:"https://snack.expo.io/",target:"_blank",className:"jsx-849216488"},"Snack")," ","where our friends at ",hl("a",{href:"https://expo.io/",className:"jsx-849216488"},"Expo")," have created a playground dedicated to React Native mobile development."),hl(oe.a,{id:"849216488"},[".react-native-container.jsx-849216488{font-size:17px;line-height:1.2;}",".react-native-content.jsx-849216488{max-width:800px;margin:30px auto;}"]))}}]),t}(ge.a.Component),xl=n("+Fpg"),yl=n("liZS"),wl=n("Jkqq"),kl=me.createElement;function jl(e){var t=e.hideModal,n=e.replId,r=e.usersOnline,a=e.onUserClick,i=e.isOpen;return kl(hr.a,{isOpen:i,onRequestClose:t},kl(Ol,{replId:n,onUserClick:a,usersOnline:r}))}function Ol(e){var t=e.replId,n=e.usersOnline,r=e.onUserClick,a=Object(dt.S)({variables:{replId:t}}),i=a.data,o=a.loading,s=a.error;if(o)return kl("div",{className:"jsx-1405322551"},kl(_n.a,{style:{width:"50px"}}),kl(oe.a,{id:"1405322551"},[".user-list-loader.jsx-1405322551{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-height:200px;}"]));if(s)return kl("div",null,s.message);if("Repl"===(null===i||void 0===i?void 0:i.repl.__typename)){var l=i.repl,c=l.user,u=c&&n.find((function(e){return e.username===c.username}));return kl("div",{className:"jsx-1825929647 user-list-modal"},kl(Pr.a,{level:2},"Multiplayers"),kl(Pr.a,{level:5},"Users can interact with this repl in real time."),kl("div",{className:"jsx-1825929647 user-list"},c?kl(_l,Object(P.a)({},c,{onClick:r,isOnline:Boolean(u),color:u?u.color:"transparent",isOwner:!0,type:dt.A.Rw})):null,l.permissions.map((function(e){var t=e.type,a=e.user;if(!a)return null;var i=n.find((function(e){return e.username===a.username}));return kl(_l,Object(P.a)({onClick:r,key:"chat-user-list-".concat(a.username),type:t},a,{isOnline:n.some((function(e){return e.username===a.username})),color:i?i.color:"transparent",isOwner:!1}))}))),kl(oe.a,{id:"1825929647"},[".user-list-modal.jsx-1825929647{color:var(--color-foreground-1);padding:var(--spacing-4);display:grid;grid-template-rows:auto auto 1fr;grid-gap:var(--spacing-2);}",".user-list.jsx-1825929647{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-height:330px;overflow-y:auto;}"]))}return"ReplRedirect"===(null===i||void 0===i?void 0:i.repl.__typename)?kl("div",null,"This repl has moved to"," ",kl("a",{href:i.repl.replUrl},i.repl.replUrl)):"SubscriptionExpiredError"===(null===i||void 0===i?void 0:i.repl.__typename)?kl("div",null,"Your subscition has expired.",kl("a",{href:"/site/pricing"},"Upgrade here")):null}var El={r:"read only",rw:"can edit"};function _l(e){var t=e.type,n=e.username,r=e.image,a=e.isOnline,i=e.isOwner,o=e.color,s=e.onClick;return kl("div",{className:oe.a.dynamic([["584706792",[o]]])+" "+(ct()("user-list-item-wrapper",{online:a})||"")},kl("img",{src:r,className:oe.a.dynamic([["584706792",[o]]])+" "+((a?"":"offline")||"")}),kl("div",{className:oe.a.dynamic([["584706792",[o]]])+" info"},kl("div",{className:oe.a.dynamic([["584706792",[o]]])},kl("a",{href:"/@".concat(n),target:"_blank",onClick:s,className:oe.a.dynamic([["584706792",[o]]])},"@",n),!a&&" (offline)"),kl("div",{className:oe.a.dynamic([["584706792",[o]]])},i?"owner":El[t])),kl(oe.a,{id:"584706792",dynamic:[o]},[".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--spacing-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-order:1;-ms-flex-order:1;order:1;}","img.__jsx-style-dynamic-selector{width:40px;height:40px;border-radius:20px;border:3px solid ".concat(o,";background:white;object-fit:cover;}"),".info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:10px;}","img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%);}",".user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-order:0;-ms-flex-order:0;order:0;}"]))}var Nl=me.createElement,Sl=2;function Cl(e){var t=e.usersOnline,n=e.showModal,r=e.wid,a=e.replId,i=Object(De.e)(),o=Object(dt.R)({variables:{replId:a},fetchPolicy:"network-only"}),s=o.data,l=o.refetch,c="Repl"===(null===s||void 0===s?void 0:s.repl.__typename)?s.repl:null,u=(null===c||void 0===c?void 0:c.user)&&t.find((function(e){var t;return e.id===(null===(t=c.user)||void 0===t?void 0:t.id)})),d=c&&c.permissions?c.permissions.map((function(e){return e.user})).filter((function(e){return e})):null,p=c&&d?d.reduce((function(e,n){var r=n&&t.find((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}));return n&&r&&e.push({username:n.username,image:n.image,color:r.color}),e}),c.user&&u?[{username:c.user.username,image:c.user.image,color:u.color}]:[]):null;return me.useEffect((function(){p&&t.length>p.length&&l()}),[t,p,l]),Nl("div",{className:"jsx-2176463584 chat-roster"},p?p.slice(0,Sl).map((function(e){return Nl("img",{src:e.image,title:e.username,key:e.username,style:{border:"2px solid ".concat(e.color)},className:"jsx-2176463584"})})):null,t.length>Sl&&Nl("button",{onClick:n,className:"jsx-2176463584 see-all"},"+",t.length-Sl),Nl("div",{className:"jsx-2176463584 online-count"},p&&d?Nl("a",{onClick:function(e){e.preventDefault(),i({type:"OPENED_MP_ROSTER",wid:r,replId:a}),n()},className:"jsx-2176463584"},"".concat(t.length,"/").concat(Math.max(t.length,d.length)," online")):"loading"),Nl(oe.a,{id:"2176463584"},[".chat-roster.jsx-2176463584{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","img.jsx-2176463584{background-color:white;}","img.jsx-2176463584,.see-all.jsx-2176463584{width:36px;min-width:36px;height:36px;border-radius:20px;margin-left:-10px;}",".see-all.jsx-2176463584{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:16px;cursor:pointer;padding:0px;background-color:var(--color-background-1);color:var(--color-green-1);border:0 none;}",".see-all.jsx-2176463584:focus{outline:0 none;}",".see-all.jsx-2176463584:hover{color:var(--color-foreground-1);background-color:var(--color-green-1);}",".online-count.jsx-2176463584{margin-left:15px;white-space:nowrap;}",".online-count.jsx-2176463584 a.jsx-2176463584{color:var(--color-foreground-1);cursor:pointer;white-space:nowrap;}"]))}var Pl=n("iBZX"),Il=me.createElement,Al=2500,Rl={join:"joined",leave:"left"},Tl=function(e){if(Rl[e.type])return Rl[e.type];if("message"===e.type)return e.text;throw new Error("Unknown chat message type ".concat(e.type))};var Ml=function(e){var t=e.expanded,n=e.messages,r=e.position,a=e.usersOnline,i=e.toggleChat,o=fr.a.replitDark,s=function(e,t){var n=me.useState([]),r=Object(G.a)(n,2),a=r[0],i=r[1],o=me.useState(null),s=Object(G.a)(o,2),l=s[0],c=s[1],u=me.useRef(a);u.current=a;var d=me.useRef(null);return me.useEffect((function(){if(null===d.current){var e=a[0];e&&(c(e),d.current=setTimeout((function(){i(u.current.slice(1)),0===u.current.length&&c(null),d.current=null}),Al))}}),[a]),me.useEffect((function(){e||t[t.length-1]&&i([].concat(Object(fi.a)(a),[t[t.length-1]]))}),[t.length]),me.useEffect((function(){e?(i([]),d.current&&(clearTimeout(d.current),d.current=null)):(c(null),d.current=null,i([]))}),[e]),l}(t,n);if(!s||t)return null;var l=a.find((function(e){return e.username===s.username})),c=l?l.color:"transparent",u=!!Rl[s.type];return Il("div",{onClick:function(e){e.stopPropagation(),i()},className:oe.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Al,c,o.base.boldForeground]]])+" message-notification"},Il(dt.h,{variables:{username:s.username}},(function(e){var t=e.loading,n=e.data;return!t&&n&&n.user&&n.user.image?Il("img",{src:n.user.image,className:oe.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Al,c,o.base.boldForeground]]])+" chat-message-picture"}):Il("div",{className:oe.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Al,c,o.base.boldForeground]]])+" chat-message-picture"})})),Il("div",{className:oe.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Al,c,o.base.boldForeground]]])+" message"},Il("span",{className:oe.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Al,c,o.base.boldForeground]]])+" "+((u?"bold-text":"dimmed-text")||"")},s.username),!u&&":"," ",Il("span",{className:oe.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Al,c,o.base.boldForeground]]])+" "+((u?"dimmed-text":"bold-text")||"")},s.parsedMessage?Il(Pl.a,{message:s.parsedMessage}):Tl(s))),Il(oe.a,{id:"2085728046",dynamic:[o.modal.background,r,o.base.foreground,Al,c,o.base.boldForeground]},[".message-notification.__jsx-style-dynamic-selector{background:".concat(o.modal.background,";border:1px solid #61429a;position:absolute;").concat(r,":60px;bottom:0;color:").concat(o.base.foreground,";border-radius:6px;padding:3px 15px;cursor:auto;max-width:250px;width:auto;height:36px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:1;-webkit-animation-name:fadepopup-__jsx-style-dynamic-selector;animation-name:fadepopup-__jsx-style-dynamic-selector;-webkit-animation-duration:").concat(Al,"ms;animation-duration:").concat(Al,"ms;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;cursor:pointer;font-size:14px;}"),".chat-message-picture.__jsx-style-dynamic-selector{min-width:24px;margin-right:10px;width:24px;border-radius:15px;border:1px solid ".concat(c,";}"),".bold-text.__jsx-style-dynamic-selector{color:".concat(o.base.boldForeground,";}"),".dimmed-text.__jsx-style-dynamic-selector{color:#808285;}",".message.__jsx-style-dynamic-selector{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}","@-webkit-keyframes fadepopup-__jsx-style-dynamic-selector{0%{opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}}","@keyframes fadepopup-__jsx-style-dynamic-selector{0%{opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}}","@media (max-width:500px){.message-notification.__jsx-style-dynamic-selector{left:60px !important;right:auto !important;}}"]))},Ll=me.createElement;function Dl(e){var t=e.message,n=e.color,r=e.isFirstMessage,a=e.isOnline,i=t.parsedMessage?Ll(Pl.a,{message:t.parsedMessage}):Tl(t);return["join","leave"].includes(t.type)?Ll(zl,{username:t.username,color:n,message:i,isOnline:a}):Ll("div",null,Ll("div",{className:oe.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" "+(ct()("chat-message",{"first-message":r})||"")},r?Ll(me.Fragment,null,Ll(Fl,{username:t.username,isOnline:a}),Ll("div",{className:oe.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" content"},Ll("div",{className:oe.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" username"},t.username),Ll("div",{className:oe.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" text"},i))):Ll("div",{className:oe.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" text"},i),Ll(oe.a,{id:"2574004682",dynamic:[n,r?"0px 10px 10px 10px":"10px",n]},[".chat-message.__jsx-style-dynamic-selector{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto', 'Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans', 'Helvetica Neue',sans-serif;border:1px solid ".concat(n,";border-radius:10px;position:relative;margin-top:5px;padding:5px 16px;border-radius:").concat(r?"0px 10px 10px 10px":"10px",";word-wrap:break-word;white-space:pre-wrap;margin-left:3px;display:inline-block;max-width:100%;}"),".chat-message.first-message.__jsx-style-dynamic-selector .profile-image{width:40px;height:40px;min-width:40px;border-radius:20px;border:2px solid ".concat(n,";position:absolute;top:-16px;left:-4px;object-fit:cover;background:white;}"),".chat-message.first-message.__jsx-style-dynamic-selector>.offline{-webkit-filter:grayscale(100%);filter:grayscale(100%);}",".username.__jsx-style-dynamic-selector{color:#808285;margin:0 0 8px 25px;font-size:14px;}",".text.__jsx-style-dynamic-selector{color:var(--color-foreground-1);line-height:1.1;display:inline-block;font-size:15px;max-width:100%;}",".first-message.__jsx-style-dynamic-selector{margin-top:30px;}"])))}function zl(e){var t=e.username,n=e.message,r=e.color,a=e.isOnline;return Ll("div",{className:oe.a.dynamic([["2315247300",[r,r]]])+" roster-chat-message"},Ll(Fl,{username:t,isOnline:a}),Ll("div",{className:oe.a.dynamic([["2315247300",[r,r]]])+" content"},Ll("div",{className:oe.a.dynamic([["2315247300",[r,r]]])+" username"},t),Ll("div",{className:oe.a.dynamic([["2315247300",[r,r]]])+" text"},n)),Ll(oe.a,{id:"2315247300",dynamic:[r,r]},[".roster-chat-message.__jsx-style-dynamic-selector{margin-top:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".content.__jsx-style-dynamic-selector{margin-left:5px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".username.__jsx-style-dynamic-selector{display:inline;border:1px solid ".concat(r,";border-radius:15px;padding:3px 6px;min-height:15px;color:var(--color-foreground-1);font-size:14px;}"),".text.__jsx-style-dynamic-selector{margin:8px 0 0 4px;color:#808285;font-size:15px;}",".roster-chat-message.__jsx-style-dynamic-selector .profile-image{width:40px;height:40px;min-width:40px;border-radius:20px;border:2px solid ".concat(r,";background-color:var(--color-background-1);object-fit:cover;}"),".roster-chat-message.__jsx-style-dynamic-selector>.offline{-webkit-filter:grayscale(100%);filter:grayscale(100%);}"]))}function Fl(e){var t=e.username,n=e.isOnline;return Ll(dt.h,{variables:{username:t}},(function(e){var t=e.data;return!e.loading&&t&&t.user?Ll("img",{className:ct()("profile-image",{offline:!n}),src:t.user.image}):Ll("img",{className:"profile-image"})}))}var Ul=10,Hl={borderRadius:{right:"".concat(Ul,"px 0 0 ").concat(Ul,"px"),left:"0 ".concat(Ul,"px ").concat(Ul,"px 0")},chatHeaderPadding:{right:"0 30px 0 30px",left:"0 30px 0 70px"}},Bl=me.createElement,Vl={right:"left",left:"right"};function Kl(e){var t=e.position;return Bl("div",{className:oe.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])+" protip"},Bl("span",{className:oe.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])},"PROTIP:")," Click the"," ",Bl("div",{className:oe.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])+" double-arrow-example"},Bl(Hn.WallArrow,{strokeWidth:1}))," ","icon to move the chat.",Bl(oe.a,{id:"465208952",dynamic:["left"===t?"transform: scaleX(-1);":""]},[".double-arrow-example.__jsx-style-dynamic-selector{width:12px;height:12px;display:inline-block;".concat("left"===t?"transform: scaleX(-1);":"",";}"),".empty-chat-wrapper.__jsx-style-dynamic-selector{margin-top:30px;color:var(--color-foreground-1);}",".protip.__jsx-style-dynamic-selector{padding-top:15px;color:var(--color-foreground-1);line-height:1.3em;font-size:13px;}",".protip.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{color:var(--color-positive-1);}","@media (max-width:500px){.protip.__jsx-style-dynamic-selector{display:none;}}"]))}function Gl(e){var t=me.createRef(),n=me.useState(!1),r=Object(G.a)(n,2),a=r[0],i=r[1],o=me.useState(!1),s=Object(G.a)(o,2),l=s[0],c=s[1],u=function(){t.current&&!a&&(c(!0),t.current.scrollTop=t.current.scrollHeight)},d=function(){if(t.current)if(l)c(!1);else{var e=t.current.scrollHeight-(t.current.scrollTop+t.current.offsetHeight);i(!(e<50))}};return me.useEffect((function(){t.current&&(t.current.addEventListener("scroll",d),u())}),[]),me.useEffect((function(){u()}),[e.messages]),Bl("div",{ref:t,className:"jsx-1850330760 multiplayer-chat-scroller"},e.children,Bl(oe.a,{id:"1850330760"},[".multiplayer-chat-scroller.jsx-1850330760{overflow:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;padding-bottom:5px;}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar{background-color:var(--color-background-1);width:5px;}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar-thumb{background-color:rgba(119,119,119,0.5);}"]))}var ql=function(e){var t=me.useState(""),n=Object(G.a)(t,2),r=n[0],a=n[1],i=me.useState(!1),o=Object(G.a)(i,2),s=o[0],l=o[1],c=Object(De.e)(),u=me.createRef(),d=e.typingUsers.length>3?"Many users are typing...":function(e){switch(e.length){case 0:return"";case 1:return"".concat(e[0]," is typing...");case 2:return"".concat(e[0]," and ").concat(e[1]," are typing...");case 3:var t=e.slice(0,e.length-1);return"".concat(t.map((function(e){return"".concat(e,", ")})),"and \n        ").concat(e[e.length-1]," are typing...");default:return"Many users are typing..."}}(e.typingUsers);return Bl("div",{className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])+" chat-component-wrapper"},Bl(jl,{isOpen:s,hideModal:function(){return l(!1)},usersOnline:e.usersOnline,replId:e.replId,onUserClick:function(){return c({type:"MP2_VISITED_PROFILE",wid:e.wid,replId:e.replId,from:"UserListModal"})}}),Bl("div",{className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])+" chat-header"},Bl(Cl,{usersOnline:e.usersOnline,showModal:function(){return l(!0)},replId:e.replId,wid:e.wid}),Bl("div",{className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])+" feedback-link"},Bl("a",{href:"https://repl.it/feedback/p/multiplayer-v1-feedback",target:"_blank",className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])},"feedback")),Bl("div",{onClick:function(){return e.togglePosition()},className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])+" side-switcher"},Bl(Hn.WallArrow,{strokeWidth:1})),Bl("div",{onClick:function(){c({type:"CLOSE_CHAT_CLICKED",wid:e.wid,replId:e.replId}),e.closeChat()},className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])+" close-chat"},Bl(Hn.Minimize,{strokeWidth:1}))),Bl(Gl,{messages:e.messages},Bl("div",{className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])+" chat-messages-wrapper"},Bl(Kl,{position:e.position}),e.messages.map((function(t,n){var r=e.messages[n-1]||{username:""},a=e.usersOnline.find((function(e){return e.username===t.username}));return Bl(Dl,{key:"".concat(t.username,"+").concat(t.text,"+").concat(n),username:t.username,color:a?a.color:"#a7a9ac",message:t,isFirstMessage:r.username!==t.username||r.type!==t.type,isOnline:!!a})})))),Bl("div",{className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])+" chat-typing-indicator"},d),Bl("div",{className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])+" chat-input-wrapper"},Bl("input",{placeholder:"Start typing here...",ref:u,onChange:function(t){var n=t.currentTarget.value;a(n),""===n?e.setTypingStatus(!1):e.setTypingStatus(!0)},onKeyDown:function(t){13===t.keyCode&&r.trim().length&&(e.sendMessage(r),a(""),e.setTypingStatus(!1))},value:r,className:oe.a.dynamic([["1370561801",[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]]])})),Bl(oe.a,{id:"1370561801",dynamic:[Hl.chatHeaderPadding[e.position],Hl.borderRadius[e.position],e.position,Ul-2,Ul-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",Hl.chatHeaderPadding.left,Hl.borderRadius.left]},[".chat-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;border-bottom:1px solid #61429a;height:93px;padding:".concat(Hl.chatHeaderPadding[e.position],";}"),".chat-header.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{cursor:pointer;}",".chat-typing-indicator.__jsx-style-dynamic-selector{padding:5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px;font-size:12px;border-bottom:1px solid #61429a;}",".chat-messages-wrapper.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:0 20px;}",".chat-component-wrapper.__jsx-style-dynamic-selector{color:var(--color-foreground-1);height:80vh;max-height:400px;width:250px;background-color:var(--color-background-1);border:2px solid #61429a;border-radius:".concat(Hl.borderRadius[e.position],";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-").concat(e.position,":none;}"),".chat-input-wrapper.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto', 'Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans', 'Helvetica Neue',sans-serif;width:calc(100% + 2px);border:none;background:transparent;border-radius:0 0 ".concat(Ul-2,"px ").concat(Ul-2,"px;padding:var(--spacing-2) var(--spacing-1);color:inherit;}"),".chat-input-wrapper.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:focus{border:0 none;outline:0;}",".feedback-link.__jsx-style-dynamic-selector{position:absolute;bottom:0;right:0;padding:5px;font-size:14px;}",".close-chat.__jsx-style-dynamic-selector,.side-switcher.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:0;".concat(e.position,":6px;margin-top:2px;width:18px;height:18px;border-radius:3px;cursor:pointer;color:#fff;background:rgba(121,96,169);opacity:0.8;}"),".side-switcher.__jsx-style-dynamic-selector{".concat(e.position,":30px;").concat("left"===e.position?"transform: scaleX(-1);":""," width:26px;padding:2px 6px;}"),".close-chat.__jsx-style-dynamic-selector{padding:2px 4px;}",".close-chat.__jsx-style-dynamic-selector:hover,.side-switcher.__jsx-style-dynamic-selector:hover{opacity:1;}","@media (max-width:500px){.chat-header.__jsx-style-dynamic-selector{padding:".concat(Hl.chatHeaderPadding.left,";}.chat-component-wrapper.__jsx-style-dynamic-selector{border-radius:").concat(Hl.borderRadius.left,";border-left:none !important;border-right:2px solid #61429a;}.side-switcher.__jsx-style-dynamic-selector{display:none;}.feedback-link.__jsx-style-dynamic-selector{right:0;left:auto;}.close-chat.__jsx-style-dynamic-selector{left:6px;right:auto;}}")]))},Wl=n("sMSR");var Yl=n("fA4Q"),Xl=me.createElement;function $l(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):$l(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Jl=function(e){var t=e.wid,n=Object(De.e)(),r=Object(Ot.a)(),a=r.chat,i=r.presence,o=r.container,s=function(){var e=Object(Ot.a)().container,t=Object(me.useState)(e.getConnectionState()),n=t[0],r=t[1];return Object(me.useEffect)((function(){return e.onConnectionStateChanged(r)}),[e]),n}(),l=Object(je.useRouter)(),c=Et(),u=Object(De.f)((function(e){return{user:e.user.userInfo}})).user,d=me.useState(!1),p=Object(G.a)(d,2),f=p[0],m=p[1],g=me.useState("right"),b=Object(G.a)(g,2),h=b[0],v=b[1],x=me.useState([]),y=Object(G.a)(x,2),w=y[0],k=y[1],j=me.useState([]),O=Object(G.a)(j,2),E=O[0],_=O[1],N="left"===h?"72px":"var(--padding-size-large)",S=me.useState(!1),C=Object(G.a)(S,2),P=C[0],I=C[1],A=me.useRef(!1);me.useEffect((function(){A.current?I(!f):A.current=!0}),[w.length]),me.useEffect((function(){var e=a.onMessagesLoaded((function(e){var t=e.map((function(e){return Ql({},e,{type:"message"})}));k(t)})),t=a.onMessageReceived((function(e){var t=e.username,n=e.text;k((function(e){return[].concat(Object(fi.a)(e),[{username:t,text:n,type:"message"}])}));var r=o.getRepl().id;Object(Wl.a)({title:t,body:n,iconByUsername:t,tag:"".concat(r,"-").concat(n),onClick:function(){return Object(Xe.track)(Xe.events.MP2_CHAT_NOTIFICATION_CLICKED)}}),Object(Xe.track)(Xe.events.MP2_CHAT_NOTIFICATION_CREATED)})),n=a.onUserTypingUpdated((function(e){var t=e.username,n=e.isTyping;_(n?function(e){return e.includes(t)?e:[].concat(Object(fi.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})),r=i.onUserJoin((function(e){Object(Xe.track)(Xe.events.MP2_USER_JOINED,{count:c.length+1}),k((function(t){return[].concat(Object(fi.a)(t),[{username:e.username,type:"join",text:""}])}))})),s=i.onUserLeave((function(e){k((function(t){return[].concat(Object(fi.a)(t),[{username:e.username,type:"leave",text:""}])})),_((function(t){return t.filter((function(t){return t!==e.username}))}))}));return function(){e(),t(),n(),r(),s()}}),[]);var R=me.useMemo((function(){if(!Object(qe.a)(u,"flag-collab-mentions"))return w;var e={replUrl:l.asPath,users:c.map((function(e){return e.username}))};return w.map((function(t){return Ql({},t,{parsedMessage:"message"===t.type?Object(Pl.b)(t.text,e):void 0})}))}),[w,c,u]),T=function(){m((function(e){return!e})),I(!1)};if(s!==Yl.a.CONNECTED)return null;var M=o.getRepl().id;return Xl("div",{style:e.style,onClick:T,className:oe.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",Hl.borderRadius[h],h,N,f?"ease-out":"ease-in",Vl[h],h,h,Hl.borderRadius.left]]])+" floating-chat-wrapper"},Xl("div",{className:oe.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",Hl.borderRadius[h],h,N,f?"ease-out":"ease-in",Vl[h],h,h,Hl.borderRadius.left]]])+" "+(ct()("floating-icon-wrapper",{hidden:f})||"")},A.current&&Xl(Ml,{expanded:f,messages:R,position:h,usersOnline:c,toggleChat:T}),Xl("div",{className:oe.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",Hl.borderRadius[h],h,N,f?"ease-out":"ease-in",Vl[h],h,h,Hl.borderRadius.left]]])+" chat-icon-wrapper"},Xl(Hn.Chat,null)),P&&Xl("div",{className:oe.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",Hl.borderRadius[h],h,N,f?"ease-out":"ease-in",Vl[h],h,h,Hl.borderRadius.left]]])+" unread-icon"})),Xl("div",{onClick:function(e){return e.stopPropagation()},className:oe.a.dynamic([["1452244742",[h,N,f?"ease-in":"ease-out",Hl.borderRadius[h],h,N,f?"ease-out":"ease-in",Vl[h],h,h,Hl.borderRadius.left]]])+" "+(ct()("chat-wrapper",{expanded:f})||"")},Xl(ql,{typingUsers:E,messages:R,sendMessage:function(e){var n={username:u.username,text:e};a.sendMessage(n);var r=o.getRepl(),i=r?{replId:r.id,language:r.language}:{};Object(Xe.track)(Xe.events.MP2_CHAT_MESSAGE_SENT,Ql({wid:t,username:u.username},i)),k((function(e){return[].concat(Object(fi.a)(e),[Ql({},n,{type:"message"})])}))},position:h,setTypingStatus:function(e){a.updateUserTyping({username:u.username,isTyping:e})},togglePosition:function(){n({type:"MP2_CHAT_CHANGED_SIDES",wid:t,replId:M,newSide:Vl[h]}),v(Vl[h])},replId:M,usersOnline:c,closeChat:T,wid:t})),Xl(oe.a,{id:"1452244742",dynamic:[h,N,f?"ease-in":"ease-out",Hl.borderRadius[h],h,N,f?"ease-out":"ease-in",Vl[h],h,h,Hl.borderRadius.left]},[".chat-wrapper.__jsx-style-dynamic-selector{position:absolute;".concat(h,":-250px;opacity:0;bottom:").concat(N,";z-index:11;cursor:auto;-webkit-transition:300ms;transition:300ms;-webkit-transition-timing-function:").concat(f?"ease-in":"ease-out",";transition-timing-function:").concat(f?"ease-in":"ease-out",";}"),".chat-icon-wrapper.__jsx-style-dynamic-selector{width:32px;height:32px;padding:5px;color:#fff;}",".floating-icon-wrapper.__jsx-style-dynamic-selector{height:36px;width:50px;border-radius:".concat(Hl.borderRadius[h],";position:absolute;").concat(h,":0px;bottom:").concat(N,";z-index:10;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;background:linear-gradient(to right,#61419a,#52469c);opacity:1;-webkit-transition:300ms;transition:300ms;-webkit-transition-timing-function:").concat(f?"ease-out":"ease-in",";transition-timing-function:").concat(f?"ease-out":"ease-in",";}"),".unread-icon.__jsx-style-dynamic-selector{position:absolute;top:5px;".concat(Vl[h],":12px;background:red;width:8px;height:8px;border-radius:4px;z-index:11;}"),".close.__jsx-style-dynamic-selector{padding:5px;}",".expanded.__jsx-style-dynamic-selector{".concat(h,":0px;opacity:1;}"),".hidden.__jsx-style-dynamic-selector{opacity:0;".concat(h,":-50px;}"),"@media screen and (max-width:500px){.floating-icon-wrapper.__jsx-style-dynamic-selector{left:0 !important;right:auto !important;bottom:24px;border-radius:".concat(Hl.borderRadius.left,";}.unread-icon.__jsx-style-dynamic-selector{right:12px;left:auto;}.chat-wrapper.__jsx-style-dynamic-selector{left:-250px;right:auto;bottom:24px;}.expanded.__jsx-style-dynamic-selector{left:0px;right:auto;}}")]))},Zl=n("StYe"),ec=n("MGJp"),tc=n("+Y0W");function nc(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):nc(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var ac="fileviewercontroller";function ic(e,t,n){return"WORKSPACE_MOUNTED"===n.type?function(t,n){var r=n().workspace[e].activeFile;r&&t({type:"LOAD_FILE",wid:e,path:r})}:"DIRECTORY_LOADED"===n.type?function(r){Object(ec.b)()||r(Object(Zl.a)({wid:e,pud:t,action:n,pluginName:ac}))}:"FILE_UNLOAD"===n.type?function(r,a){var i=a().workspace[e].activeFile;n.path===i&&(Object(rt.a)(a(),e,t,ac).workspaceMounted&&r({type:"LOAD_FILE",wid:e,path:i}))}:"OPEN_FILE"===n.type?function(r,a){var i=n.path;if(window["open-markdown-split"]&&"md"!==Object(Zi.a)(i)){var o=a().workspace[e],s=o.layout,l=o.plugins;if(Je.b(s,l,"markdownviewer")){var c=B()(l).find((function(e){return"markdownviewer"===l[e].type}));if(!c)throw new Error("Expect a markdownviewer to be in pluginlist");r(rc({type:"UPDATE_LAYOUT",wid:e},Je.j(s,c)))}}var u=a().workspace[e],d=u.layout,p=u.plugins,f=function(e,t){var n=Je.b(e,t,"fileheader");if(!n)throw new Error("expected to find fileHeader in layout!");return window["flag-windowing"]?Je.f(n):Je.l(n)}(d,p);if(!f)throw new Error("No editor mounted");var m=p[t].state.files[i];m&&m.loaded||r({type:"LOAD_FILE",wid:e,path:i});var g=sc({plugins:p,filePath:i,pluginType:Object(Zi.h)(i)?"mediaview":"editor"});(g||(g=r(function(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){var i={filePath:r};if(!Object(Zi.h)(r)){var o=Object(rt.a)(a(),t,n,ac);i=rc({},i,{lite:o.lite,isMobile:o.isMobile,editorHandle:o.editorHandle})}var s=!!window["flag-windowing"],l="file-".concat(Pe()());return e({type:"LOAD_PLUGIN",wid:t,pluginPud:l,pluginType:Object(Zi.h)(r)?"mediaview":"editor",title:r,initialState:i,isDraggable:s}),e({type:"LOAD_FILE",wid:t,path:r}),l}}({wid:e,pud:t,path:i}))),r({type:"UPDATE_LAYOUT",wid:e,path:f,to:g,property:"pud"}),r({type:"SET_ACTIVE_FILE",wid:e,activeFile:i}),"md"===Object(Zi.a)(i)&&m&&m.loaded)&&($i.a.from(m.content).length>0&&r({type:"SET_PREVIEW_MARKDOWN",wid:e,preview:!0}))}:"FILE_LOADED"===n.type?function(r,a){var i=Object(rt.a)(a(),e,t,ac).files[n.path];"md"===Object(Zi.a)(n.path)&&i&&i.loaded&&r({type:"SET_PREVIEW_MARKDOWN",wid:e,preview:!0})}:"OT_FILE_OP"===n.type?function(r,a){var i=Object(rt.a)(a(),e,t,ac).files[n.path];"md"===Object(Zi.a)(n.path)&&i&&i.loaded&&($i.a.from(i.content).length||r({type:"SET_PREVIEW_MARKDOWN",wid:e,preview:!1}))}:"MOVE_FILE"===n.type?function(t,r){var a=n.path,i=n.to,o=r().workspace[e].activeFile;o.startsWith(a)&&t({type:"OPEN_FILE",wid:e,path:o.replace(a,i)}),Object(Zi.h)(a)!==Object(Zi.h)(i)&&t(oc({wid:e,path:a}))}:"DELETE_FILE"===n.type?function(r,a){var i=n.path,o=a().workspace[e].activeFile;if(o===i||Object(Ui.c)(i,o)){var s=Object(rt.a)(a(),e,t,ac).files,l=B()(s).concat(i).sort(),c=l.indexOf(i),u=l[0===c?1:c-1];r(void 0!==u?{type:"OPEN_FILE",wid:e,path:u}:Object(tc.a)({wid:e}))}r(oc({wid:e,path:i}))}:"SET_PREVIEW_MARKDOWN"===n.type?function(t,r){var a=n.preview,i=r().workspace[e],o=i.layout,s=i.plugins,l=i.activeFile,c=Je.b(o,s,"markdownviewer"),u=Je.b(o,s,"editor");if(!!c!==a)if(window["open-markdown-split"]){var d=B()(s).find((function(e){return"markdownviewer"===s[e].type}));if(!d)throw new Error("Expect a markdownviewer to be in pluginlist");if(c)return void t(rc({type:"UPDATE_LAYOUT",wid:e},Je.j(o,d)));if(!u)throw new Error("Expected editor path");var p=Je.h(o,d,"rightOf",u),f=p.path,m=p.to;t({type:"UPDATE_LAYOUT",wid:e,path:f,to:m})}else{var g;if(c){if(!(g=sc({plugins:s,filePath:l,pluginType:"editor"})))throw new Error("Oh no! How did we end up with a markdown viewer without loading an editor first")}else if(!(g=B()(s).find((function(e){return"markdownviewer"===s[e].type}))))throw new Error("Markdown viewer plugin should have been loaded");t({type:"UPDATE_LAYOUT",wid:e,path:u||c,to:g,property:"pud"})}}:null}function oc(e){var t=e.wid,n=e.path;return function(e,r){var a=r().workspace[t].plugins;setTimeout((function(){e({type:"UNLOAD_PLUGIN",wid:t,pud:sc({plugins:a,filePath:n,pluginType:Object(Zi.h)(n)?"mediaview":"editor"})})}),0)}}function sc(e){for(var t=e.plugins,n=e.filePath,r=e.pluginType,a=0,i=B()(t);a<i.length;a++){var o=i[a],s=t[o],l=s.type,c=s.state;if(l===r&&(null===n||c.filePath===n))return o}return null}var lc=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{workspaceMounted:!1,editorHandle:null,isMobile:!1,lite:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@INIT":return rc({},e,{},t.initialState);case"WORKSPACE_MOUNTED":return rc({},e,{workspaceMounted:!0});case"WORKSPACE_WILL_UNMOUNT":return rc({},e,{workspaceMounted:!1});case"REGISTER_ACE_EDITOR_HANDLE":case"REGISTER_MONACO_EDITOR_HANDLE":return rc({},e,{editorHandle:t.editorHandle});default:return e}},files:ai.a,language:po.a}),cc=n("a6RD"),uc=n.n(cc),dc=ge.a.createElement;function pc(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}var fc=uc()((function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([n.e(8),n.e(18),n.e(199)]).then(n.bind(null,"I8Nj")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{loading:function(){return dc("div",{style:{width:"100%",height:"100%",textAlign:"center",paddingTop:"30px"}},"Loading viewer...")},loadableGenerated:{webpack:function(){return["I8Nj"]},modules:["./Viewer"]}});var mc=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentFile:null},t=arguments.length>1?arguments[1]:void 0;return"OPEN_FILE"===t.type?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):pc(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({},e,{currentFile:t.path}):e},files:ai.a}),gc=me.createElement;function bc(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):bc(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var vc=function(e){var t=e.logs,n=e.timeRef,r=e.setTimeRef;return gc("div",{className:"jsx-3515057655 log-list"},t.map((function(e){var t=ae()(e.cmd,null,2),a=n?e.timestamp-n:e.timestamp;return gc("div",{key:e.index,className:"jsx-3515057655 "+("log "+(e.highlighted?"highlighted ":"")+("in"===e.dir?"in":"")||!1)},gc("div",{className:"jsx-3515057655 direction"},gc("div",{className:"jsx-3515057655"},e.dir),gc("div",{className:"jsx-3515057655"},"in"===e.dir?"\u25b6\ufe0f":"\u2b05\ufe0f"),gc("div",{className:"jsx-3515057655"},gc(vt.a,{color:"positive",size:"small",onClick:function(){return r(e.timestamp)}},a.toFixed(0),"ms"))),gc("pre",{className:"jsx-3515057655"},t))})),gc("div",{className:"jsx-3515057655 bottom-anchor"}),gc(oe.a,{id:"3515057655"},[".log-list.jsx-3515057655{overflow:auto;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".log-list.jsx-3515057655 *.jsx-3515057655{overflow-anchor:none;}",".bottom-anchor.jsx-3515057655{overflow-anchor:auto !important;min-height:1px;}",".log.jsx-3515057655{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:deepskyblue;border:1px solid;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".in.jsx-3515057655{color:red;}",".highlighted.jsx-3515057655{background:yellow;}",".direction.jsx-3515057655{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;text-align:center;min-width:30px;border-right:1px solid;}",".direction.jsx-3515057655>div.jsx-3515057655:not(:last-child){border-bottom:1px solid;width:100%;}"]))},xc=function(e){var t=e.filters,n=e.updateFilters;return gc("div",{className:"jsx-1185913860 filters"},gc("div",{className:"jsx-1185913860"},gc("div",{className:"jsx-1185913860"},"regex search (regex,flags)"),gc("fieldset",{className:"jsx-1185913860"},gc("input",{name:"regex",onChange:function(e){var t=null;if(e.currentTarget.value){var r=e.currentTarget.value.split(","),a=Object(G.a)(r,2),i=a[0],o=a[1];try{t=new RegExp(i,o)}catch(s){}}n({regexp:t})},placeholder:"\\w+,gi",className:"jsx-1185913860"}),gc("div",{className:"jsx-1185913860"},"current value: ",t.regexp?t.regexp.toString():"null"))),gc("div",{className:"jsx-1185913860"},gc("div",{className:"jsx-1185913860"},"Directions:"),gc("fieldset",{id:"log-filter-direction",className:"jsx-1185913860"},gc("label",{className:"jsx-1185913860"},"both:",gc("input",{type:"radio",onChange:function(e){return n({direction:e.target.value})},value:"",checked:""===t.direction,name:"log-filter-direction",className:"jsx-1185913860"})),gc("label",{className:"jsx-1185913860"},"in:",gc("input",{type:"radio",onChange:function(e){return n({direction:e.target.value})},value:"in",checked:"in"===t.direction,name:"log-filter-direction",className:"jsx-1185913860"})),gc("label",{className:"jsx-1185913860"},"out:",gc("input",{type:"radio",onChange:function(e){return n({direction:e.target.value})},value:"out",checked:"out"===t.direction,name:"log-filter-direction",className:"jsx-1185913860"})))),gc("div",{className:"jsx-1185913860"},gc("div",{className:"jsx-1185913860"},"Filter style:"),gc("fieldset",{id:"log-filter-style",className:"jsx-1185913860"},gc("label",{className:"jsx-1185913860"},"highlight:",gc("input",{type:"radio",onChange:function(){return n({highlightOnly:!0})},checked:t.highlightOnly,name:"log-filter-style",className:"jsx-1185913860"})),gc("label",{className:"jsx-1185913860"},"hide:",gc("input",{type:"radio",onChange:function(){return n({highlightOnly:!1})},checked:!t.highlightOnly,name:"log-filter-style",className:"jsx-1185913860"})))),gc(oe.a,{id:"1185913860"},[".filters.jsx-1185913860{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".filters.jsx-1185913860>*.jsx-1185913860{padding:20px 0;}","fieldset.jsx-1185913860{border:0;}","fieldset.jsx-1185913860>label.jsx-1185913860{margin-right:5px;}"]))},yc=function(e,t){if(!t.regexp&&!t.direction)return e.map((function(e){return hc({},e,{highlighted:!1})}));var n=function(e){var n=e.dir,r=e.cmd;return(!t.direction||n===t.direction)&&!(t.regexp&&t.regexp.test&&!t.regexp.test(ae()(r)))};return t.highlightOnly?e.map((function(e){return n(e)?hc({},e,{highlighted:!0}):e})):e.filter(n)},wc=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=me.useState(e),n=Object(G.a)(t,2),r=n[0],a=n[1],i=me.useCallback((function(){return a((function(e){return!e}))}),[]);return[r,i]},kc=function(e){var t=e.wid,n=e.pud,r=wc(!0),a=Object(G.a)(r,2),i=a[0],o=a[1],s=me.useState(null),l=Object(G.a)(s,2),c=l[0],u=l[1],d=Object(rt.b)(t,n,"adminpanel"),p=Object(G.a)(d,2),f=p[0],m=f.crosisDebug,g=f.filters,b=f.crosisLogs,h=p[1],v=Object(De.e)();return m?gc("div",{className:"jsx-1975817957 crosis-logs"},gc("div",{className:"jsx-1975817957"},gc("div",{className:"jsx-1975817957 buttons"},gc(vt.a,{color:"warning",onClick:o},i?"hide filters":"show filters"),c&&gc(vt.a,{color:"negative",onClick:function(){return u(null)}},"Reset Time Ref"),gc(vt.a,{color:"negative",onClick:function(){return v({type:"CLEAR_CROSIS_LOGS",wid:t})}},"Clear logs")),i?gc(xc,{filters:g,updateFilters:function(e){h({filters:hc({},g,{},e)})}}):null),gc(vc,{logs:yc(b,g),timeRef:c,setTimeRef:u}),gc(oe.a,{id:"1975817957"},[".crosis-logs.jsx-1975817957{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".buttons.jsx-1975817957{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"])):gc(vt.a,{color:"positive",filled:!0,onClick:function(){h({crosisDebug:!0}),v({type:"START_CROSIS_ADMIN_LOGS",wid:t})}},"Start logging goval")},jc=n("LBzQ"),Oc=me.createElement;function Ec(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Ec(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Nc=function(e){return JSON.parse(window.atob(window.atob(e).split(":")[0]))},Sc=function(e){var t=e.wid,n=e.pud,r=Object(rt.b)(t,n,"adminpanel"),a=Object(G.a)(r,1)[0].token,i=Object(De.e)();return a?Oc("div",{className:"jsx-4043509441 token-viewer"},Oc("div",{className:"jsx-4043509441"},"raw:",Oc("pre",{className:"jsx-4043509441"},a)),Oc("br",{className:"jsx-4043509441"}),Oc("div",{className:"jsx-4043509441"},"parsed:",Oc("pre",{className:"jsx-4043509441"},ae()(Nc(a),null,2))),Oc("br",{className:"jsx-4043509441"}),Oc("br",{className:"jsx-4043509441"}),Oc(Cc,{token:a,setToken:function(e){i({wid:t,type:"USE_CUSTOM_TOKEN",customToken:e})},becomeOwner:function(){i({wid:t,type:"REPL_UPDATED",updates:{isOwner:!0}})}}),Oc(oe.a,{id:"4043509441"},[".token-viewer.jsx-4043509441{height:100%;overflow:auto;padding:10px;}","pre.jsx-4043509441{white-space:pre-wrap;word-wrap:break-word;}"])):Oc("div",null,"no token yet, wait for connection")},Cc=function(e){var t=e.token,n=e.setToken,r=e.becomeOwner,a=me.useState((function(){var e=Nc(t),n=(e.salt,e.created,Object(tt.a)(e,["salt","created"]));return ae()(n,null,2)})),i=Object(G.a)(a,2),o=i[0],s=i[1],l=me.useState(!1),c=Object(G.a)(l,2),u=c[0],d=c[1],p=function(e){var t;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return d(!0),r.next=3,Y.a.awrap(Object(ze.d)("/data/admin/custom_token_please_be_careful_or_you_will_be_fired",{tokenOptions:e}));case 3:(t=r.sent).token&&"string"===typeof t.token&&n(t.token),d(!1);case 6:case"end":return r.stop()}}))};return u?Oc("div",null,"Getting yer token, please wait..."):Oc("div",null,Oc(vt.a,{color:"negative",onClick:function(){var e,n,a,i,o,s,l,c;return Y.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e=Nc(t),e.salt,e.created,e.bearerId,e.bearerName,n=e.sourceRepl,a=Object(tt.a)(e,["salt","created","bearerId","bearerName","sourceRepl"]),n){u.next=4;break}return window.alert("You own this repl?!"),u.abrupt("return");case 4:return i=Oe.a.query.replUrl.split("/"),o=Object(G.a)(i,3),s=o[1],l=o[2],c=_c({},a,{id:n,path:l,user:s.replace("@",""),presenced:!1}),r(),u.next=9,Y.a.awrap(p(c));case 9:case"end":return u.stop()}}))}},"\ud83d\udea7 Experimental. Impersonate Owner & RECONNECT\ud83d\udea7"),Oc("br",null),Oc("br",null),Oc("div",null,"\u26a0\ufe0fBE REALL CAREFUL HERE!\u26a0\ufe0f You can possibly break the world! \ud83d\ude35",Oc("br",null),Oc("br",null),"Double check all the values, double check the flags and everything.",Oc("br",null),Oc("br",null),"You should probably go look at the code and how these values are used"),Oc("br",null),Oc(jc.a,{rows:25,value:o,onChange:function(e){return s(e.currentTarget.value)}}),Oc(vt.a,{color:"negative",onClick:function(){var e;try{e=JSON.parse(o)}catch(t){return void window.alert("INVALID JSON!! Be careful!")}p(e)}},"\u26a0\ufe0fGIMME TOKEN & RECONNECT\u26a0\ufe0f"))},Pc=n("XWHH"),Ic=n.n(Pc);function Ac(){var e,t,n;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!localStorage.getItem("gurl")){r.next=3;break}return console.log("Getting gurl from localstorage"),r.abrupt("return",localStorage.getItem("gurl"));case 3:if(r.t0=!1,!r.t0){r.next=8;break}return r.next=7,Y.a.awrap(Rc());case 7:r.t0=r.sent;case 8:if(!r.t0){r.next=12;break}return console.log("Using local goval"),e=window.location,t=e.protocol,n=e.hostname,r.abrupt("return","".concat("https:"===t?"wss":"ws","://").concat(n,":4560"));case 12:return r.abrupt("return",null);case 13:case"end":return r.stop()}}))}function Rc(){var e,t,n;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=window.location,t=e.protocol,n=e.hostname,r.next=4,Y.a.awrap(Ic()(t+"//"+n+":4560").then((function(e){if(200!==e.status)throw new Error("Expected 200 status from goval dev ping")})));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(0),console.info("Could not connect to local goval, falling back to production"),console.error(r.t0),r.abrupt("return",!1);case 11:return r.abrupt("return",!0);case 12:case"end":return r.stop()}}),null,null,[[0,6]])}var Tc=me.createElement,Mc=function(e){var t=e.wid,n=e.pud,r=Object(rt.b)(t,n,"adminpanel"),a=Object(G.a)(r,1)[0].customGurl,i=Object(De.e)(),o=me.useState(a),s=Object(G.a)(o,2),l=s[0],c=s[1],u="default";return localStorage.getItem("gurl")?u="from localStorage: "+localStorage.getItem("gurl"):a&&(u="from session state "+a),Tc("div",{style:{height:"100%",overflow:"auto"}},Tc(en.a,{value:l,onChange:function(e){return c(e.currentTarget.value)}}),Tc("br",null),Tc("div",{style:{display:"flex",justifyContent:"space-between"}},Tc(vt.a,{color:"positive",onClick:function(){i({type:"SET_CUSTOM_GURL",wid:t,gurl:l})}},"Set gurl"),Tc(vt.a,{color:"warning",onClick:function(){i({type:"SET_CUSTOM_GURL",wid:t,gurl:"wss://eval.repl.it"}),localStorage.removeItem("gurl")}},"reset")),Tc("br",null),Tc("br",null),Tc("div",null,"Current gurl: ",u),Tc("br",null),a&&Tc(vt.a,{color:"negative",onClick:function(){localStorage.setItem("gurl",a)}},'Persist "',a,'" in local storage'),Tc("br",null),Tc("br",null),"Gurl order of presedence:",Tc("ol",{style:{margin:20}},Tc("li",null,'If a user has the flag "flag-goval-nextval", then it will use wss://nextval.repl.it'),Tc("li",null,"gurl set in the form above"),Tc("li",null,"gurl in localStorage"),Tc("li",null,"If in development webapp and a there's a response from http://currenthost:4560, then it will use ws://currenthost:4560"),Tc("li",null,"default is wss:/eval.repl.it")))},Lc=n("Yk3a"),Dc=ge.a.createElement;function zc(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fc(){var e=Object(Ot.a)().container,t=wc(!0),n=Object(G.a)(t,2),r=n[0],a=n[1],i=Object(me.useState)(null),o=i[0],s=i[1],l=Object(me.useState)([]),c=l[0],u=l[1],d=Object(me.useState)({regexp:null,direction:"",highlightOnly:!0}),p=d[0],f=d[1];return Object(me.useEffect)((function(){e.client().setDebugFunc((function(e){"breadcrumb"!==e.type?"log"===e.type&&u((function(t){return[].concat(Object(fi.a)(t),[{index:t.length+1,dir:e.log.direction,cmd:e.log.cmd,timestamp:window.performance.now()}])})):We.a({category:"crosisV6",message:e.message,data:e.data})}))}),[e]),Dc("div",{className:"jsx-1975817957 crosis-logs"},Dc("div",{className:"jsx-1975817957"},Dc("div",{className:"jsx-1975817957 buttons"},Dc(vt.a,{color:"warning",onClick:a},r?"hide filters":"show filters"),o&&Dc(vt.a,{color:"negative",onClick:function(){return s(null)}},"Reset Time Ref"),Dc(vt.a,{color:"negative",onClick:function(){return u([])}},"Clear logs")),r?Dc(xc,{filters:p,updateFilters:function(e){return f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zc(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):zc(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({},p,{},e))}}):null),Dc(vc,{logs:yc(c,p),timeRef:o,setTimeRef:s}),Dc(oe.a,{id:"1975817957"},[".crosis-logs.jsx-1975817957{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".buttons.jsx-1975817957{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]))}function Uc(){var e=Object(me.useState)(!1),t=e[0],n=e[1];return t?Dc(Fc,null):Dc(ge.a.Fragment,null,Dc("p",null,"Logs for crosisV6 client"),Dc(vt.a,{color:"primary",filled:!0,onClick:function(){n(!0)}},"Start logging goval"))}var Hc=ge.a.createElement,Bc=function(e){var t=e.wid,n=e.pud,r=Object(rt.b)(t,n,"adminpanel"),a=Object(G.a)(r,1)[0].repl;return Hc("div",{className:"jsx-3817476767"},Hc("div",{onClick:function(){var e=document.getElementById("replId");e&&(e.focus(),e.select(),document.execCommand("copy"))},className:"jsx-3817476767"},Hc("span",{className:"jsx-3817476767"}," repl ID: "),Hc("input",{id:"replId",readOnly:!0,value:a.id,className:"jsx-3817476767"})),Hc("div",{className:"jsx-3817476767"},Hc("pre",{className:"jsx-3817476767"},ae()(a,null,2))),Hc(oe.a,{id:"3817476767"},["pre.jsx-3817476767{white-space:pre-wrap;word-wrap:break-word;}"]))},Vc=me.createElement;function Kc(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Kc(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var qc=Object(Lc.a)((function(){return{crosisDebug:!1,crosisLogs:[],filters:{regexp:null,direction:"",highlightOnly:!0},token:"",customGurl:""}}),(function(e,t){return"START_CROSIS_ADMIN_LOGS"===t.type?Gc({},e,{crosisDebug:!0}):"CROSIS_ADMIN_LOG"===t.type?Gc({},e,{crosisLogs:[].concat(Object(fi.a)(e.crosisLogs),[{index:e.crosisLogs.length,dir:t.dir,cmd:t.cmd,timestamp:t.timestamp}])}):"CLEAR_CROSIS_LOGS"===t.type?Gc({},e,{crosisLogs:[]}):"GOVAL_TOKEN"===t.type?Gc({},e,{token:t.token}):"SET_CUSTOM_GURL"===t.type?Gc({},e,{customGurl:t.gurl}):e})).reducer,Wc=Object(Ze.a)({primary:qc,repl:Qe.b});function Yc(e,t,n){return"WORKSPACE_MOUNTED"===n.type?function(t){var n;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Y.a.awrap(Ac());case 2:(n=r.sent)&&t({type:"SET_CUSTOM_GURL",wid:e,gurl:n});case 4:case"end":return r.stop()}}))}:null}var Xc=function(e){var t,n=e.wid,r=e.pud,a=e.style,i=me.useState("repl"),o=Object(G.a)(i,2),s=o[0],l=o[1];t="repl"===s?Bc:"logs"===s?kc:"logs2"===s?Uc:"token"===s?Sc:Mc;var c=["repl","logs","logs2","token","gurl"].map((function(e){return Vc(vt.a,{key:e,color:"primary",filled:e===s,onClick:function(){return l(e)}},e)}));return Vc("div",{style:a,className:"jsx-1184814387 admin-panel"},Vc("div",{className:"jsx-1184814387 buttons"},c),Vc("div",{className:"jsx-1184814387 section"},Vc(t,{wid:n,pud:r,className:"jsx-1184814387"})),Vc(oe.a,{id:"1184814387"},[".admin-panel.jsx-1184814387{background-color:var(--color-background-1);color:var(--color-foreground-1);}",".buttons.jsx-1184814387{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:40px;margin-bottom:10px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".section.jsx-1184814387{height:calc(100% - 50px);}"]))},$c=n("PQb8"),Qc=n("7+UY"),Jc=ge.a.createElement,Zc=function(){return Jc("svg",{width:"95",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jc("path",{d:"M21.333 0h70.334A3.333 3.333 0 0195 3.333v13.334A3.333 3.333 0 0191.667 20H21.333V0z",fill:"#5C6970"}),Jc("path",{d:"M31.044 7.243v.85h-.102c-.612 0-1.11.245-1.496.736-.363.469-.544 1.028-.544 1.678V13h-.85V7.333h.85v1.394c.181-.589.574-1.023 1.179-1.303.25-.12.551-.181.907-.181h.056zM36.05 13v-.884a2.844 2.844 0 01-.748.691c-.294.19-.63.284-1.008.284s-.703-.053-.975-.159a1.976 1.976 0 01-.714-.476c-.468-.46-.703-1.07-.703-1.825V7.333h.85v3.276c0 .521.148.937.442 1.246.295.31.677.465 1.145.465.476 0 .88-.159 1.213-.476.332-.325.498-.74.498-1.247V7.333h.85V13h-.85zm3.178-5.667v.884c.204-.272.454-.502.748-.691.295-.189.631-.283 1.009-.283.378 0 .703.053.975.158.272.106.51.265.714.476.468.461.702 1.07.702 1.825V13h-.85V9.725c0-.522-.147-.937-.442-1.247-.294-.31-.676-.465-1.144-.465-.476 0-.88.159-1.213.476-.332.325-.499.74-.499 1.247V13h-.85V7.333h.85zm10.442-.09c.846 0 1.533.283 2.062.85.5.544.748 1.235.748 2.074 0 .838-.249 1.53-.748 2.074-.529.566-1.216.85-2.062.85-.846 0-1.534-.284-2.063-.85-.499-.544-.748-1.236-.748-2.074 0-.839.25-1.53.748-2.074.529-.567 1.217-.85 2.063-.85zm0 5.077c.612 0 1.095-.212 1.45-.635.34-.4.51-.906.51-1.518s-.17-1.119-.51-1.519c-.355-.423-.838-.635-1.45-.635s-1.096.212-1.45.635c-.34.4-.51.907-.51 1.519 0 .612.17 1.118.51 1.518.354.423.838.635 1.45.635zm4.788-4.987v.884c.203-.272.453-.502.748-.691.294-.189.63-.283 1.008-.283s.703.053.975.158c.272.106.51.265.714.476.468.461.703 1.07.703 1.825V13h-.85V9.725c0-.522-.148-.937-.443-1.247-.294-.31-.676-.465-1.144-.465-.476 0-.88.159-1.213.476-.332.325-.498.74-.498 1.247V13h-.85V7.333h.85zm10.974-.09v.85h-.102c-.612 0-1.111.245-1.496.736-.363.469-.544 1.028-.544 1.678V13h-.85V7.333h.85v1.394c.18-.589.574-1.023 1.178-1.303.25-.12.552-.181.907-.181h.057zm3.298 5.077c.763 0 1.31-.317 1.643-.952h.93a2.72 2.72 0 01-.941 1.247c-.423.317-.971.476-1.643.476-.854 0-1.55-.284-2.086-.85-.521-.552-.782-1.243-.782-2.074 0-.839.25-1.53.748-2.074.53-.567 1.217-.85 2.063-.85.846 0 1.534.283 2.063.85.498.544.748 1.235.748 2.074v.34h-4.75c.061.521.27.952.624 1.292.363.347.824.521 1.383.521zm-.068-4.307c-.521 0-.96.163-1.315.488-.332.31-.536.714-.612 1.212h3.854c-.076-.498-.28-.903-.612-1.212-.356-.325-.794-.488-1.315-.488zm4.7.227c.453-.665 1.129-.997 2.028-.997.816 0 1.477.283 1.983.85.506.559.76 1.25.76 2.074 0 .823-.254 1.515-.76 2.074-.506.566-1.186.85-2.04.85-.854 0-1.51-.337-1.972-1.009v3.162h-.85v-7.91h.85v.906zm1.915-.227c-.612 0-1.096.212-1.451.635-.34.4-.51.907-.51 1.519 0 .612.17 1.118.51 1.518.355.423.839.635 1.45.635.605 0 1.096-.212 1.474-.635.355-.4.532-.906.532-1.518s-.177-1.119-.532-1.519c-.378-.423-.869-.635-1.474-.635zM80.09 13h-.85V5.067h.85V13zm2.438-1.156V13h-1.1v-1.156h1.1zm1.339-4.51h.85V13h-.85V7.333zm.884-2.063v1.11h-.918v-1.11h.918zM86.803 13V8.081h-1.156v-.748h1.156V5.305h.85v2.028h1.303v.748h-1.303V13h-.85z",fill:"#fff"}),Jc("path",{d:"M31.044 7.243h.084v-.084h-.084v.084zm0 .85v.083h.084v-.083h-.084zm-1.598.736l-.065-.051.065.051zM28.902 13v.083h.083V13h-.083zm-.85 0h-.083v.083h.083V13zm0-5.667V7.25h-.083v.083h.083zm.85 0h.083V7.25h-.083v.083zm0 1.394h-.083l.163.025-.08-.025zm1.179-1.303l.035.076.001-.001-.036-.075zm.88-.181v.85h.167v-.85h-.167zm.083.766h-.102v.167h.102v-.167zm-.102 0c-.638 0-1.16.258-1.561.769l.13.103c.37-.472.845-.705 1.431-.705v-.167zm-1.562.77c-.375.484-.561 1.061-.561 1.728h.166c0-.634.177-1.174.527-1.627l-.132-.102zm-.561 1.728V13h.166v-2.493h-.166zm.083 2.41h-.85v.166h.85v-.166zm-.767.083V7.333h-.166V13h.166zm-.083-5.583h.85V7.25h-.85v.167zm.767-.084v1.394h.166V7.333h-.166zm.163 1.419c.174-.565.549-.982 1.134-1.252l-.07-.152c-.624.289-1.035.74-1.223 1.355l.159.049zm1.135-1.253c.235-.114.525-.173.87-.173v-.167c-.364 0-.68.062-.942.19l.072.15zm.87-.173h.057v-.167h-.056v.167zM36.05 13h-.083v.083h.083V13zm0-.884h.084v-.25l-.15.2.066.05zm-.748.691l.045.07-.045-.07zm-1.983.125l-.03.078.03-.078zm-.714-.476l.06-.058-.002-.001-.058.059zm-.703-5.123V7.25h-.083v.083h.083zm.85 0h.084V7.25h-.084v.083zm2.8 4.511l.057.06h.001l-.058-.06zm.498-4.51V7.25h-.083v.083h.083zm.85 0h.084V7.25H36.9v.083zm0 5.666v.083h.084V13H36.9zm-.766 0v-.884h-.167V13h.167zm-.15-.934c-.198.264-.44.487-.727.671l.09.14c.303-.194.56-.43.77-.711l-.133-.1zm-.727.671c-.28.18-.6.27-.963.27v.167c.392 0 .744-.098 1.053-.296l-.09-.14zm-.963.27c-.37 0-.685-.052-.945-.153l-.06.156c.284.11.62.164 1.005.164v-.167zm-.945-.153a1.892 1.892 0 01-.684-.456l-.12.116c.212.22.46.386.744.496l.06-.156zm-.685-.457c-.45-.443-.678-1.029-.678-1.766h-.167c0 .775.24 1.405.728 1.884l.117-.118zm-.678-1.766V7.333h-.167v3.298h.167zm-.084-3.214h.85V7.25h-.85v.167zm.767-.084v3.276h.167V7.333h-.167zm0 3.276c0 .537.153.975.465 1.304l.12-.115c-.276-.291-.418-.684-.418-1.19h-.167zm.465 1.304c.312.328.716.49 1.205.49v-.166c-.448 0-.807-.148-1.084-.44l-.12.116zm1.205.49c.497 0 .922-.166 1.27-.499l-.115-.12c-.316.302-.7.453-1.155.453v.166zm1.271-.5c.35-.341.524-.78.524-1.306h-.167c0 .486-.159.88-.474 1.187l.117.12zm.524-1.306V7.333h-.167v3.264h.167zm-.084-3.18h.85V7.25h-.85v.167zm.767-.084V13h.167V7.333h-.167zm.083 5.584h-.85v.166h.85v-.166zm2.328-5.584h.084V7.25h-.084v.083zm0 .884h-.083v.25l.15-.2-.067-.05zm.748-.691l.045.07-.045-.07zm1.984-.125l-.03.078.03-.078zm.714.476l-.06.058.001.002.059-.06zM43.376 13v.083h.084V13h-.084zm-.85 0h-.083v.083h.083V13zm-2.799-4.51l-.057-.061h-.001l.058.06zM39.228 13v.083h.084V13h-.084zm-.85 0h-.083v.083h.083V13zm0-5.667V7.25h-.083v.083h.083zm.767 0v.884h.167v-.884h-.167zm.15.934c.198-.263.44-.487.726-.67l-.09-.141c-.302.194-.56.431-.77.711l.134.1zm.726-.67c.28-.18.6-.271.964-.271v-.167c-.392 0-.744.099-1.054.297l.09.14zm.964-.271c.37 0 .684.052.944.153l.06-.155a2.77 2.77 0 00-1.004-.165v.167zm.944.153c.261.101.489.253.685.456l.12-.116a2.06 2.06 0 00-.744-.495l-.06.155zm.686.458c.45.443.678 1.028.678 1.765h.167c0-.774-.241-1.405-.728-1.884l-.117.119zm.678 1.765V13h.167V9.702h-.167zm.083 3.215h-.85v.166h.85v-.166zM42.61 13V9.725h-.167V13h.167zm0-3.275c0-.538-.153-.976-.465-1.304l-.121.114c.277.291.419.685.419 1.19h.167zm-.465-1.304c-.312-.328-.716-.491-1.205-.491v.167c.448 0 .807.147 1.084.438l.12-.114zM40.94 7.93c-.497 0-.922.166-1.27.5l.115.12c.316-.302.7-.453 1.155-.453V7.93zm-1.271.5c-.35.342-.524.78-.524 1.306h.167c0-.486.158-.88.473-1.187l-.116-.12zm-.524 1.306V13h.167V9.736h-.167zm.083 3.18h-.85v.167h.85v-.166zm-.766.084V7.333h-.167V13h.167zm-.084-5.583h.85V7.25h-.85v.167zm13.354.676l.062-.057-.062.057zm0 4.148l.061.056-.06-.056zm-4.125 0l-.061.056.061-.056zm0-4.148l-.06-.057h-.001l.061.057zm3.513 3.592l-.063-.054.063.054zm0-3.037l-.063.054.063-.054zm-2.9 0l.063.054-.064-.054zm0 3.037l.063-.053-.064.053zm1.45-4.359c.825 0 1.49.275 2.002.824l.121-.114c-.546-.585-1.256-.877-2.123-.877v.167zm2.001.823c.483.526.726 1.197.726 2.018h.167c0-.857-.255-1.57-.77-2.13l-.123.112zm.726 2.018c0 .82-.243 1.49-.726 2.017l.123.113c.515-.562.77-1.274.77-2.13h-.167zm-.725 2.017c-.512.548-1.177.823-2.002.823v.167c.867 0 1.577-.291 2.123-.877l-.121-.113zm-2.002.823c-.826 0-1.49-.275-2.002-.823l-.122.114c.546.585 1.257.876 2.124.876v-.167zm-2.002-.823c-.482-.526-.726-1.196-.726-2.017h-.166c0 .856.255 1.569.77 2.13l.123-.113zm-.726-2.017c0-.821.244-1.492.727-2.018l-.123-.113c-.515.562-.77 1.274-.77 2.13h.166zm.726-2.017c.512-.549 1.176-.824 2.002-.824v-.167c-.867 0-1.578.292-2.124.877l.122.114zm2.002 4.253c.633 0 1.142-.22 1.514-.664l-.127-.107c-.338.402-.797.605-1.387.605v.166zm1.514-.664c.355-.418.53-.944.53-1.572h-.167c0 .595-.165 1.081-.49 1.464l.127.108zm.53-1.572c0-.629-.175-1.155-.53-1.573l-.127.108c.325.383.49.869.49 1.465h.167zm-.53-1.573c-.372-.444-.88-.664-1.514-.664v.167c.59 0 1.05.203 1.387.605l.127-.108zM49.67 7.93c-.634 0-1.142.22-1.515.664l.128.108c.337-.402.796-.605 1.387-.605V7.93zm-1.514.664c-.355.418-.53.944-.53 1.573h.166c0-.596.165-1.082.49-1.465l-.126-.108zm-.53 1.573c0 .628.175 1.154.53 1.572l.127-.108c-.326-.383-.49-.869-.49-1.464h-.167zm.53 1.572c.372.444.88.664 1.514.664v-.166c-.59 0-1.05-.203-1.387-.605l-.128.107zm6.302-4.406h.083V7.25h-.083v.083zm0 .884h-.084v.25l.15-.2-.066-.05zm.748-.691l.044.07-.044-.07zm1.983-.125l-.03.078.03-.078zm.714.476l-.06.058.001.002.059-.06zM58.606 13v.083h.083V13h-.084zm-.85 0h-.084v.083h.084V13zm-2.8-4.51l-.057-.061h-.001l.058.06zM54.458 13v.083h.083V13h-.083zm-.85 0h-.084v.083h.084V13zm0-5.667V7.25h-.084v.083h.084zm.766 0v.884h.167v-.884h-.167zm.15.934c.198-.263.44-.487.727-.67l-.09-.141c-.303.194-.56.431-.77.711l.133.1zm.727-.67c.28-.18.6-.271.963-.271v-.167c-.392 0-.744.099-1.053.297l.09.14zm.963-.271c.37 0 .685.052.945.153l.06-.155a2.771 2.771 0 00-1.005-.165v.167zm.945.153c.26.101.488.253.684.456l.12-.116a2.06 2.06 0 00-.744-.495l-.06.155zm.685.458c.45.443.678 1.028.678 1.765h.167c0-.774-.24-1.405-.728-1.884l-.117.119zm.678 1.765V13h.167V9.702h-.167zm.084 3.215h-.85v.166h.85v-.166zm-.767.083V9.725h-.167V13h.167zm0-3.275c0-.538-.153-.976-.465-1.304l-.12.114c.276.291.418.685.418 1.19h.167zm-.465-1.304c-.312-.328-.716-.491-1.205-.491v.167c.448 0 .807.147 1.084.438l.12-.114zm-1.205-.491c-.497 0-.922.166-1.27.5l.115.12c.316-.302.7-.453 1.155-.453V7.93zm-1.271.5c-.35.342-.524.78-.524 1.306h.167c0-.486.159-.88.474-1.187l-.117-.12zm-.524 1.306V13h.167V9.736h-.167zm.084 3.18h-.85v.167h.85v-.166zM53.69 13V7.333h-.167V13h.167zm-.084-5.583h.85V7.25h-.85v.167zm11.825-.174h.083v-.084h-.083v.084zm0 .85v.083h.083v-.083h-.083zm-1.598.736l-.066-.051.066.051zM63.29 13v.083h.083V13h-.083zm-.85 0h-.084v.083h.084V13zm0-5.667V7.25h-.084v.083h.084zm.85 0h.083V7.25h-.083v.083zm0 1.394h-.084l.163.025-.08-.025zm1.178-1.303l.035.076.002-.001-.037-.075zm.88-.181v.85h.167v-.85h-.167zm.084.766h-.102v.167h.102v-.167zm-.102 0c-.639 0-1.161.258-1.562.769l.131.103c.37-.472.845-.705 1.43-.705v-.167zm-1.562.77c-.375.484-.562 1.061-.562 1.728h.167c0-.634.176-1.174.527-1.627l-.132-.102zm-.562 1.728V13h.167v-2.493h-.167zm.084 2.41h-.85v.166h.85v-.166zm-.767.083V7.333h-.167V13h.167zm-.083-5.583h.85V7.25h-.85v.167zm.766-.084v1.394h.167V7.333h-.167zm.163 1.419c.174-.565.55-.982 1.134-1.252l-.07-.152c-.624.289-1.034.74-1.223 1.355l.16.049zm1.136-1.253c.235-.114.524-.173.87-.173v-.167c-.364 0-.68.062-.943.19l.073.15zm.87-.173h.057v-.167h-.057v.167zm4.998 4.042v-.083h-.05l-.024.044.074.039zm.93 0l.077.03.044-.113h-.121v.083zm-.941 1.247l-.05-.067.05.067zm-3.729-.374l-.06.057.06-.057zM66.6 8.093l-.06-.057h-.001l.061.057zm4.126 0l.061-.057-.061.057zm.748 2.414v.083h.083v-.083h-.083zm-4.75 0v-.084h-.093l.011.093.083-.01zm.624 1.292l.058-.06-.058.06zm0-3.298l-.056-.062.056.062zm-.612 1.212l-.082-.012-.015.096h.097v-.084zm3.854 0v.084h.097L70.67 9.7l-.082.012zm-.612-1.212l.056-.061-.056.06zm-1.247 3.902c.393 0 .736-.082 1.025-.249.29-.168.52-.418.692-.747l-.148-.078c-.16.306-.37.531-.628.68-.259.15-.571.228-.941.228v.166zm1.643-.952h.93v-.166h-.93v.166zm.852-.113c-.191.5-.495.902-.912 1.21l.098.134c.444-.327.767-.756.97-1.284l-.156-.06zm-.913 1.21c-.405.304-.934.46-1.593.46v.166c.685 0 1.252-.162 1.693-.493l-.1-.133zm-1.593.46c-.834 0-1.506-.276-2.025-.825l-.121.115c.553.585 1.271.876 2.146.876v-.167zm-2.025-.825c-.505-.534-.76-1.204-.76-2.016h-.166c0 .85.267 1.562.805 2.13l.12-.114zm-.76-2.016c0-.821.244-1.492.727-2.018l-.123-.113c-.515.562-.77 1.274-.77 2.13h.167zm.726-2.017c.512-.549 1.176-.824 2.002-.824v-.167c-.867 0-1.578.292-2.124.877l.122.114zm2.002-.824c.825 0 1.49.275 2.002.824l.121-.114c-.546-.585-1.256-.877-2.123-.877v.167zm2.001.823c.483.526.726 1.197.726 2.018h.167c0-.857-.255-1.57-.77-2.13l-.123.112zm.726 2.018v.34h.167v-.34h-.167zm.084.256h-4.75v.167h4.75v-.167zm-4.832.093c.063.54.278.989.649 1.343l.115-.12a1.974 1.974 0 01-.598-1.242l-.166.02zm.649 1.343c.38.364.862.544 1.44.544v-.166c-.54 0-.98-.168-1.325-.498l-.115.12zm1.372-3.929c-.54 0-1 .169-1.371.51l.112.122c.339-.31.756-.465 1.259-.465V7.93zm-1.372.51c-.347.324-.56.746-.637 1.26l.165.026c.073-.482.269-.869.586-1.164l-.114-.122zm-.555 1.357h3.854V9.63h-3.854v.167zm3.936-.096c-.078-.515-.29-.937-.638-1.261l-.113.122c.317.295.513.682.586 1.164l.165-.025zm-.638-1.262c-.372-.34-.83-.509-1.371-.509v.167c.502 0 .92.156 1.258.465l.113-.123zm3.328-.199h-.083v.27l.152-.223-.069-.047zm4.012-.147l-.062.055.062-.055zm0 4.148l-.062-.056.062.056zm-4.012-.159l.069-.047-.152-.222v.269h.083zm0 3.162v.083h.084v-.083h-.084zm-.85 0h-.083v.083h.083v-.083zm0-7.91V7.25h-.083v.083h.083zm.85 0h.084V7.25h-.084v.083zm.465 1.314l.063.054-.063-.054zm0 3.037l.064-.053-.064.053zm2.924 0l.062.056-.062-.056zm0-3.037l.062-.055-.062.055zm-3.32-.361c.436-.64 1.084-.961 1.96-.961v-.167c-.923 0-1.627.343-2.098 1.034l.138.094zm1.96-.961c.794 0 1.432.275 1.921.822l.124-.11c-.523-.587-1.207-.879-2.045-.879v.167zm1.921.823c.491.542.738 1.213.738 2.018h.167c0-.842-.26-1.554-.781-2.13l-.124.112zm.738 2.018c0 .805-.247 1.475-.738 2.018l.124.112c.521-.576.78-1.288.78-2.13h-.166zm-.738 2.018c-.488.547-1.145.822-1.978.822v.167c.874 0 1.578-.291 2.102-.878l-.124-.11zm-1.978.822c-.828 0-1.459-.324-1.903-.972l-.138.094c.478.697 1.162 1.045 2.041 1.045v-.167zm-2.055-.925v3.162h.166v-3.162h-.166zm.083 3.079h-.85v.166h.85v-.166zm-.767.083v-7.91h-.166v7.91h.166zm-.083-7.827h.85V7.25h-.85v.167zm.767-.084v.907h.166v-.907h-.166zm1.998.597c-.633 0-1.141.22-1.514.664l.128.108c.337-.402.796-.605 1.386-.605V7.93zm-1.514.664c-.355.418-.53.944-.53 1.573h.167c0-.596.165-1.082.49-1.465l-.127-.108zm-.53 1.573c0 .628.175 1.154.53 1.572l.127-.108c-.325-.383-.49-.869-.49-1.464h-.166zm.53 1.572c.373.444.88.664 1.514.664v-.166c-.59 0-1.049-.203-1.386-.605l-.128.107zm1.514.664c.627 0 1.141-.22 1.536-.662l-.124-.111c-.361.404-.829.607-1.412.607v.166zm1.536-.662c.37-.418.554-.945.554-1.574h-.167c0 .594-.172 1.08-.511 1.463l.124.11zm.554-1.574c0-.63-.183-1.156-.554-1.574l-.124.11c.34.383.511.869.511 1.464h.167zm-.554-1.575c-.395-.442-.91-.662-1.535-.662v.167c.582 0 1.05.202 1.41.607l.125-.112zM80.09 13v.083h.084V13h-.084zm-.85 0h-.083v.083h.083V13zm0-7.933v-.084h-.083v.084h.083zm.85 0h.084v-.084h-.084v.084zm0 7.85h-.85v.166h.85v-.166zm-.766.083V5.067h-.167V13h.167zm-.084-7.85h.85v-.167h-.85v.167zm.767-.083V13h.167V5.067h-.167zm2.52 6.777h.084v-.083h-.083v.083zm0 1.156v.083h.084V13h-.083zm-1.098 0h-.084v.083h.084V13zm0-1.156v-.083h-.084v.083h.084zm1.016 0V13h.166v-1.156h-.166zm.083 1.073h-1.1v.166h1.1v-.166zM81.512 13v-1.156h-.167V13h.167zm-.083-1.073h1.099v-.166h-1.1v.166zm2.438-4.594V7.25h-.084v.083h.084zm.85 0h.083V7.25h-.083v.083zm0 5.667v.083h.083V13h-.083zm-.85 0h-.084v.083h.084V13zm.884-7.73h.083v-.083h-.083v.084zm0 1.111v.084h.083V6.38h-.083zm-.918 0h-.084v.084h.084V6.38zm0-1.11v-.084h-.084v.084h.084zm.034 2.146h.85V7.25h-.85v.167zm.766-.084V13h.167V7.333h-.167zm.084 5.584h-.85v.166h.85v-.166zM83.95 13V7.333h-.167V13h.167zm.717-7.73v1.111h.167v-1.11h-.167zm.084 1.028h-.918v.167h.918v-.167zm-.835.083v-1.11h-.167v1.11h.167zm-.083-1.027h.918v-.167h-.918v.167zM86.803 13h-.084v.083h.084V13zm0-4.919h.083v-.083h-.083v.083zm-1.156 0h-.084v.084h.084V8.08zm0-.748V7.25h-.084v.083h.084zm1.156 0v.084h.083v-.084h-.083zm0-2.028V5.22h-.084v.084h.084zm.85 0h.083V5.22h-.083v.084zm0 2.028h-.084v.084h.084v-.084zm1.303 0h.084V7.25h-.084v.083zm0 .748v.084h.084V8.08h-.084zm-1.303 0v-.083h-.084v.083h.084zm0 4.919v.083h.083V13h-.083zm-.767 0V8.081h-.166V13h.166zm-.083-5.002h-1.156v.167h1.156v-.167zm-1.073.083v-.748h-.166v.748h.166zm-.083-.664h1.156V7.25h-1.156v.167zm1.24-.084V5.305h-.168v2.028h.167zm-.084-1.945h.85v-.167h-.85v.167zm.767-.083v2.028h.166V5.305h-.166zm.083 2.112h1.303V7.25h-1.303v.167zm1.22-.084v.748h.166v-.748h-.166zm.083.665h-1.303v.167h1.303v-.167zm-1.386.083V13h.166V8.081h-.166zm.083 4.836h-.85v.166h.85v-.166z",fill:"#fff"}),Jc("path",{d:"M3.333.342h17.658v19.316H3.333a2.991 2.991 0 01-2.99-2.991V3.333a2.991 2.991 0 012.99-2.99z",fill:"#fff",stroke:"#5C6970",strokeWidth:".684"}),Jc("g",{clipPath:"url(#clip0)"},Jc("path",{d:"M17.506 9.327zM7.313 9.29s-1.911 7.04 5.747 7.102a6.87 6.87 0 004.442-5.732c.019-.182.024-.369.028-.556.001-.049.008-.097.008-.146 0-.213-.014-.423-.032-.631-2.024 7.965-10.975 4.845-10.193-.036z",fill:"#5C6970"}),Jc("path",{d:"M11.273 6.677s-7.13-1.99-7.021 5.784a6.89 6.89 0 001.661 2.484l.094.085c.206.19.423.367.651.53.036.026.069.054.104.079.241.164.493.314.753.446.075.04.153.075.23.111.223.105.452.198.686.279.058.02.113.044.17.062a6.83 6.83 0 001.12.243c.3.043.603.066.906.07l.034.002c.229 0 .454-.012.677-.034-8-1.908-4.96-10.854-.065-10.14z",fill:"#5C6970"}),Jc("path",{d:"M14.052 10.364s1.687-7.112-5.907-6.794a6.867 6.867 0 00-4.349 6.387c.003.313.026.625.07.934 1.599-8.046 10.704-5.44 10.186-.527z",fill:"#5C6970"}),Jc("path",{d:"M10.406 13.425s7.143.932 6.696-5.859a6.867 6.867 0 00-6.435-4.48 6.895 6.895 0 00-1.246.119c7.959.977 5.89 10.29.985 10.22z",fill:"#5C6970"}),Jc("path",{d:"M12.65 9.958a1.924 1.924 0 11-3.85 0 1.924 1.924 0 013.85 0z",fill:"#3E3E3E"})),Jc("defs",null,Jc("clipPath",{id:"clip0"},Jc("path",{fill:"#fff",transform:"translate(3.667 3)",d:"M0 0h14v14H0z"}))))},eu=n("YexM"),tu=n("EVOq"),nu=ge.a.createElement;function ru(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):ru(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var iu=function(e){if(e.toLowerCase().startsWith("readme"))return e},ou={currentStep:0,canPush:!1,canFork:!1,channelHandle:null,user:null,repo:null,isBadgePresent:!1,isCreatingPr:!1,prUrl:""};function su(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(rt.a)(r(),t,n,"runbadge").files;return B()(a).find(iu)}}function lu(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(i=Object(rt.a)(a(),t,n,"runbadge"),!(o=i.channelHandle)){l.next=3;break}return l.abrupt("return",eo.a.safeGet(o));case 3:return l.next=5,Y.a.awrap(e(Object(tu.a)({wid:t,service:"exec",wait:r})));case 5:return s=l.sent,e({type:"SAVE_EXEC_CHANNEL_HANDLE",wid:t,pud:n,handle:eo.a.getHandle(s)}),l.abrupt("return",s);case 8:case"end":return l.stop()}}))}}function cu(e){var t=e.wid,n=e.pud,r=e.readmePath;return function(e,a){var i,o,s,l;return Y.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return i=Object(rt.a)(a(),t,n,"runbadge"),o=i.channelHandle,s=eo.a.safeGet(o),c.next=4,Y.a.awrap(s.request({exec:{args:["bash","-c","grep repl.it/badge/github ".concat(r)],blocking:!0}}));case 4:if(!(l=c.sent).channelClosed){c.next=7;break}return c.abrupt("return");case 7:e({type:"SET_RUN_BADGE",isDetected:!!l.ok,wid:t});case 8:case"end":return c.stop()}}))}}var uu=function(e){var t=e.currentStep;return nu("div",{className:"jsx-1247929846 progress-bar"},nu("ul",{className:"jsx-1247929846"},pu.map((function(e,n){return nu("li",{key:n,className:"jsx-1247929846 "+(ct()("step",{active:n<t})||"")},nu("span",{className:"jsx-1247929846 "+(ct()({active:n<=t})||"")},n+1))}))),nu(oe.a,{id:"1247929846"},[".progress-bar.jsx-1247929846{padding:20px 0px;margin:auto;width:50%;}","ul.jsx-1247929846{padding:0;margin:0;list-style-type:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}","li.jsx-1247929846{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","li.jsx-1247929846 span.jsx-1247929846{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px;width:30px;border-radius:50%;border:3px solid #888888;background-color:#888888;color:white;}","li.jsx-1247929846:after{background-color:#888888;content:'';height:3px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}","li.jsx-1247929846:last-child{width:auto;}","li.jsx-1247929846:last-child.jsx-1247929846:after{display:none;}","li.active.jsx-1247929846:after{background-color:#59b47b;}","li.jsx-1247929846 span.active.jsx-1247929846{border-color:#59b47b;background-color:#59b47b;}"]))},du=function(e){var t=e.dispatch,n=e.wid,r=Object($c.a)({onAuth:function(){t({type:"CHECK_GIT_REMOTE",wid:n})}});return nu("div",{className:"step-container"},nu("h2",null,"Connect your GitHub account."),nu("p",null,"In order to add a Run on Repl.it badge to GitHub, Repl.it needs to be able to create git branches on your behalf. Connect your GitHub account to continue."),nu("div",{className:"controls"},nu(vt.a,{color:"primary",filled:!0,onClick:r},"Connect GitHub")))},pu=[{title:"Get badge code",component:function(e){var t=e.next;return nu("div",{className:"jsx-2643282122 step-container"},nu("h2",{className:"jsx-2643282122"},"Add"," ",nu("span",{className:"jsx-2643282122 badge"},nu(Zc,null))," ","badge to GitHub"),nu("p",{className:"jsx-2643282122"},"Help others run this code on Repl.it, add a badge to the repository's"," ",nu("span",{className:"jsx-2643282122 code"},"README"),". We'll provide the code and help you create a Pull Request."),nu("div",{className:"jsx-2643282122 controls"},nu(vt.a,{color:"primary",filled:!0,onClick:Object(ii.a)({event:Xe.events.REPL_FROM_REPO_PUSH_RUN_BADGE_STARTED},t)},"Get Started")),nu(oe.a,{id:"2643282122"},[".badge.jsx-2643282122{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;margin:0px 5px;}"]))}},{title:"Edit README",component:function(e){var t=e.user,n=e.repo;return nu("div",{className:"step-container"},nu("h2",null,"Edit ",nu("span",{className:"code"},"README")," file"),nu("p",null,"Copy and paste the following into the"," ",nu("span",{className:"code"},"README")," file of this repl."),nu(en.a,{value:"[![Run on Repl.it](https://repl.it/badge/github/".concat(t,"/").concat(n,")](https://repl.it/github/").concat(t,"/").concat(n,")"),readOnly:!0,onClick:function(e){e.target.select()}}),nu("p",{className:"controls"},"You'll be taken to the next step automatically..."))}},{title:"Configure Pull Request",component:function(e){var t=e.configurePr,n=e.isCreatingPr?nu("span",null,"Preparing ",nu(ni.a,{style:{fontSize:"20px",padding:"1px"}})):nu("span",null,"Prepare Pull Request");return nu("div",{className:"step-container"},nu("h2",null,"Prepare Pull Request"),nu("p",null,"Now that the badge has been added to the"," ",nu("span",{className:"code"},"README")," file, it's time to propose your change on GitHub."),nu("div",{className:"controls"},nu(vt.a,{color:"primary",filled:!0,onClick:t},n)))}},{title:"View Pull Request on GitHub",component:function(e){var t=e.visitPr;return nu("div",{className:"step-container"},nu("h2",null,"Submit Pull Request"),nu("p",null,"Congratulations, your pull request has been prepared. The final step is to submit your Pull Request on GitHub."),nu("div",{className:"controls"},nu(vt.a,{color:"primary",filled:!0,onClick:Object(ii.a)({event:Xe.events.REPL_FROM_REPO_PUSH_RUN_BADGE_CREATE_PR_CLICKED},t)}," ","Submit Pull Request on GitHub")))}}],fu=function(e){var t=e.wid,n=e.pud,r=Object(De.e)(),a=Object(De.f)((function(e){return Object(rt.a)(e,t,n,"runbadge")})),i=a.currentStep,o=a.canPush,s=a.canFork,l=a.user,c=a.repo,u=a.isCreatingPr,d=pu[i].component;return nu("div",{className:"jsx-3687576365 container"},s||o?nu(ge.a.Fragment,null,nu(uu,{currentStep:i}),nu("div",{className:"jsx-3687576365 content"},nu(d,{next:function(){r({type:"NEXT_STEP",wid:t,pud:n})},user:l,repo:c,configurePr:function(){r({type:"CREATE_PR",wid:t,pud:n})},isCreatingPr:u,visitPr:function(){r({type:"VISIT_PR",wid:t,pud:n})},className:"jsx-3687576365"}))):nu("div",{className:"jsx-3687576365 content"},nu(du,{wid:t,dispatch:r})),nu(oe.a,{id:"3687576365"},[".container.jsx-3687576365{background:var(--color-background-1);color:var(--color-foreground-1);height:100%;width:100%;}",".content.jsx-3687576365{padding:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".container.jsx-3687576365 h2{font-size:22px;font-weight:bold;text-align:center;margin-bottom:10px;}",".container.jsx-3687576365 p{font-size:16px;line-height:1.3em;text-align:center;margin-bottom:10px;color:var(--color-foreground-2);}",".container.jsx-3687576365 .controls{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:20px;}",".container.jsx-3687576365 .code{font-family:'Menlo','Monaco',monospace;font-size:0.8em;color:var(--color-foreground-2);}",".container.jsx-3687576365 .step-container{width:80%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]))},mu=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_GOVAL_STARTED":return au({},e,{channelHandle:null});case"SAVE_EXEC_CHANNEL_HANDLE":return au({},e,{channelHandle:t.handle});case"NEXT_STEP":return au({},e,{currentStep:e.currentStep+1});case"GIT_REMOTE_CHECKED":var n=Object(Qc.b)(t.remote),r=Object(G.a)(n,2),a=r[0],i=r[1];return au({},e,{canPush:t.canPush,canFork:t.canFork,user:a,repo:i});case"SET_RUN_BADGE":return au({},e,{isBadgePresent:t.isDetected});case"CREATE_PR":return au({},e,{isCreatingPr:!0});case"BADGE_PR_CREATED":return au({},e,{isCreatingPr:!1,prUrl:t.url,currentStep:e.currentStep+1});default:return e}},files:ai.a}),gu=Object(eu.a)((function(e,t,n,r){switch(n.type){case"ACTIVATE_RUN_BADGE_PLUGIN":return function(n){n(su({wid:e,pud:t}))&&n(function(e,t){return function(n,r){var a=r().workspace[e],i=a.layout,o=a.plugins;if(!Je.g(i,t)){var s=Je.b(i,o,"webview")||Je.b(i,o,"console")||Je.b(i,o,"terminal2")||Je.k(),l=Je.h(i,t,"above",s),c=l.path,u=l.to;n({type:"UPDATE_LAYOUT",wid:e,path:c,to:u})}}}(e,t))};case"RUN_FLOW_CONFIG_COMPLETE":return function(n,r){n(su({wid:e,pud:t}))&&(Object(rt.a)(r(),e,t,"runbadge").isBadgePresent||n({type:"INSERT_RUN_FLOW_PLUGIN",wid:e,pudToInsert:t}))};case"GIT_REMOTE_CHECKED":return function(n){var a;return Y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=n(su({wid:e,pud:t}))){i.next=3;break}return i.abrupt("return");case 3:return i.next=5,Y.a.awrap(n(lu({wid:e,pud:t,wait:r})));case 5:return i.next=7,Y.a.awrap(n(cu({wid:e,pud:t,readmePath:a})));case 7:case"end":return i.stop()}}))};case"CREATE_FILE":case"FILE_CLEAN":return function(a){var i;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=a(su({wid:e,pud:t}))){o.next=3;break}return o.abrupt("return");case 3:if(iu(n.path)){o.next=5;break}return o.abrupt("return");case 5:return o.next=7,Y.a.awrap(a(lu({wid:e,pud:t,wait:r})));case 7:return o.next=9,Y.a.awrap(a(cu({wid:e,pud:t,readmePath:i})));case 9:case"end":return o.stop()}}))};case"NEXT_STEP":return function(n,r){var a,i,o,s;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(a=n(su({wid:e,pud:t}))){l.next=3;break}return l.abrupt("return");case 3:i=Object(rt.a)(r(),e,t,"runbadge"),o=i.currentStep,s=r().workspace[e].activeFile,1===o&&s!==a&&n({type:"OPEN_FILE",path:a,wid:e});case 6:case"end":return l.stop()}}))};case"SET_RUN_BADGE":return function(r,a){var i,o;return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(r(su({wid:e,pud:t}))){s.next=3;break}return s.abrupt("return");case 3:i=Object(rt.a)(a(),e,t,"runbadge"),o=i.currentStep,n.isDetected&&1===o&&r({type:"NEXT_STEP",wid:e,pud:t});case 5:case"end":return s.stop()}}))};case"CREATE_PR":return function(n,r){var a,i,o;return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=n(su({wid:e,pud:t}))){s.next=3;break}return s.abrupt("return");case 3:i=Object(rt.a)(r(),e,t,"runbadge"),o=i.canPush,n({type:"CREATE_BADGE_PR",readmePath:a,canPush:o,wid:e});case 5:case"end":return s.stop()}}))};case"VISIT_PR":return function(n,r){var a,i,o,s,l,c;return Y.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(n(su({wid:e,pud:t}))){u.next=3;break}return u.abrupt("return");case 3:a=Object(rt.a)(r(),e,t,"runbadge"),i=a.prUrl,window.open(i),o=r().workspace[e].layout,s=Je.j(o,t),l=s.path,c=s.to,n({type:"UPDATE_LAYOUT",wid:e,path:l,to:c});case 8:case"end":return u.stop()}}))};default:return null}})),bu=n("2T9W"),hu=me.createElement,vu=function(){return hu("svg",{viewBox:"0 0 50 50",className:"logo-svg"},hu("defs",{className:"jsx-3902188783"},hu(oe.a,{id:"3902188783"},[".logo-svg{height:100%;width:100%;}",".logo-svg path{fill:currentColor;}"])),hu("path",{d:"M49.424 22.596zM13.02 22.466S6.196 47.61 33.548 47.828c8.581-3.194 14.905-11.027 15.863-20.47.066-.652.086-1.319.1-1.986.004-.176.027-.346.027-.523 0-.76-.046-1.51-.114-2.253-7.226 28.446-39.194 17.304-36.404-.13z"}),hu("path",{d:"M27.163 13.133S1.697 6.022 2.089 33.79a24.608 24.608 0 0 0 5.934 8.87c.11.104.223.202.333.304a24.622 24.622 0 0 0 2.327 1.896c.127.09.245.19.372.278.86.588 1.758 1.121 2.687 1.595.27.139.547.266.82.396.8.376 1.618.708 2.454.995.205.07.4.158.609.223a24.32 24.32 0 0 0 3.054.722c.312.054.628.1.944.144 1.07.155 2.151.239 3.233.251.042 0 .082.007.123.007.816 0 1.622-.044 2.417-.122-28.573-6.814-17.713-38.765-.233-36.215z"}),hu("path",{d:"M37.09 26.302S43.113.902 15.993 2.036C6.9 5.628.462 14.477.462 24.846c.008 1.118.093 2.232.252 3.338C6.422-.553 38.938 8.754 37.089 26.302z"}),hu("path",{d:"M24.067 37.232s25.51 3.33 23.914-20.924C44.509 6.972 35.544.308 25 .308a24.628 24.628 0 0 0-4.45.424c28.425 3.489 21.037 36.749 3.517 36.5z"}),hu("path",{d:"M32.082 24.85a6.873 6.873 0 1 1-13.746 0 6.873 6.873 0 0 1 13.746 0z"}))},xu=me.createElement;function yu(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):yu(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var ku=function(e){var t=e.reason;return xu("div",{className:"jsx-3815767023 spinner-modal-container"},xu("div",{className:"jsx-3815767023 spinner"},xu(vu,null)),xu("h3",{className:"jsx-3815767023 reason"},t,"..."),xu(oe.a,{id:"3815767023"},["@-webkit-keyframes replit-logo-spin-jsx-3815767023{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes replit-logo-spin-jsx-3815767023{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".spinner-modal-container.jsx-3815767023{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-width:225px;height:225px;cursor:not-allowed;background-color:rgba(0,0,0,0.35);border-radius:5px;z-index:500000;padding:16px;color:white;}",".spinner.jsx-3815767023{width:80px;height:80px;-webkit-animation:replit-logo-spin-jsx-3815767023 1.5s linear infinite;animation:replit-logo-spin-jsx-3815767023 1.5s linear infinite;}",".reason.jsx-3815767023{margin-top:20px;font-size:18px;font-weight:500;}"]))},ju=function(e){var t=e.style,n=e.wid,r=e.pud,a=Object(De.f)((function(e){return Object(rt.a)(e,n,r,"lock")})),i=a.isLocked,o=a.showSpinner,s=a.reason;return i?o?xu("div",{style:t,className:"jsx-2297509473"},xu(ku,{reason:s}),xu(oe.a,{id:"2297509473"},[".jsx-2297509473{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:fixed;top:0;bottom:0;left:0;right:0;cursor:not-allowed;background-color:rgba(0,0,0,0.25);z-index:500000;}"])):xu("div",{style:t,className:"jsx-2427369210"},xu(oe.a,{id:"2427369210"},[".jsx-2427369210{position:fixed;top:0;bottom:0;left:0;right:0;cursor:not-allowed;z-index:500000;}"])):null},Ou=Object(Ze.a)({primary:function(e,t){switch(t.type){case"LOCK_WORKSPACE":return wu({},e,{showSpinner:t.showSpinner,reason:t.reason,isLocked:!0});case"UNLOCK_WORKSPACE":return wu({},e,{showSpinner:!1,isLocked:!1});default:return e}},preferences:uo.b});function Eu(e,t,n){switch(n.type){case"LOCK_WORKSPACE":return function(t,n){var r;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n().workspace[e].layout,!Je.a(r,"lock")){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Y.a.awrap(t(wu({wid:e,type:"UPDATE_LAYOUT"},Je.h(r,"lock","inside",["floating"]))));case 6:case"end":return a.stop()}}))};case"UNLOCK_WORKSPACE":return function(t,n){var r;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().workspace[e].layout,a.next=3,Y.a.awrap(t(wu({wid:e,type:"UPDATE_LAYOUT"},Je.j(r,"lock"))));case 3:case"end":return a.stop()}}))};default:return null}}var _u=n("HO+9"),Nu=ge.a.createElement;function Su(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closable:!0,title:"",message:"",trackingCtx:"",isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROMPT_HACKER_UPGRADE":return{isOpen:!0,title:t.title,message:t.message,closable:t.closable,trackingCtx:t.trackingCtx};case"DISMISS_HACKER_UPGRADE":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Su(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({},e,{isOpen:!1});default:return e}}var Pu=function(e){var t=e.wid,n=e.pud,r=Object(rt.b)(t,n,"hackerupgradeprompt"),a=Object(G.a)(r,1)[0],i=a.title,o=a.message,s=a.trackingCtx,l=a.isOpen,c=a.closable,u=ge.a.useState(!1),d=Object(G.a)(u,2),p=d[0],f=d[1],m=ge.a.useState(!1),g=Object(G.a)(m,2),b=g[0],h=g[1],v=ge.a.useState(!1),x=Object(G.a)(v,2),y=x[0],w=x[1],k=ge.a.useState(!1),j=Object(G.a)(k,2),O=j[0],E=j[1],_=function(){return h(!1)},N=Object(dt.lb)({ssr:!1}),S=function(e){var t=e.loading,n=e.data;return t?"loading":n&&n.currentUser?n.currentUser.isHacker?"hacker":"signedUp":"anon"}(N),C=Object(De.e)();return ge.a.useEffect((function(){O&&"hacker"===S&&w(!0)}),[O,S]),ge.a.useEffect((function(){if(y){var e=setTimeout((function(){window.location.reload()}),1500);return function(){return clearTimeout(e)}}}),[y]),y?Nu(Yt.default,{onRequestClose:function(){return!1},hideX:!0,preventClose:!0},Nu("div",{className:"jsx-3902013120"},Nu("h3",{className:"jsx-3902013120"},"The page will reload soon with your new superpowers"),Nu("br",{className:"jsx-3902013120"}),Nu(_n.a,{style:{width:76,height:76,margin:"0 auto"}})),Nu(oe.a,{id:"3902013120"},["div.jsx-3902013120{padding:75px 52.5px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-weight:100;text-align:center;}"])):l?Nu(ge.a.Fragment,null,function(){if(p){var e=function(){f(!1),C({type:"DISMISS_HACKER_UPGRADE",wid:t}),w(!0)};return Nu(Yt.default,{onRequestClose:e,noBorder:!0,hideX:!0},Nu(_u.a,{onConfirm:e,confirmButtonText:"Continue hacking \ud83d\udd25"}))}return b?"loading"===S?Nu(Yt.default,{onRequestClose:function(){return!1},hideX:!0,preventClose:!0,noBorder:!0},Nu(_n.a,{style:{width:76,height:76,margin:"0 auto"}})):"anon"===S?Nu(Yt.default,{onRequestClose:_,noBorder:!0,hideX:!0},Nu(dr.a,{onSuccess:function(){N.refetch(),E(!0)}})):Nu(Cn.a,{closeModal:_,isOpen:b,trackingInfo:{context:s},onSubscribe:function(){return f(!0)}}):null}(),Nu("div",{className:"jsx-2371373952 warning-label-outer"},Nu("div",{className:"jsx-2371373952 warning-label-inner"},Nu("span",{className:"jsx-2371373952 warning-label-warning"},i),Nu("span",{className:"jsx-2371373952 warning-label-message"},"hacker"!==S?o:"\ud83e\udd26\u200d\u2640\ufe0f You've run out of disk space."),"hacker"!==S&&Nu("button",{onClick:function(){return h(!0)},className:"jsx-2371373952 warning-label-upgrade"},"Upgrade"),c&&Nu("button",{onClick:function(){C({type:"DISMISS_HACKER_UPGRADE",wid:t})},className:"jsx-2371373952 warning-label-x"},"\xd7")),Nu(oe.a,{id:"2371373952"},[".warning-label-outer.jsx-2371373952{display:table;background:var(--color-background-1);position:absolute;bottom:24px;left:50%;-webkit-transform:translate(-50%,0);-ms-transform:translate(-50%,0);transform:translate(-50%,0);border-radius:5px;z-index:30;box-shadow:0px 4px 5px rgba(0,0,0,0.25);}",".warning-label-inner.jsx-2371373952{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:white;padding:8px;background-color:rgba(219,121,11,0.05);color:var(--color-orange-default);border-radius:5px;min-width:400px;max-width:600px;}",".warning-label-upgrade.jsx-2371373952{margin:8px;padding:8px 16px;background-color:var(--color-positive);color:var(--color-white);border-radius:5px;border:none;font-size:1em;font-weight:bold;}",".warning-label-warning.jsx-2371373952{font-weight:bold;margin:0px 8px;}",".warning-label-x.jsx-2371373952{font-weight:bold;font-size:1.5em;text-align:center;vertical-align:center;color:grey;outline:none;background:none;border:none;cursor:pointer;margin:8px;}"]))):null},Iu=5900;function Au(e,t,n){switch(n.type){case"OPEN_SHELL":return function(e){var t=e.wid;return function(e,n){Object(Xe.track)(Xe.events.SHELL_OPENED);var r=n().workspace[t],a=r.layout,i=r.plugins;if(!Je.g(a,"goval_shell")){var o=Boolean(window["flag-windowing"]),s=Boolean(window["flag-shell-service"]),l=Boolean(window["flag-shell-service"])&&s;if(e({type:"LOAD_PLUGIN",wid:t,pluginPud:"goval_shell",pluginType:s?"shell":"terminal2",isClosable:o,isDraggable:o,title:"shell",initialState:{kind:"shell",loadingEngine:!1}}),l){var c=Je.b(a,i,"shell");if(!c)return;e({type:"SET_ACTIVE_TAB",path:c.slice(0,c.length-2),tabIndex:1,wid:t})}else{var u=Je.b(a,i,"console")||Je.b(a,i,"terminal2")||Je.k(),d=Je.h(a,"goval_shell","below",u,{position:65}),p=d.path,f=d.to;e({type:"UPDATE_LAYOUT",wid:t,path:p,to:f})}}}}({wid:e});case"PORT_OPEN":return n.port===Iu?function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.layout,o=a.plugins,s=Object(rt.a)(r(),t,n,"desktoplayout"),l=s.repl,c=s.vncUrl;if(!l.config.isVnc&&l.isOwner?e({type:"REQUEST_REPL_UPDATE",wid:t,updates:{config:{isVnc:!0}}}):e({type:"UPDATE_REPL",wid:t,updates:{config:{isVnc:!0}}}),Je.b(i,o,"vnc"))e({type:"CONNECT_VNC",vncUrl:c,wid:t});else{var u=Pe()();if(e({type:"LOAD_PLUGIN",wid:t,pluginPud:u,pluginType:"vnc",title:"result",initialState:{}}),!Je.g(i,u)){var d=Je.h(i,u,"above",Je.b(i,o,"console")||Je.b(i,o,"terminal2")||Je.k()),p=d.path,f=d.to;e({type:"UPDATE_LAYOUT",wid:t,path:p,to:f,property:void 0})}e({type:"CONNECT_VNC",vncUrl:c,wid:t})}}}({wid:e,pud:t}):function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t],i=a.layout,o=a.plugins,s=Object(rt.a)(r(),t,n,"desktoplayout").repl;if(!s.config.isServer&&s.isOwner?e({type:"REQUEST_REPL_UPDATE",wid:t,updates:{config:{isServer:!0}}}):e({type:"UPDATE_REPL",wid:t,updates:{config:{isServer:!0}}}),Je.b(i,o,"webview"))e({type:"REFRESH_WEBVIEW",wid:t});else{var l=Pe()();if(e({type:"LOAD_PLUGIN",wid:t,pluginPud:l,pluginType:"webview",title:"result",initialState:{renderIframe:!0,canBeClosed:!0}}),!Je.g(i,l)){var c=Je.h(i,l,"above",Je.b(i,o,"console")||Je.b(i,o,"terminal2")||Je.k()),u=c.path,d=c.to;e({type:"UPDATE_LAYOUT",wid:t,path:u,to:d,property:void 0})}}}}({wid:e,pud:t});default:return null}}function Ru(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Tu=Object(Ze.a)({primary:function(e,t){switch(t.type){case"SET_VNC_URL":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Ru(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({},e,{vncUrl:t.vncUrl});default:return e}},repl:Qe.b}),Mu=function e(){var t=this;Object(X.a)(this,e),Object(q.a)(this,"samples",void 0),Object(q.a)(this,"bufferSource",void 0),Object(q.a)(this,"audioCtx",void 0),Object(q.a)(this,"gainNode",void 0),Object(q.a)(this,"startTime",void 0),Object(q.a)(this,"audioStart",0),Object(q.a)(this,"correction",void 0),Object(q.a)(this,"feed",(function(e){var n=t.getFormatedValue(e),r=new Float32Array(t.samples.length+n.length);r.set(t.samples,0),r.set(n,t.samples.length),t.samples=r})),Object(q.a)(this,"getFormatedValue",(function(e){for(var t=new Float32Array(e.length),n=0;n<e.length;n++)t[n]=e[n]/2147483648;return t})),Object(q.a)(this,"stop",(function(){if(t.bufferSource)try{t.bufferSource.stop()}catch(e){if("InvalidStateError"!==e.name&&"RangeError"!==e.name)throw e}})),Object(q.a)(this,"flush",(function(e){if(t.audioCtx&&t.samples.length){var n=0,r=t.audioCtx.currentTime;if(0===e)t.startTime=r,t.audioStart=r;else{for(var a=r-t.audioStart,i=Math.floor(44100*a);i>e-32896;)t.audioStart+=32896/44100,i-=32896;i>e&&(n=i-e,t.startTime=r),t.startTime=r}t.samples=t.samples.slice(n,t.samples.length);for(var o,s,l,c=t.audioCtx.createBufferSource(),u=t.samples.length/1,d=t.audioCtx.createBuffer(1,u,44100),p=0;p<1;p++)for(o=d.getChannelData(p),s=p,l=0;l<u;l++)o[l]=t.samples[s],s+=1;t.startTime<t.audioCtx.currentTime&&(t.startTime=t.audioCtx.currentTime),c.buffer=d,c.connect(t.gainNode),c.start(t.startTime),t.stop(),t.bufferSource=c,t.startTime+=d.duration,t.samples=new Float32Array}})),this.samples=new Float32Array;var n=window.AudioContext||window.webkitAudioContext;this.audioCtx=new n,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime},Lu=me.createElement,Du=uc()((function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}});var zu=function(e){return Lu(Du,{noBorder:!0,hideX:!0,onRequestClose:e.onCancel},Lu("div",{className:"jsx-1116685669 audio-prompt-container"},Lu("div",{className:"jsx-1116685669 infobox"},Lu("h2",{className:"jsx-1116685669 title"},"We hear audio!"),Lu("div",{className:"jsx-1116685669"},"Hey! It appears that this repl has audio! In order for us to play the audio you're recieving, please click confirm.",Lu("br",{className:"jsx-1116685669"}),Lu("br",{className:"jsx-1116685669"}),'Clicking "run" to start your repl will also enable audio.')),Lu("div",{className:"jsx-1116685669 controlbox"},Lu(vt.a,{onClick:e.onCancel},"Cancel"),Lu(vt.a,{color:"positive",filled:!0,onClick:e.onConfirm},"Confirm"))),Lu(oe.a,{id:"1116685669"},[".audio-prompt-container.jsx-1116685669{padding:30px;width:475px;}",".infobox.jsx-1116685669{padding-bottom:75px;}",".infobox.jsx-1116685669 .title.jsx-1116685669{padding-bottom:22px;}",".controlbox.jsx-1116685669{display:grid;grid-template-columns:auto auto;grid-column-gap:10px;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;}"]))},Fu=ge.a.createElement;function Uu(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uu(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Uu(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Bu=Object(eu.a)((function(e,t,n,r){switch(n.type){case"CREATE_AUDIO_PLAYER":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a,i;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(a=Object(rt.a)(r(),t,n,"audio")).loading&&!a.player){o.next=3;break}return o.abrupt("return");case 3:if(a.channelHandle){o.next=5;break}return o.abrupt("return");case 5:e({type:"SET_AUDIO_LOADING",wid:t,pud:n,loading:!0}),i=new Mu,eo.a.safeGet(a.channelHandle).on("command",(function(e){e.audio2&&e.audio2.data&&(e.audio2.samples||(e.audio2.samples=0),i.feed(Int32Array.from(e.audio2.data)),i.flush(e.audio2.samples))})),e({type:"SAVE_AUDIO_PLAYER",wid:t,pud:n,player:i});case 10:case"end":return o.stop()}}))}}({wid:e,pud:t});case"EVAL_ENDED":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a;return Y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=Object(rt.a)(r(),t,n,"audio").player){i.next=3;break}return i.abrupt("return");case 3:a.stop(),e({type:"SAVE_AUDIO_PLAYER",wid:t,pud:n,player:a});case 5:case"end":return i.stop()}}))}}({wid:e,pud:t});case"LOADING_GOVAL_COMPLETE":return function(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!Object(rt.a)(a(),t,n,"audio").channelHandle){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,Y.a.awrap(e(Object(tu.a)({wid:t,name:"audio",service:"audio",wait:r})));case 5:(i=o.sent).once("command",(function(r){Object(Xe.track)(Xe.events.AUDIO_PLAYING_STARTED);var i=Object(rt.a)(a(),t,n,"audio"),o=i.player,s=i.loading;o||s||e({type:"OPEN_AUDIO_PROMPT",wid:t,pud:n})})),e({type:"SAVE_AUDIO_CHANNEL",wid:t,pud:n,handle:eo.a.getHandle(i)});case 8:case"end":return o.stop()}}))}}({wid:e,pud:t,wait:r});case"LOADING_GOVAL_STARTED":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o,s;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(a=Object(rt.a)(r(),t,n,"audio"),i=a.player,o=a.channelHandle,i&&i.stop(),!o){l.next=7;break}if((s=eo.a.safeGet(o)).closed){l.next=7;break}return l.next=7,Y.a.awrap(s.close());case 7:e({type:"RESET_AUDIO_DATA",wid:t,pud:n});case 8:case"end":return l.stop()}}))}}({wid:e,pud:t});default:return null}}));function Vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{player:null,loading:!1,channelHandle:null,showPrompt:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_AUDIO_PLAYER":return Hu({},e,{player:t.player,loading:!1});case"SAVE_AUDIO_CHANNEL":return Hu({},e,{channelHandle:t.handle});case"SET_AUDIO_LOADING":return Hu({},e,{loading:t.loading});case"RESET_AUDIO_DATA":return Hu({},e,{player:null,channelHandle:null});case"CLOSE_AUDIO_PROMPT":return Hu({},e,{showPrompt:!1});case"OPEN_AUDIO_PROMPT":return Hu({},e,{showPrompt:!0});default:return e}}function Ku(e){var t=e.wid,n=e.pud,r=Object(rt.b)(t,n,"audio"),a=Object(G.a)(r,1)[0].showPrompt,i=Object(De.e)();if(!a)return null;var o=function(){i({type:"CLOSE_AUDIO_PROMPT",wid:t,pud:n})};return Fu(zu,{onCancel:function(){o(),Object(Xe.track)(Xe.events.AUDIO_PROMPT_CLOSED,{accepted:!1})},onConfirm:function(){o(),Object(Xe.track)(Xe.events.AUDIO_PROMPT_CLOSED,{accepted:!0}),i({type:"CREATE_AUDIO_PLAYER",wid:t,pud:n})}})}var Gu=n("q0kf"),qu=n.n(Gu),Wu=n("34QA");function Yu(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Yu(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var $u=function(e){try{return qu.a.parse($i.a.from(e).toString("utf8")).language}catch(t){return null}},Qu=function(e){return"nodejs"===e?"npm start":""},Ju=function(e){var t={"go.mod":"go","package.json":"nodejs","Cargo.toml":"rust","requirements.txt":"python3","pyproject.toml":"python3","index.html":"html",Gemfile:"ruby",Makefile:"bash"};for(var n in t)if(e.includes(n))return t[n];var r=Re.a.allSupportedByPopularity().reduce((function(e,t){var n=t.ext,r=t.key;return e[n]=e[n]?e[n]:r,e}),{}),a=e.map((function(e){return e.split(".").slice(-1)[0]})).reduce((function(e,t){var n=e.find((function(e){return e.ext===t}));return n?n.count++:e.push({ext:t,count:1}),e}),[]).sort((function(e,t){return t.count-e.count}));return a.length&&(1===a.length||a[0].count>=2*a[1].count)&&r[a[0].ext]?r[a[0].count]:"bash"};var Zu=Object(eu.a)((function(e,t,n,r){switch(n.type){case"START_GIT_CLONE":return function(n,r){var a,i;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a=Object(rt.a)(r(),e,t,"runflow"),i=a.repl,Oe.a.replace({pathname:Oe.a.pathname,query:Oe.a.query},i.url,{shallow:!0});case 2:case"end":return n.stop()}}))};case"END_GIT_CLONE":return function(n,a){var i,o,s,l,c,u,d,p,f,m,g,b,h,v;return Y.a.async((function(x){for(;;)switch(x.prev=x.next){case 0:return n({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Detecting Language",wid:e}),i=Object(rt.a)(a(),e,t,"runflow"),o=i.files,s=i.repl,l=B()(o),(c=l.find((function(e){return e.toLowerCase().includes("readme")}))||Object(Mi.a)(l,s.language)||l[0])&&n({type:"OPEN_FILE",wid:e,path:c}),x.next=7,Y.a.awrap(n(Object(tu.a)({wid:e,service:"gcsfiles",wait:r})));case 7:return u=x.sent,x.next=10,Y.a.awrap(u.request({persistMirror:{path:"."}}));case 10:if((d=x.sent).ok,d.channelClosed,u instanceof Wu.Channel){x.next=15;break}throw new Error("unexpected chan response to be a chan");case 15:return x.next=17,Y.a.awrap(u.request({read:{path:".replit"}}));case 17:if(!(p=x.sent).channelClosed){x.next=20;break}return x.abrupt("return");case 20:if(f=p.file&&p.file.content?$u(p.file.content):null,!p.error&&p.file&&f){x.next=26;break}return n({type:"UNLOCK_WORKSPACE",wid:e}),n({type:"INSERT_RUN_FLOW_PLUGIN",wid:e,pudToInsert:"config"}),p.error&&(m=Ju(l),g=Qu(m),b='language = "'.concat(m,'"\nrun = "').concat(g,'"'),n({type:"UPLOAD_FILE",wid:e,path:".replit",content:$i.a.from(b),create:!0})),x.abrupt("return");case 26:if(f!==s.language){x.next=29;break}return n({type:"UNLOCK_WORKSPACE",wid:e}),x.abrupt("return");case 29:return h=Re.a.get(f).displayName,n({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Upgrading to ".concat(h),wid:e}),n({type:"PERSIST_FILE",wid:e,flush:!0}),v=function(){return Object(rt.a)(a(),e,t,"runflow").fsClean.status},x.next=35,Y.a.awrap(r((function(e){return"FILE_PERSISTED"===e.type&&v()})));case 35:return n({type:"REQUEST_REPL_UPDATE",wid:e,updates:{language:f}}),x.next=38,Y.a.awrap(r((function(e){var t=e.type,n=e.updates;return"REPL_UPDATED"===t&&"language"in n})));case 38:window.location.replace(window.location.pathname);case 39:case"end":return x.stop()}}))};case"RUN_FLOW_CONFIG_COMPLETE":return function(t,n){var r;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n().workspace[e].layout,a.next=3,Y.a.awrap(t(Xu({wid:e,type:"UPDATE_LAYOUT"},Je.j(r,"config"))));case 3:case"end":return a.stop()}}))};case"INSERT_RUN_FLOW_PLUGIN":return function(r,a){var i,o,s,l,c,u,d,p;return Y.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(i=Object(rt.a)(a(),e,t,"runflow"),o=i.currentPud,s=a().workspace[e],l=s.layout,c=s.plugins,u=Je.b(l,c,"console"),d=Je.b(l,c,"terminal2"),!Je.g(l,n.pudToInsert)){f.next=6;break}return f.abrupt("return");case 6:return f.next=8,Y.a.awrap(r(Xu({wid:e,type:"UPDATE_LAYOUT"},Je.h(l,n.pudToInsert,"above",u||d||Je.k()))));case 8:if(p=a().workspace[e].layout,!o){f.next=12;break}return f.next=12,Y.a.awrap(r(Xu({wid:e,type:"UPDATE_LAYOUT"},Je.j(p,o))));case 12:r({type:"UPDATE_CURRENT_RUN_PLUGIN",wid:e,pud:t,currentPud:n.pudToInsert});case 13:case"end":return f.stop()}}))};default:return null}}));function ed(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):ed(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var nd=Object(Ze.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentPud:null,updateLangOnPersistClean:!1,updateLanguage:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CURRENT_RUN_PLUGIN":return td({},e,{currentPud:t.currentPud});default:return e}},repl:Qe.b,files:ai.a,fsClean:ot.a}),rd=n("LCp+"),ad=n("v7Px"),id=n.n(ad),od=n("Wa2I"),sd=n.n(od),ld=Object(Lc.a)((function(){return{channel:null,isTracking:!1}})),cd=ld.reducer,ud=ld.setState;function dd(e,t){var n,r;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n="",r=function(e){e.output&&(n+=e.output)},e.on("command",r),a.next=5,Y.a.awrap(e.request({exec:{args:["bash","-c",t]}}));case 5:return e.off("command",r),a.abrupt("return",n);case 7:case"end":return a.stop()}}))}function pd(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s,l;return Y.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=Object(rt.a)(a(),t,n,"resourcemonitor"),!(o=i.channel)){c.next=3;break}return c.abrupt("return",o);case 3:return s=e(Object(tu.a)({wid:t,service:"exec",wait:r})),ud(t,n,e,{channel:s}),c.next=7,Y.a.awrap(s);case 7:return l=c.sent,ud(t,n,e,{channel:l}),l.on("close",(function(){ud(t,n,e,{channel:null})})),c.abrupt("return",l);case 11:case"end":return c.stop()}}))}}var fd=3e5;function md(e){var t=e.wid,n=e.pud,r=e.wait,a=e.running;return function(e,i){var o,s,l,c,u,d;return Y.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Y.a.awrap(e(pd({wid:t,pud:n,wait:r})));case 2:if(o=p.sent,s=Object(rt.a)(i(),t,n,"resourcemonitor"),!s.isTracking){p.next=6;break}return p.abrupt("return");case 6:return ud(t,n,e,{isTracking:!0}),p.next=9,Y.a.awrap(dd(o,"busybox top -b -n 1 | awk -v cores=$(nproc) '/%CPU/,EOF {\n            if (!/%CPU/) sum += $7\n          } END {print sum * cores}'"));case 9:if(l=p.sent,c=sd()(l),id()(c)||Object(Xe.track)(Xe.events.CPU_USAGE_PCT_FETCHED,{cpu:c,running:a}),!o.closed){p.next=15;break}return ud(t,n,e,{isTracking:!1}),p.abrupt("return");case 15:return p.next=17,Y.a.awrap(dd(o,"busybox ps -o rss | awk 'NR > 1 {\n          if (/m/) sum += $1*1024\n          else if (/g/) sum += $1*1024*1024\n          else sum += $1\n        } END {print sum/1024}'"));case 17:u=p.sent,d=sd()(u),id()(d)||Object(Xe.track)(Xe.events.MEM_USAGE_MB_FETCHED,{memory:d,running:a}),ud(t,n,e,{isTracking:!1});case 21:case"end":return p.stop()}}))}}var gd=Object(eu.a)((function(e,t,n,r){switch(n.type){case"LOADING_GOVAL_COMPLETE":return function(e){var t=e.wid,n=e.pud,r=e.wait;return function(e){var a,i,o;return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Y.a.awrap(e(pd({wid:t,pud:n,wait:r})));case 2:(i=s.sent).on("close",(function(){clearTimeout(a)})),o=function o(){return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Y.a.awrap(e(md({wid:t,pud:n,wait:r,running:!1})));case 2:if(!i.closed){s.next=4;break}return s.abrupt("return");case 4:a=setTimeout(o,fd);case 5:case"end":return s.stop()}}))},i.on("open",(function(){a=setTimeout(o,fd)}));case 6:case"end":return s.stop()}}))}}({wid:e,pud:t,wait:r});case"EVALER_STARTED":case"EVALER_ENDED":case"INTERPER_STARTED":case"INTERPER_ENDED":case"SHELLRUNNER_STARTED":case"SHELLRUNNER_ENDED":return md({wid:e,pud:t,wait:r,running:!0});default:return null}})),bd=me.createElement,hd=uc()((function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}});var vd=function(e){return bd(hd,{noBorder:!0,hideX:!0,onRequestClose:e.onCancel},bd("div",{className:"jsx-729556425 notification-perm-container"},bd("div",{className:"jsx-729556425 infobox"},bd("h2",{className:"jsx-729556425 title"},"repl.it needs your permission to enable notifications."),bd("div",{className:"jsx-729556425"},"Never miss messages from your collaborators if you\u2019re in another tab or window.")),bd("div",{className:"jsx-729556425 controlbox"},bd(vt.a,{onClick:e.onCancel},"Cancel"),bd(vt.a,{filled:!0,color:"positive",onClick:e.onConfirm},"Confirm"))),bd(oe.a,{id:"729556425"},[".notification-perm-container.jsx-729556425{padding:30px;width:475px;}",".infobox.jsx-729556425{padding-bottom:75px;}",".infobox.jsx-729556425 .title.jsx-729556425{padding-bottom:22px;}",".controlbox.jsx-729556425{display:grid;grid-template-columns:auto auto;grid-column-gap:10px;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;}"]))},xd=n("1lQF"),yd=ge.a.createElement,wd=Object(xd.a)(["REQUEST_NOTIFICATION_PERMS"]),kd=wd.receiver,jd=wd.useReceiver;function Od(){var e=Object(me.useState)(!1),t=e[0],n=e[1];jd((function(e){var t=e.action;switch(t.type){case"REQUEST_NOTIFICATION_PERMS":var r=Object(Wl.b)();("default"===r||"dismissed"===r&&t.force)&&n(!0)}}));return t?yd(vd,{onCancel:function(){Object(Wl.d)(!0),n(!1)},onConfirm:function(){return Y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.awrap(Object(Wl.c)());case 2:n(!1);case 3:case"end":return e.stop()}}))}}):null}var Ed=n("IjuC"),_d=me.createElement;function Nd(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Nd(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}var Cd=Object(Ze.a)({repl:Qe.b,files:ai.a,currentFile:Ri.a,primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cursors:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FILE_CURSORS":var n=t.path,r=t.selections[0].position;return Sd({},e,{cursors:Sd({},e.cursors,Object(q.a)({},n,r))});default:return e}}}),Pd=function(e){var t,n,r,a=e.wid,i=e.pud,o=e.style,s=Object(rt.b)(a,i,"database"),l=Object(G.a)(s,1)[0].repl,c=Object(dt.ab)({variables:{replID:l.id},pollInterval:1e4}),u=c.data,d=c.error,p=c.loading;u&&("Repl"===u.repl.__typename?n=null===u||void 0===u?void 0:null===(r=u.repl)||void 0===r?void 0:r.database:t="Could not fetch Database info");d&&("GraphQL error: You don't have access to this database"===d.message?n=null:t=d.message);var f=Object(De.f)((function(e){return e.user.userInfo}));return _d("div",{style:o,className:"jsx-2763592423 database"},_d("div",{className:"jsx-2763592423 header"},_d(Pr.a,{level:5},"Database")),_d("div",{className:"jsx-2763592423 wrapper"},f.isLoggedIn?_d(me.Fragment,null,_d("span",{className:"jsx-2763592423 description"},_d("a",{href:"https://docs.repl.it/misc/database",target:"_blank",rel:"noopener",className:"jsx-2763592423 docs-link"},"Repl.it Database"),"is an easy to use key-value store."),t&&_d("div",{className:"jsx-2763592423 error"},t),(n||p)&&_d("div",{className:"jsx-2763592423 usage"},_d(Id,{database:n,loading:p})),_d("span",{className:"jsx-2763592423 command-title"},"commands"),_d(Ad,{wid:a,pud:i,lang:l.language})):_d(Bd,null)),_d(Hd,null),_d(oe.a,{id:"2763592423"},[".database.jsx-2763592423{text-overflow:ellipsis;background-color:var(--color-background-1);color:var(--color-foreground-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-width:120px;border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".header.jsx-2763592423{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-1);position:relative;color:var(--color-foreground-1);width:100%;}",".description.jsx-2763592423{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;color:var(--color-foreground-2);padding-bottom:var(--spacing-2) 0;}",".docs-link.jsx-2763592423{font-weight:var(--font-weight-medium);color:var(--color-primary-1);margin-right:var(--spacing-half);}",".wrapper.jsx-2763592423{padding:var(--spacing-1);overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;width:100%;}",".error.jsx-2763592423{color:var(--color-red-1);margin-bottom:var(--spacing-2);}",".usage.jsx-2763592423{margin-bottom:var(--spacing-2);}",".command-title.jsx-2763592423{font-size:var(--font-size-desktop-text-xsmall);text-transform:uppercase;font-weight:var(--font-weight-medium);-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;margin-bottom:var(--spacing-2);}"]))},Id=function(e){var t=e.database;if(e.loading)return _d(_n.a,{style:{margin:"10px auto",width:"35px",height:"35px"}});if(!t)return null;var n=t.sizeMB||0,r="MB";return n<1&&(n*=1e3,r="KB"),_d("div",{className:"jsx-2731733618 storage-section"},_d("span",{className:"jsx-2731733618 storage-title"},"storage"),_d("div",{className:"jsx-2731733618"},_d("span",{className:"jsx-2731733618 storage-data"},n.toFixed(2)," ",r),_d("span",{className:"jsx-2731733618 separator"},"|"),_d("span",{className:"jsx-2731733618 storage-data"},"".concat(t.keysCount||0," ").concat(1===t.keysCount?"key":"keys"))),_d(oe.a,{id:"2731733618"},[".storage-section.jsx-2731733618{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:var(--spacing-1) 0;}",".storage-title.jsx-2731733618{font-size:var(--font-size-desktop-text-xsmall);text-transform:uppercase;font-weight:var(--font-weight-medium);-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;padding-bottom:var(--spacing-half);}",".separator.jsx-2731733618{color:var(--color-foreground-3);padding:0 var(--spacing-1);}",".storage-data.jsx-2731733618{color:var(--color-foreground-2);}"]))},Ad=function(e){var t=e.wid,n=e.pud,r=e.lang;return _d("div",{className:"jsx-2634600333 examples-container"},function(){switch(r){case"python3":case"python3_beta":return _d(Fd,{wid:t,pud:n,examples:Ld});case"go":case"go_beta":return _d(Fd,{wid:t,pud:n,examples:Dd});case"nodejs":case"nodejs_beta":return _d(Fd,{wid:t,pud:n,examples:zd});default:return _d(Ud,null)}}(),_d(oe.a,{id:"2634600333"},[".examples-container.jsx-2634600333{padding:var(--spacing-half) 0;}"]))},Rd=function(e){var t=e.title,n=e.content,r=e.wid,a=e.pud,i=me.useState(n),o=Object(G.a)(i,2),s=o[0],l=o[1],c=function(){return s.reduce((function(e,t){return"input"===t.type?e+(t.value||t.placeholder):e+t.value}),"")},u=function(){var e=t.split(" ");return[e[0],e.slice(1).join(" ")]}(),d=Object(G.a)(u,2),p=d[0],f=d[1];return _d("div",{className:"jsx-1982888739 command-container"},_d("span",{className:"jsx-1982888739 command-title"},_d("span",{className:"jsx-1982888739 command-keyword"},p),f),_d("div",{className:"jsx-1982888739 command-wrapper"},_d("div",{className:"jsx-1982888739 command-example"},n.map((function(e,n){return"input"===e.type?_d("input",{key:"".concat(t,"-").concat(n),onChange:function(e){var t=Object(fi.a)(s);t[n].value=e.target.value,l(t)},placeholder:e.placeholder,value:e.value||"",className:"jsx-1982888739"}):_d("code",{key:"".concat(t,"-").concat(n),className:"jsx-1982888739"},e.value)}))),r&&a?_d(Td,{wid:r,pud:a,code:c()}):_d(vt.a,{size:"small",onClick:function(){return Object(Ed.a)(c())}},"Copy")),_d(oe.a,{id:"1982888739"},[".command-container.jsx-1982888739{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:start;-webkit-box-align:start;-ms-flex-align:start;align-items:start;}",".command-title.jsx-1982888739{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;white-space:nowrap;margin-bottom:var(--spacing-1);color:var(--color-foreground-2);}",".command-keyword.jsx-1982888739{color:var(--color-foreground-1);font-weight:var(--font-weight-medium);margin-right:var(--spacing-half);}",".command-wrapper.jsx-1982888739{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".command-example.jsx-1982888739{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:2px 4px;border-radius:var(--border-radius-1);background-color:var(--color-control-3);-webkit-transition:background-color 0.1s;transition:background-color 0.1s;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:var(--spacing-half);margin-bottom:var(--spacing-half);}",".command-example.jsx-1982888739:hover,.command-example.jsx-1982888739:hover>code.jsx-1982888739{background-color:var(--color-control-2);}","code.jsx-1982888739{padding:2px;background-color:var(--color-control-3);color:var(--color-red-1);-webkit-transition:background-color 0.1s;transition:background-color 0.1s;white-space:nowrap;}","input.jsx-1982888739{text-align:center;width:40px;height:auto;background-color:var(--color-background-1);border:1px solid var(--color-control-1);color:var(--color-foreground-1);border-radius:var(--border-radius-1);-webkit-transition:background-color 0.1s;transition:background-color 0.1s;cursor:text;}","input.jsx-1982888739:focus{border:0.5px solid var(--color-primary-1);outline:none;}"]))},Td=function(e){var t=e.wid,n=e.pud,r=e.code,a=Object(rt.b)(t,n,"database"),i=Object(G.a)(a,1)[0],o=i.files,s=i.currentFile,l=i.cursors,c=Object(De.e)(),u=s.path,d=u?o[u]:null;if(!u||!(null===d||void 0===d?void 0:d.loaded))return _d(vt.a,{className:"button",size:"small",loading:!0},"Insert \u2192");var p=d.content.toString("utf8"),f=-1!==p.indexOf(r);return _d(vt.a,{className:"button",size:"small",disabled:f,onClick:function(){var e=Object.prototype.hasOwnProperty.call(l,u)?l[u]:p.length,n="",a="\n";e>0&&"\n"!==p[e]&&"\n"!==p[e-1]?a="":e>0&&"\n"!==p[e-1]&&(n="\n",a=""),c({type:"OT_FILE_OP",wid:t,path:u,op:[e,n+r+a],changeSource:"database"})}},"Insert \u2192")},Md=[{title:"Set a key to a value",content:[{type:"code",value:"curl $REPLIT_DB_URL -d '"},{type:"input",placeholder:"key"},{type:"code",value:"="},{type:"input",placeholder:"value"},{type:"code",value:"'"}]},{title:"Get a key's value",content:[{type:"code",value:"curl $REPLIT_DB_URL/"},{type:"input",placeholder:"key"}]},{title:"Delete a key",content:[{type:"code",value:"curl -XDELETE $REPLIT_DB_URL/"},{type:"input",placeholder:"key"}]},{title:"List all keys",content:[{type:"code",value:'curl "$REPLIT_DB_URL?prefix='},{type:"input",placeholder:"key"},{type:"code",value:'"'}]}],Ld=[{title:"Import the database",content:[{type:"code",value:"from replit import db"}]},{title:"Set a key to a value",content:[{type:"code",value:'db["'},{type:"input",placeholder:"key"},{type:"code",value:'"] = "'},{type:"input",placeholder:"value"},{type:"code",value:'"'}]},{title:"Get a key's value",content:[{type:"code",value:'value = db["'},{type:"input",placeholder:"key"},{type:"code",value:'"]'}]},{title:"Delete a key",content:[{type:"code",value:'del db["'},{type:"input",placeholder:"key"},{type:"code",value:'"]'}]},{title:"List all keys",content:[{type:"code",value:"keys = db.keys()"}]},{title:"List keys with a prefix",content:[{type:"code",value:'matches = db.prefix("'},{type:"input",placeholder:"prefix"},{type:"code",value:'")'}]}],Dd=[{title:"Import the database",content:[{type:"code",value:'import "github.com/replit/database-go"'}]},{title:"Set a key to a value",content:[{type:"code",value:'database.Set("'},{type:"input",placeholder:"key"},{type:"code",value:'", "'},{type:"input",placeholder:"value"},{type:"code",value:'")'}]},{title:"Get a key's value",content:[{type:"code",value:'value, _ := database.Get("'},{type:"input",placeholder:"key"},{type:"code",value:'")'}]},{title:"Delete a key",content:[{type:"code",value:'database.Delete("'},{type:"input",placeholder:"key"},{type:"code",value:'")'}]},{title:"List all keys",content:[{type:"code",value:'keys, _ := database.ListKeys("")'}]},{title:"List keys with a prefix",content:[{type:"code",value:"matches, _ := database.ListKeys("},{type:"input",placeholder:"prefix"},{type:"code",value:'")'}]}],zd=[{title:"Import the database",content:[{type:"code",value:'const Database = require("@replit/database")'}]},{title:"Create a new database",content:[{type:"code",value:"const db = new Database()"}]},{title:"Set a key to a value",content:[{type:"code",value:'db.set("'},{type:"input",placeholder:"key"},{type:"code",value:'", "'},{type:"input",placeholder:"value"},{type:"code",value:'").then(() => {});'}]},{title:"Get a key's value",content:[{type:"code",value:'db.get("'},{type:"input",placeholder:"key"},{type:"code",value:'").then(value => {});'}]},{title:"Delete a key",content:[{type:"code",value:'db.delete("'},{type:"input",placeholder:"key"},{type:"code",value:'").then(() => {});'}]},{title:"List all keys",content:[{type:"code",value:"db.list().then(keys => {});"}]},{title:"List keys with a prefix",content:[{type:"code",value:'db.list("'},{type:"input",placeholder:"prefix"},{type:"code",value:'").then(matches => {});'}]}],Fd=function(e){var t=e.wid,n=e.pud,r=e.examples;return _d("div",null,_d(vr.VStack,{spacing:2},r.map((function(e,r){return _d(Rd,{title:e.title,content:e.content,key:r,wid:t,pud:n})}))))},Ud=function(){return _d(me.Fragment,null,_d("span",{className:"jsx-1582133223 intro"},"We've set an environment variable called ",_d("code",{className:"jsx-1582133223"},"REPLIT_DB_URL")," in your repl."),_d("div",{className:"jsx-1582133223 examples"},_d(vr.VStack,{spacing:2},Md.map((function(e,t){return _d(Rd,{key:t,title:e.title,content:e.content})})))),_d("span",{className:"jsx-1582133223 disclaimer"},"We have language clients for Python, Go, and Node. But you can still use Database from this repl or any other language by making HTTP requests similar to those above."),_d(oe.a,{id:"1582133223"},[".intro.jsx-1582133223{color:var(--color-foreground-2);padding-top:var(--sapcing-1);padding-bottom:var(--spacing-2);}",".examples.jsx-1582133223{padding:var(--spacing-1) 0;}",".disclaimer.jsx-1582133223{padding-top:var(--spacing-1);padding-bottom:var(--spacing-2);color:var(--color-foreground-2);}","code.jsx-1582133223{padding:2px;background-color:var(--color-control-3);color:var(--color-red-1);-webkit-transition:background-color 0.1s;transition:background-color 0.1s;white-space:nowrap;}"]))},Hd=function(){return _d("div",{className:"jsx-1372110282"},_d("a",{href:"https://repl.it/talk/announcements/Replit-Database-feedback/51085",target:"_blank",rel:"noopener",className:"jsx-1372110282"},"Send feedback"),_d(oe.a,{id:"1372110282"},["div.jsx-1372110282{background-color:var(--color-background-2);color:var(--color-foreground-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-4);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;font-size:var(--font-size-desktop-text-small);}"]))},Bd=function(){return _d("div",{className:"jsx-2608806696 wrapper"},_d("span",{className:"jsx-2608806696 description"},_d("a",{href:"https://docs.repl.it/misc/database",target:"_blank",rel:"noopener",className:"jsx-2608806696 docs-link"},"Repl.it Database"),"is the fastest and easiest way to store data from your repl. Try it out by logging in or signing up."),_d("a",{href:"/signup",className:"jsx-2608806696"},_d(vt.a,{fullWidth:!0,color:"primary",filled:!0},"Sign up")),_d(oe.a,{id:"2608806696"},[".wrapper.jsx-2608806696{padding:var(--spacing-1) 0;color:var(--color-foreground-2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}","span.jsx-2608806696{margin-bottom:var(--spacing-1);}",".docs-link.jsx-2608806696{font-weight:var(--font-weight-medium);color:var(--color-primary-1);margin-right:var(--spacing-half);}"]))},Vd=n("LR/J"),Kd=n.n(Vd),Gd=n("Chr5"),qd=n.n(Gd),Wd=n("ppfS"),Yd=n.n(Wd),Xd=n("EqVJ"),$d=n.n(Xd),Qd=n("4b29"),Jd=n("XpjT"),Zd=n.n(Jd),ep=n("tSgl"),tp=n.n(ep),np=n("VwSA"),rp=ge.a.createElement,ap=Te.ICON_SIZE_MAP.medium,ip=function(e){var t=rp(Zd.a,null);if(e in np.a){var n=np.a[e];t=rp(Hn.LanguageIcon,{language:e,fill:n})}return rp("div",{className:"jsx-11055842 language-icon"},t,rp(oe.a,{id:"11055842"},[".language-icon.jsx-11055842{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:".concat(ap,"px;width:").concat(ap,"px;}"),".language-icon.jsx-11055842 svg{width:100% !important;height:auto !important;}"]))},op=ge.a.createElement;function sp(e){var t,n,r,a,i,o,s,l,c;return Y.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.container,n=[".git",".upm",".cache","__pycache__","node_modules"],r=window.performance.now(),u.next=5,Y.a.awrap(t.exec.apply(t,["ag","-g *","--hidden"].concat(Object(fi.a)(n.map((function(e){return"--ignore=".concat(e)}))))));case 5:if(a=u.sent,i=a.output,o=a.error,Object(Xe.track)(Xe.events.COMMAND_BAR_FIND_FILE,{duration:window.performance.now()-r,failed:Boolean(o)&&"exit status 1"!==o}),s=t.getRepl()){u.next=12;break}throw new Error("Expected repl");case 12:if(l=function(e){return!!e&&(!tp()(e)&&!Re.a.isLangFileBinary(s.language,e))},o||!i){u.next=15;break}return u.abrupt("return",{error:null,files:i.split("\n").filter(l)});case 15:if(!o||!o.includes("not found")){u.next=22;break}return u.next=18,Y.a.awrap(t.exec("find",".","-type","f","-print0"));case 18:if(c=u.sent,Object(Xe.track)(Xe.events.AG_NOT_AVAILABLE,{language:s.language}),!c.output){u.next=22;break}return u.abrupt("return",{error:null,files:c.output.slice(2,-1).split("\0./").filter(l)});case 22:return"exit status 1"!==o&&We.c(new Error("Find file command failed with error: ".concat(o))),u.abrupt("return",{error:o,files:null});case 24:case"end":return u.stop()}}))}function lp(e){var t=e.container,n=e.onSelect,r=null;return{type:"command",icon:op(Zd.a,null),description:"Find a file",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"},options:function(e){var a,i,o;return Y.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=null===e||void 0===e?void 0:e.toLowerCase(),r){s.next=8;break}return s.next=4,Y.a.awrap(sp({container:t}));case 4:if(!(i=s.sent).error){s.next=7;break}return s.abrupt("return",[]);case 7:r=i.files;case 8:if(r){s.next=10;break}throw new Error("Expected files");case 10:return o=a?Tr.a.filter(a,r).map((function(e){return e.string})):r,s.abrupt("return",o.map((function(e){var t=ip(Object(Zi.a)(e));return{type:"option",value:e,icon:t,run:function(){n(e)}}})));case 12:case"end":return s.stop()}}))}}}var cp=n("6BQ9"),up=n.n(cp),dp=n("2xkv"),pp=n.n(dp),fp=ge.a.createElement,mp=100,gp=150;function bp(e){var t,n,r,a,i,o,s,l,c,u,d,p,f,m,g,b,h,v,x,y,w,k,j;return Y.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:return t=e.query,n=e.container,r=window.performance.now(),O.next=4,Y.a.awrap(n.exec("ag","--context=0","--workers=1","--width=".concat(gp),"--literal","--ackmate","--pager","head -".concat(3*mp),"--",t));case 4:if(a=O.sent,i=a.output,o=a.error,Object(Xe.track)(Xe.events.COMMAND_BAR_SEARCH,{duration:window.performance.now()-r,failed:Boolean(o)&&"exit status 1"!==o}),!o){O.next=11;break}return"exit status 1"!==o&&We.c(new Error("Search command failed with error: ".concat(o))),O.abrupt("return",{error:o});case 11:if(i){O.next=13;break}return O.abrupt("return",{});case 13:s=i.split("\n"),l={},c="",u=0,d=!0,p=!1,f=void 0,O.prev=20,m=Ur()(s);case 22:if(d=(g=m.next()).done){O.next=44;break}if(b=g.value){O.next=26;break}return O.abrupt("continue",41);case 26:if(!b.startsWith(":")){O.next=30;break}return c=b.slice(1),l[c]=[],O.abrupt("continue",41);case 30:if(!(u>=mp)){O.next=32;break}return O.abrupt("break",44);case 32:h=b.indexOf(";"),v=up()(b.slice(0,h),10),x=b.slice(h+1),y=x.indexOf(":"),w=x.slice(0,y).split(","),k=w.map((function(e){var t=e.split(" "),n=Object(G.a)(t,2),r=n[0],a=n[1];return{column:up()(r,10),length:up()(a,10)}})),j=x.slice(y+1),u++,l[c].push({content:j,lineNumber:v,matches:k});case 41:d=!0,O.next=22;break;case 44:O.next=50;break;case 46:O.prev=46,O.t0=O.catch(20),p=!0,f=O.t0;case 50:O.prev=50,O.prev=51,d||null==m.return||m.return();case 53:if(O.prev=53,!p){O.next=56;break}throw f;case 56:return O.finish(53);case 57:return O.finish(50);case 58:return O.abrupt("return",{error:null,results:l});case 59:case"end":return O.stop()}}),null,null,[[20,46,50,58],[51,,53,57]])}function hp(e){var t,n=e.container,r=e.onSelect;return{type:"command",icon:fp(pp.a,null),description:"Search through your files",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"},options:function(e){var a,i,o,s,l,c,u;return Y.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(e){d.next=2;break}return d.abrupt("return",[]);case 2:return a=Math.random(),t=a,d.next=6,Y.a.awrap(bp({query:e,container:n}));case 6:if(i=d.sent,o=i.results,a===t){d.next=10;break}return d.abrupt("return",[]);case 10:if(o){d.next=12;break}return d.abrupt("return",[]);case 12:for(s=[],l=function(){var e=Object(G.a)(u[c],2),t=e[0],n=e[1],a=ip(Object(Zi.a)(t)),i=n.map((function(e){return{icon:a,value:e.content,description:"".concat(t,":").concat(e.lineNumber),matches:e.matches,type:"option",run:function(){r(t,e.lineNumber,e.matches[0].column)}}}));s.push.apply(s,Object(fi.a)(i))},c=0,u=Kd()(o);c<u.length;c++)l();return d.abrupt("return",s);case 16:case"end":return d.stop()}}))}}}var vp=me.createElement;function xp(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}var yp=Object(xd.a)(["TOGGLE_COMMAND_BAR"]),wp=yp.receiver,kp=yp.useReceiver;function jp(e){var t=e.wid,n=Object(Ot.a)().container,r=Object(De.e)(),a=Object(dt.hc)().data,i=me.useState(null),o=Object(G.a)(i,2),s=o[0],l=o[1],c=me.useState(null),u=Object(G.a)(c,2),d=u[0],p=u[1],f=(null===a||void 0===a?void 0:a.currentUser)?{find:lp({container:n,onSelect:function(e){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"find"}),r({wid:t,type:"OPEN_FILE",path:e}),l(null)}}),search:hp({container:n,onSelect:function(e,n,a){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"search"}),r({wid:t,type:"OPEN_DEEP_LINK",path:e,line:n,col:a}),l(null)}})}:{},m={type:"command",description:"Type a command...",commands:"undefined"!==typeof(null===a||void 0===a?void 0:a.currentUser)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xp(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):xp(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({},f,{multiplayer:{type:"command",icon:vp(gt.a,null),description:"Open multiplayer mode",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"multiplayer"}),r({type:"OPEN_MULTIPLAYER_MODAL",wid:t}),l(null)}},run:{type:"command",icon:vp(rr.a,null),description:"Run repl",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"run"}),r({wid:t,type:"RUN_REPL"}),l(null)}},shell:{type:"command",icon:vp(qd.a,null),description:"Open shell",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"shell"}),r({wid:t,type:"OPEN_SHELL"}),l(null)}},settings:{type:"command",icon:vp(Yd.a,null),description:"Manage editor settings",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:","},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"settings"}),r({type:"OPEN_SIDEPANE_BY_TYPE",paneType:"preferences",wid:t}),l(null)}},"version-control":{type:"command",icon:vp($d.a,null),description:"Open version control sidebar",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"G"},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"version control"}),r({type:"OPEN_SIDEPANE_BY_TYPE",paneType:"git",wid:t}),l(null)}}}):void 0};return me.useEffect((function(){var e=function(e){if(Object(tl.a)(e),!e.altKey&&!e.shiftKey&&Object(Ws.b)(e)&&(Ws.c?"k"===e.key.toLowerCase():"."===e.key.toLowerCase()))return e.preventDefault(),void l("");if(m.commands){var t=Kd()(m.commands),n=!0,r=!1,a=void 0;try{for(var i,o=Ur()(t);!(n=(i=o.next()).done);n=!0){var s=Object(G.a)(i.value,2),c=s[0],u=s[1],d=u.keyboardShortcut;if(d&&(d.cmdOrCtrlKey===Boolean(Object(Ws.b)(e))&&d.altKey===Boolean(e.altKey)&&d.shiftKey===Boolean(e.shiftKey)&&d.key.toLowerCase()===e.key.toLowerCase()))return e.preventDefault(),!u.run||u.run.length>0?void l(c+" "):void u.run()}}catch(p){r=!0,a=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[m,l]),me.useEffect((function(){s&&Object(Xe.track)(Xe.events.COMMAND_BAR_OPENED,{initialValue:s})}),[s]),kp((function(e){switch(e.action.type){case"TOGGLE_COMMAND_BAR":l(null===s?"":null)}})),vp(hr.a,{disableAppearance:!0,isOpen:null!==s,onRequestClose:function(){return l(null)}},vp("div",{className:oe.a.dynamic([["3566060265",[Te.BREAKPOINTS.mobileMax]]])},vp(Qd.a,{autoFocus:!0,renderOutput:p,command:m,value:s||""}),d?vp("div",{className:oe.a.dynamic([["3566060265",[Te.BREAKPOINTS.mobileMax]]])+" output"},d):null,vp(oe.a,{id:"3566060265",dynamic:[Te.BREAKPOINTS.mobileMax]},["div.__jsx-style-dynamic-selector{color:var(--color-foreground-1);width:100vw;max-width:550px;margin:var(--padding-size-large) auto 0;}","@media screen and (min-width:".concat(Te.BREAKPOINTS.mobileMax,"px){div.__jsx-style-dynamic-selector{margin-top:20vh;}}")])))}var Op=ge.a.createElement,Ep=Te.ICON_SIZE_MAP.medium,_p=function(e){var t=Op(Zd.a,null);if(e in np.a){var n=np.a[e];t=Op(Hn.LanguageIcon,{language:e,fill:n})}return Op("div",{className:"jsx-11055842 language-icon"},t,Op(oe.a,{id:"11055842"},[".language-icon.jsx-11055842{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:".concat(Ep,"px;width:").concat(Ep,"px;}"),".language-icon.jsx-11055842 svg{width:100% !important;height:auto !important;}"]))},Np=ge.a.createElement;function Sp(e){var t,n,r,a,i,o,s=arguments;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!e.closed){l.next=2;break}return l.abrupt("return",{error:"channel closed",output:""});case 2:for(t="",n="",r=function(e){e.output&&(t+=e.output),e.error&&(n+=e.error)},e.on("command",r),a=s.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=s[o];return l.next=9,Y.a.awrap(e.request({exec:{args:i}}));case 9:return e.off("command",r),l.abrupt("return",{error:n,output:t});case 11:case"end":return l.stop()}}))}function Cp(e){var t,n,r,a,i,o,s,l,c,u;return Y.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.requestExecChannel,n=e.language,d.next=3,Y.a.awrap(t());case 3:return r=d.sent,a=[".git",".upm",".cache","__pycache__","node_modules"],d.next=7,Y.a.awrap(Sp.apply(void 0,[r,"ag","-g *","--hidden"].concat(Object(fi.a)(a.map((function(e){return"--ignore=".concat(e)}))))));case 7:if(i=d.sent,o=i.error,s=i.output,l=window.performance.now(),Object(Xe.track)(Xe.events.COMMAND_BAR_FIND_FILE,{duration:window.performance.now()-l,failed:Boolean(o)&&"exit status 1"!==o}),n){d.next=14;break}throw new Error("Expected language");case 14:if(c=function(e){return!!e&&(!tp()(e)&&!Re.a.isLangFileBinary(n,e))},o||!s){d.next=17;break}return d.abrupt("return",{error:null,files:s.split("\n").filter(c)});case 17:if(!o||!o.includes("not found")){d.next=24;break}return d.next=20,Y.a.awrap(Sp(r,"find",".","-type","f","-print0"));case 20:if(u=d.sent,Object(Xe.track)(Xe.events.AG_NOT_AVAILABLE,{language:n}),!u.output){d.next=24;break}return d.abrupt("return",{error:null,files:u.output.slice(2,-1).split("\0./").filter(c)});case 24:return"exit status 1"!==o&&We.c(new Error("Find file command failed with error: ".concat(o))),d.abrupt("return",{error:o,files:null});case 26:case"end":return d.stop()}}))}function Pp(e){var t=e.requestExecChannel,n=e.language,r=e.onSelect,a=null;return{type:"command",icon:Np(Zd.a,null),description:"Find a file",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"},options:function(e){var i,o,s;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(i=null===e||void 0===e?void 0:e.toLowerCase(),a){l.next=8;break}return l.next=4,Y.a.awrap(Cp({requestExecChannel:t,language:n}));case 4:if(!(o=l.sent).error){l.next=7;break}return l.abrupt("return",[]);case 7:a=o.files;case 8:if(a){l.next=10;break}throw new Error("Expected files");case 10:return s=i?Tr.a.filter(i,a).map((function(e){return e.string})):a,l.abrupt("return",s.map((function(e){var t=_p(Object(Zi.a)(e));return{type:"option",value:e,icon:t,run:function(){r(e)}}})));case 12:case"end":return l.stop()}}))}}}var Ip=ge.a.createElement,Ap=100,Rp=150;function Tp(e){var t,n,r,a,i,o,s,l,c,u,d,p,f,m,g,b,h,v,x,y,w,k,j,O;return Y.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return t=e.query,n=e.requestExecChannel,r=window.performance.now(),E.next=4,Y.a.awrap(n());case 4:if(!(a=E.sent).closed){E.next=7;break}return E.abrupt("return",{error:"channel closed",results:null});case 7:return i="",o="",s=function(e){e.output&&(i+=e.output),e.error&&(o+=e.error)},a.on("command",s),E.next=13,Y.a.awrap(a.request({exec:{args:["ag","--context=0","--workers=1","--width=".concat(Rp),"--literal","--ackmate","--pager","head -".concat(3*Ap),"--",t]}}));case 13:if(a.off("command",s),Object(Xe.track)(Xe.events.COMMAND_BAR_SEARCH,{duration:window.performance.now()-r,failed:Boolean(o)&&"exit status 1"!==o}),!o){E.next=18;break}return"exit status 1"!==o&&We.c(new Error("Search command failed with error: ".concat(o))),E.abrupt("return",{error:o,results:null});case 18:if(i){E.next=20;break}return E.abrupt("return",{error:null,results:{}});case 20:l=i.split("\n"),c={},u="",d=0,p=!0,f=!1,m=void 0,E.prev=27,g=Ur()(l);case 29:if(p=(b=g.next()).done){E.next=51;break}if(h=b.value){E.next=33;break}return E.abrupt("continue",48);case 33:if(!h.startsWith(":")){E.next=37;break}return u=h.slice(1),c[u]=[],E.abrupt("continue",48);case 37:if(!(d>=Ap)){E.next=39;break}return E.abrupt("break",51);case 39:v=h.indexOf(";"),x=up()(h.slice(0,v),10),y=h.slice(v+1),w=y.indexOf(":"),k=y.slice(0,w).split(","),j=k.map((function(e){var t=e.split(" "),n=Object(G.a)(t,2),r=n[0],a=n[1];return{column:up()(r,10),length:up()(a,10)}})),O=y.slice(w+1),d++,c[u].push({content:O,lineNumber:x,matches:j});case 48:p=!0,E.next=29;break;case 51:E.next=57;break;case 53:E.prev=53,E.t0=E.catch(27),f=!0,m=E.t0;case 57:E.prev=57,E.prev=58,p||null==g.return||g.return();case 60:if(E.prev=60,!f){E.next=63;break}throw m;case 63:return E.finish(60);case 64:return E.finish(57);case 65:return E.abrupt("return",{error:null,results:c});case 66:case"end":return E.stop()}}),null,null,[[27,53,57,65],[58,,60,64]])}function Mp(e){var t,n=e.requestExecChannel,r=e.onSelect;return{type:"command",icon:Ip(pp.a,null),description:"Search through your files",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"},options:function(e){var a,i,o,s,l,c,u;return Y.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(e){d.next=2;break}return d.abrupt("return",[]);case 2:return a=Math.random(),t=a,d.next=6,Y.a.awrap(Tp({query:e,requestExecChannel:n}));case 6:if(i=d.sent,o=i.results,i.error,a===t){d.next=11;break}return d.abrupt("return",[]);case 11:if(o){d.next=14;break}return d.abrupt("return",[]);case 14:for(s=[],l=function(){var e=Object(G.a)(u[c],2),t=e[0],n=e[1],a=_p(Object(Zi.a)(t)),i=n.map((function(e){return{icon:a,value:e.content,description:"".concat(t,":").concat(e.lineNumber),matches:e.matches,type:"option",run:function(){r(t,e.lineNumber,e.matches[0].column)}}}));s.push.apply(s,Object(fi.a)(i))},c=0,u=Kd()(o);c<u.length;c++)l();return d.abrupt("return",s);case 18:case"end":return d.stop()}}))}}}var Lp=me.createElement;function Dp(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}var zp=me.createContext(null),Fp=function(e){var t=e.ws,n=e.children,r=me.useState(null),a=Object(G.a)(r,2),i=a[0],o=a[1];return me.useEffect((function(){return t.register("channelrequestprovider",{reciever:Object(eu.a)((function(e,t,n,r){return"CHANNEL_REQUESTER_INIT"!==n.type?null:function(t){o((function(n){return function(n){return t(Object(tu.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dp(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Dp(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({wid:e,wait:r},n)))}}))}}))}),t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"channelrequestprovider",pluginType:"channelrequestprovider"}),t.store.dispatch({type:"CHANNEL_REQUESTER_INIT"}),function(){o(null)}}),[t]),Lp(zp.Provider,{value:i},n)};var Up=me.createElement,Hp=Object(xd.a)(["TOGGLE_COMMAND_BAR","REPL_UPDATED"]),Bp=Hp.receiver,Vp=Hp.useReceiver;function Kp(e){var t=e.wid,n=Object(De.e)(),r=me.useState(null),a=Object(G.a)(r,2),i=a[0],o=a[1],s=me.useState(null),l=Object(G.a)(s,2),c=l[0],u=l[1],d=me.useState(""),p=Object(G.a)(d,2),f=p[0],m=p[1],g=me.useContext(zp),b={type:"command",description:"Type a command...",commands:{find:Pp({requestExecChannel:function(){if(!g)throw new Error("Expected requestChannel to be truthy");return g({service:"exec"})},language:f,onSelect:function(e){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"find"}),n({wid:t,type:"OPEN_FILE",path:e}),o(null)}}),search:Mp({requestExecChannel:function(){if(!g)throw new Error("Expected requestChannel to be truthy");return g({service:"exec"})},onSelect:function(e,r,a){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"search"}),n({wid:t,type:"OPEN_DEEP_LINK",path:e,line:r,col:a}),o(null)}}),multiplayer:{type:"command",icon:Up(gt.a,null),description:"Open multiplayer mode",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"multiplayer"}),n({type:"OPEN_MULTIPLAYER_MODAL",wid:t}),o(null)}},run:{type:"command",icon:Up(rr.a,null),description:"Run repl",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"run"}),n({wid:t,type:"RUN_REPL"}),o(null)}},shell:{type:"command",icon:Up(qd.a,null),description:"Open shell",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"shell"}),n({wid:t,type:"OPEN_SHELL"}),o(null)}},settings:{type:"command",icon:Up(Yd.a,null),description:"Manage editor settings",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:","},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"settings"}),n({type:"OPEN_SIDEPANE_BY_TYPE",paneType:"preferences",wid:t}),o(null)}},"version-control":{type:"command",icon:Up($d.a,null),description:"Open version control sidebar",keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"G"},run:function(){Object(Xe.track)(Xe.events.COMMAND_BAR_COMMAND_SELECTED,{command:"version control"}),n({type:"OPEN_SIDEPANE_BY_TYPE",paneType:"git",wid:t}),o(null)}}}};return me.useEffect((function(){var e=function(e){if(Object(tl.a)(e),!e.altKey&&!e.shiftKey&&Object(Ws.b)(e)&&(Ws.c?"k"===e.key.toLowerCase():"."===e.key.toLowerCase()))return e.preventDefault(),void o("");var t=Kd()(b.commands),n=!0,r=!1,a=void 0;try{for(var i,s=Ur()(t);!(n=(i=s.next()).done);n=!0){var l=Object(G.a)(i.value,2),c=l[0],u=l[1],d=u.keyboardShortcut;if(d&&(d.cmdOrCtrlKey===Boolean(Object(Ws.b)(e))&&d.altKey===Boolean(e.altKey)&&d.shiftKey===Boolean(e.shiftKey)&&d.key.toLowerCase()===e.key.toLowerCase()))return e.preventDefault(),!u.run||u.run.length>0?void o(c+" "):void u.run()}}catch(p){r=!0,a=p}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[b,o]),me.useEffect((function(){i&&Object(Xe.track)(Xe.events.COMMAND_BAR_OPENED,{initialValue:i})}),[i]),Vp((function(e){var t=e.action;switch(t.type){case"TOGGLE_COMMAND_BAR":o(null===i?"":null);break;case"REPL_UPDATED":if(!t.updates.language)break;m(t.updates.language)}})),Up(hr.a,{disableAppearance:!0,isOpen:null!==i,onRequestClose:function(){return o(null)}},Up("div",{className:oe.a.dynamic([["3566060265",[Te.BREAKPOINTS.mobileMax]]])},Up(Qd.a,{autoFocus:!0,renderOutput:u,command:b,value:i||""}),c?Up("div",{className:oe.a.dynamic([["3566060265",[Te.BREAKPOINTS.mobileMax]]])+" output"},c):null,Up(oe.a,{id:"3566060265",dynamic:[Te.BREAKPOINTS.mobileMax]},["div.__jsx-style-dynamic-selector{color:var(--color-foreground-1);width:100vw;max-width:550px;margin:var(--padding-size-large) auto 0;}","@media screen and (min-width:".concat(Te.BREAKPOINTS.mobileMax,"px){div.__jsx-style-dynamic-selector{margin-top:20vh;}}")])))}var Gp=n("sEfC"),qp=n.n(Gp),Wp=n("xSuc"),Yp=function(e){var t={},n=!0,r=!1,a=void 0;try{for(var i,o=Ur()(e.messages);!(n=(i=o.next()).done);n=!0){var s=i.value;s.user&&(t[s.user.id]=s.user)}}catch(l){r=!0,a=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return te()(t)},Xp=n("FeTO"),$p=me.createElement;var Qp=function(e){var t=e.annote,n=e.onClick,r=Object(Xp.a)(t),a=Yp(t).filter((function(e){return!t.user||e.id!==t.user.id}));return $p("div",{onClick:n,className:"jsx-2422132527 annotation-preview"},$p("div",{className:"jsx-2422132527 user-stack"},[t.user].concat(Object(fi.a)(a)).slice(0,3).map((function(e){return e&&$p(Ne.a,{url:e.image,key:e.id,size:"xs",style:{minWidth:"16px",minHeight:"16px",height:"16px",width:"16px"}})}))),t.messages.length>0&&$p("div",{className:"jsx-2422132527 comment-info"},$p("div",{className:"jsx-2422132527 comment-count"},t.messages.length),$p(Wp.a,{unreadDot:!r})),$p(oe.a,{id:"2422132527"},[".annotation-preview.jsx-2422132527{position:absolute;padding:4px;border-radius:var(--border-radius-1);background-color:var(--color-background-1);color:var(--color-foreground-1);display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-1);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border:0.5px solid var(--color-control-3);-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);-webkit-transition:width 0.2s,background-color 0.2s,-webkit-transform 0.1s;-webkit-transition:width 0.2s,background-color 0.2s,transform 0.1s;transition:width 0.2s,background-color 0.2s,transform 0.1s;z-index:1;}",".annotation-preview.jsx-2422132527:hover{-webkit-transform:translateX(-100%) scale(1.1);-ms-transform:translateX(-100%) scale(1.1);transform:translateX(-100%) scale(1.1);}",".user-stack.jsx-2422132527{display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-half);}",".comment-info.jsx-2422132527{display:grid;grid-auto-flow:column;grid-gap:var(--spacing-half);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".comment-count.jsx-2422132527{font-weight:var(--font-weight-medium);font-size:0.8em;}"]))},Jp=n("G3rN"),Zp=n.n(Jp),ef=n("Lv/3"),tf=n.n(ef),nf=n("GLdP"),rf=n.n(nf),af=n("DqZZ"),of=me.createElement,sf=function(e){var t=tf()(),n=new Date(e),r=new Date;return rf()(r,n)<60?"now":t.ago(n)};function lf(e){var t=e.message,n=e.messageStyle,r=t.user,a=t.text,i=me.useMemo((function(){return Object(Pl.b)(a,{})}),[a]);return r?of("div",{className:"jsx-1040661729 "+(ct()("message-container",n,"user-".concat(r.id))||"")},of("div",{className:"jsx-1040661729 message-info"},of("div",{className:"jsx-1040661729 avatar"},of(Ne.a,{url:r.image,size:"xs",style:{minHeight:"15px",minWidth:"15px",height:"15px",width:"15px"}})),of("div",{className:"jsx-1040661729 username"},r.username),of("div",{className:"jsx-1040661729 time"},sf(t.timeCreated))),of("div",{className:"jsx-1040661729 message"},of(Pl.a,{message:i})),of(oe.a,{id:"1040661729"},[".message-container.jsx-1040661729{background-color:var(--color-backgrond-1);color:var(--color-foreground-1);display:grid;position:relative;grid-template-rows:auto auto;grid-row-gap:var(--spacing-1);}",".message-info.jsx-1040661729{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:var(--font-size-desktop-text-xsmall);}",".avatar.jsx-1040661729{margin-right:5px;}",".username.jsx-1040661729{color:var(--color-foreground-2);font-weight:var(--font-weight-medium);margin-right:3px;}",".time.jsx-1040661729{color:var(--color-foreground-3);}",".message.jsx-1040661729{background:var(--color-control-2);padding:var(--spacing-half) var(--spacing-1);border-radius:var(--border-radius-3);font-size:var(--font-size-desktop-text-small);overflow-wrap:break-word;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:calc(225px - 2 * var(--spacing-2));white-space:pre-wrap;}",".userhighlight.jsx-1040661729 .message.jsx-1040661729{background:transparent;}"])):null}var cf=function(e){var t=e.annote,n=e.currentUserId,r=e.onFinalizeMessage,a=void 0===r?function(){}:r,i=e.onChangeMessage,o=void 0===i?function(){}:i,s=e.onResolve,l=void 0===s?function(){}:s,c=e.onRequestClose,u=void 0===c?function(){}:c,d=e.style,p=e.width,f=t.messages,m=me.useState(""),g=Object(G.a)(m,2),b=g[0],h=g[1],v=me.useRef(null),x=me.useRef(null),y=fa({accept:[Li.a.FileNode,Li.a.FileHeaderTab],collect:function(e){var t,n=null===(t=e.getItem())||void 0===t?void 0:t.isFolder;return{isOver:e.isOver({shallow:!0})&&!n}},canDrop:function(e){return!e.isFolder},drop:function(e){e&&!e.isFolder&&a("#".concat(e.path))}}),w=Object(G.a)(y,2),k=w[0],j=w[1];Object(af.a)(v);var O=Object(qs.a)((function(e){var t=e.target;t.closest(".node-row")||t.closest(".file-header-tab")||u()}),[]);me.useEffect((function(){v.current&&v.current.focus()}),[v]),me.useEffect((function(){function e(e){"Escape"===e.key&&u()}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[u]),me.useEffect((function(){Object(Xp.b)(t)}),[t]),me.useEffect((function(){x.current&&(x.current.scrollTop=x.current.scrollHeight)}),[f]);var E=me.useMemo((function(){return f.sort((function(e,t){return new Date(e.timeCreated).getTime()-new Date(t.timeCreated).getTime()}))}),[f]);function _(){""!==b.trim()&&(a(b.trim()),h(""))}var N=Yp(t).filter((function(e){return e.id!==n})),S="Add a comment";return 1===N.length?S="Reply to @".concat(N[0].username):N.length>1&&(S="Reply"),of("div",{style:d,ref:function(e){j(e),O.current=e},className:oe.a.dynamic([["3776179778",[p]]])+" "+(ct()("annotation-group",{"is-over":k.isOver})||"")},E.length>0&&of("div",{ref:x,className:oe.a.dynamic([["3776179778",[p]]])+" message-group"},E.map((function(e){return of(lf,{message:e,key:e.id})}))),of("div",{className:oe.a.dynamic([["3776179778",[p]]])+" input-group"},of("textarea",{placeholder:S,value:b,onChange:function(e){var t=e.target.value;h(t),o(t)},onKeyPress:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),_())},rows:1,ref:v,className:oe.a.dynamic([["3776179778",[p]]])+" "+(ct()("inputbox",{hasContent:b.length>0})||"")}),of("button",{onClick:_,className:oe.a.dynamic([["3776179778",[p]]])+" "+(ct()("send-button",{isValid:b.length>0})||"")},of(rr.a,{filled:!0,size:"small"}))),of("div",{className:oe.a.dynamic([["3776179778",[p]]])+" floating-group"},of("a",{href:"https://replit.canny.io/feedback/p/teams-beta-feedback",target:"_blank",className:oe.a.dynamic([["3776179778",[p]]])+" feedback show-on-hover"},of(Sa.Button,{size:"small",textColor:"var(--color-foreground-2)"},"Have feedback?")),of("div",{className:oe.a.dynamic([["3776179778",[p]]])+" delete show-on-hover"},of("button",{"aria-label":"Delete","data-microtip-position":"top",role:"tooltip",onClick:function(e){window.confirm("Are you sure you want to delete this annotation?")&&l(e)},className:oe.a.dynamic([["3776179778",[p]]])+" floating-button delete"},of(Zp.a,null))),of("div",{className:oe.a.dynamic([["3776179778",[p]]])+" close"},of("button",{"aria-label":"Close","data-microtip-position":"top",role:"tooltip",onClick:u,className:oe.a.dynamic([["3776179778",[p]]])+" floating-button close"},of(_r.a,null)))),of(oe.a,{id:"3776179778",dynamic:[p]},[".annotation-group.__jsx-style-dynamic-selector{position:absolute;z-index:10;position:relative;display:grid;grid-row-gap:var(--spacing-2);-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;background-color:var(--color-background-1);padding:var(--spacing-1);border-radius:var(--border-radius-1);width:".concat(p,"px;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);border:0.5px solid var(--color-control-3);}"),".annotation-group.is-over.__jsx-style-dynamic-selector{background-color:var(--color-background-2);}",".annotation-group.__jsx-style-dynamic-selector *.__jsx-style-dynamic-selector{-webkit-transition:all 0.2s;transition:all 0.2s;}",".message-group.__jsx-style-dynamic-selector{display:grid;grid-row-gap:var(--spacing-2);max-height:275px;overflow-y:auto;overflow-y:overlay;padding:var(--spacing-1);padding-bottom:0;}",".__jsx-style-dynamic-selector::-webkit-scrollbar{background-color:transparent;width:4px;}",".__jsx-style-dynamic-selector::-webkit-scrollbar-track{background-color:transparent;}",".__jsx-style-dynamic-selector::-webkit-scrollbar-thumb{background-color:var(--color-control-2);}",".input-group.__jsx-style-dynamic-selector{display:grid;grid-template-columns:1fr min-content;grid-gap:10px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;}",".inputbox.__jsx-style-dynamic-selector{background:var(--color-control-3);color:var(--color-foreground-1);border:none;border-radius:var(--border-radius-3);padding:var(--spacing-1);outline:none;resize:none;font-family:'IBM Plex Sans',sans-serif;font-size:var(--font-size-desktop-text-small);line-height:16px;overflow-y:auto;max-height:calc(var(--font-size-desktop-text-small) * 18);}",".inputbox.hasContent.__jsx-style-dynamic-selector{border-radius:6px;}",".send-button.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:24px;height:24px;background:var(--color-control-1);color:var(--color-foreground-3);border:none;border-radius:50%;}",".send-button.__jsx-style-dynamic-selector:focus{outline:none;}",".send-button.isValid.__jsx-style-dynamic-selector{background:var(--color-primary-1);color:var(--color-white);cursor:pointer;}",".send-button.isValid.__jsx-style-dynamic-selector:hover{background:var(--color-primary-2);}",".send-button.isValid.__jsx-style-dynamic-selector:active{background:var(--color-primary-3);}",".floating-group.__jsx-style-dynamic-selector{position:absolute;display:grid;grid-auto-flow:column;-webkit-box-pack:end;-webkit-justify-content:end;-ms-flex-pack:end;justify-content:end;grid-column-gap:8px;top:-32px;left:0;right:0;}",".floating-group.__jsx-style-dynamic-selector .show-on-hover.__jsx-style-dynamic-selector{opacity:0;}",".annotation-group.__jsx-style-dynamic-selector:hover>.floating-group.__jsx-style-dynamic-selector .show-on-hover.__jsx-style-dynamic-selector{opacity:1;}",".feedback.__jsx-style-dynamic-selector{position:absolute;-webkit-text-decoration:none;text-decoration:none;}",".floating-button.__jsx-style-dynamic-selector{width:24px;height:24px;border-radius:50%;background:var(--color-control-3);color:var(--color-foreground-2);border:1px solid var(--color-control-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);}",".floating-button.__jsx-style-dynamic-selector:focus{outline:none;}",".floating-button.__jsx-style-dynamic-selector:hover{color:var(--color-foreground-1);background:var(--color-control-2);}",".floating-button.delete.__jsx-style-dynamic-selector:hover{color:var(--color-white);background:var(--color-negative-1);border-color:var(--color-negative-2);}",".floating-button.__jsx-style-dynamic-selector:active{background:var(--color-control-1);}"]))},uf=me.createElement,df=3e3;function pf(e){var t=e.annote,n=me.useState(null),r=Object(G.a)(n,2),a=r[0],i=r[1];me.useEffect((function(){var e=t.messages[t.messages.length-1];if(e&&!e.currentUserIsAuthor){var n=new Date(e.timeCreated).getTime();if(!(So()()-n>5e3)){i(e);var r=setTimeout((function(){i(null)}),df);return function(){return clearTimeout(r)}}i(null)}else i(null)}),[t]);var o=me.useMemo((function(){return a?Object(Pl.b)(a.text,{}):null}),[a]);return a&&o?uf("div",{className:"jsx-1289033568 annotation-message-popup"},a.user&&uf(Ne.a,{url:a.user.image,key:a.user.id,size:"xs",style:{minWidth:"16px",minHeight:"16px",height:"16px",width:"16px"}}),uf("div",{className:"jsx-1289033568 annotation-message-popup-text"},uf(Pl.a,{message:o})),uf(oe.a,{id:"1289033568"},[".annotation-message-popup.jsx-1289033568{position:absolute;background-color:var(--color-background-1);padding:4px;border-radius:var(--border-radius-1);border:0.5px solid var(--color-control-3);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);display:grid;grid-auto-flow:column;grid-column-gap:var(--spacing-1);grid-template-columns:min-content max-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;-webkit-transform:translateX(5px);-ms-transform:translateX(5px);transform:translateX(5px);}",".annotation-message-popup-text.jsx-1289033568{font-family:IBM Plex Sans;font-style:normal;font-weight:normal;font-size:0.8em;color:var(--color-foreground-1);}"])):null}var ff=n("+/dU"),mf=n("cHV+");function gf(e,t){var n,r,a,i,o,s,l,c;return Y.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(e.path&&"number"===typeof e.indexStart&&"number"===typeof e.indexEnd&&e.otVersion){u.next=2;break}return u.abrupt("return");case 2:if(n=t[e.path]){u.next=5;break}return u.abrupt("return");case 5:if(n.version!==e.otVersion){u.next=7;break}return u.abrupt("return",{indexStart:e.indexStart,indexEnd:e.indexEnd,otVersion:e.otVersion});case 7:return r=n.version,u.next=10,Y.a.awrap(n.fetchOps(e.otVersion+1,r));case 10:return a=u.sent,i=a.reduce((function(e,t){return mf.type.compose(e,t.ops)}),[]),o=mf.type.transformSelection([e.indexStart,e.indexEnd],i),s=Object(G.a)(o,2),l=s[0],c=s[1],u.abrupt("return",{indexStart:l,indexEnd:c,otVersion:r});case 14:case"end":return u.stop()}}))}function bf(e){return eo.a.get(e)}function hf(e){return eo.a.get(e)}var vf=me.createElement;function xf(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}var yf=Object(xd.a)(["CREATE_ANNOTATION","REGISTER_MONACO_EDITOR_HANDLE","REGISTER_MODEL_HANDLE"]),wf=yf.receiver,kf=yf.useReceiver;var jf=225;function Of(e){var t=e.wid,n=e.pud,r=me.useState(),a=Object(G.a)(r,2),i=a[0],o=a[1],s=me.useState({}),l=Object(G.a)(s,2),c=l[0],u=l[1],d=Object(rt.b)(t,n,"annotations"),p=Object(G.a)(d,1)[0],f=p.repl,m=p.currentFile,g=Object(rt.b)(t,"fs","containerfs3"),b=Object(G.a)(g,1)[0].otClients,h=me.useState(null),v=Object(G.a)(h,2),x=v[0],y=v[1],w=function(e){var t,n=Object(dt.O)({variables:{replId:e}}).data;if("Repl"!==(null===n||void 0===n?void 0:n.repl.__typename))return[];var r=[];(null===(t=n.repl.owner)||void 0===t?void 0:t.username)&&r.push(n.repl.owner.username);var a=!0,i=!1,o=void 0;try{for(var s,l=Ur()(n.repl.permissions);!(a=(s=l.next()).done);a=!0){var c,u=s.value;(null===(c=u.user)||void 0===c?void 0:c.username)&&r.push(u.user.username)}}catch(d){i=!0,o=d}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return r}(f.id),k=Object(dt.N)(),j=me.useState(0),O=Object(G.a)(j,2),E=O[0],_=O[1],N=Object(ff.a)(f.id,{onReceiveAnnotationUpdate:function(e){var t,n,r;if(e.messages){var a=e.messages[e.messages.length-1];a&&(null===(t=a.user)||void 0===t?void 0:t.id)!==(null===(n=k.data)||void 0===n?void 0:null===(r=n.currentUser)||void 0===r?void 0:r.id)&&a.text&&a.user&&(Object(Wl.a)({title:"".concat(a.user.username," made an annotation"),body:a.text,tag:"annotation-".concat(a.id),iconByUsername:a.user.username}),Object(Xe.track)(Xe.events.ANNOTATION_UPDATE_RECEIVED,{messageId:a.id,sender:a.user.id,time:new Date(a.timeCreated).getTime()}))}}}),S=N.annotations,C=N.placeholderAnchorId,P=N.createAnnotationAnchorPlaceholder,I=N.deleteAnnotationAnchorPlaceholder,R=N.createAnnotationMessage,M=N.updateAnnotationAnchor,D=me.useState(!0),F=Object(G.a)(D,2),U=F[0],H=F[1],B=function(e){var t=me.useState(0),n=Object(G.a)(t,2),r=n[0],a=n[1];return me.useEffect((function(){var t=bf(e);if(t){var n=t.onDidScrollChange((function(e){a(e.scrollTop)}));return function(){return n.dispose()}}}),[e]),r}(i),V=function(e){var t=me.useState(0),n=Object(G.a)(t,2),r=n[0],a=n[1];return me.useEffect((function(){var t=bf(e);if(t){var n=t.onDidLayoutChange((function(e){a(e.width)}));return function(){return n.dispose()}}}),[e]),r}(i),K=function(e){var t=me.useState(null),n=Object(G.a)(t,2),r=n[0],a=n[1];return me.useEffect((function(){var t=bf(e);if(t){var n=t.onDidChangeCursorSelection((function(e){var n=e.selection,r=n.startLineNumber,i=n.startColumn,o=n.endLineNumber,s=n.endColumn,l=t.getDomNode().getBoundingClientRect();if(r!==o||i!==s){var c=[t.getTopForLineNumber(r)+l.top,t.getOffsetForColumn(r,i)+l.left];a({top:c[0],left:c[1]})}else a(null)}));return function(){return n.dispose()}}}),[e]),r}(i);me.useEffect((function(){H(!0)}),[K]);var W=function(e,t,n,r,a,i,o){var s=me.useState([]),l=Object(G.a)(s,2),c=l[0],u=l[1],d=function(e,t,n){if(!n||!n.getDomNode())return null;if(!e)return null;var r=t.getPositionAt(e.indexStart),a=n.getDomNode().getBoundingClientRect(),i=n.getTopForPosition(r.lineNumber,r.column);return{top:a.top+i,left:a.left+a.width}};return me.useEffect((function(){!function(){var i,o,s,l,c,p,f,m,g,b,h,v,x;Y.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if((null===a||void 0===a?void 0:a.path)&&t){y.next=2;break}return y.abrupt("return");case 2:if(i=bf(t),o=hf(n[a.path]),i&&o){y.next=6;break}return y.abrupt("return");case 6:s=e.filter((function(e){return e.path===a.path})),l=[],c=!0,p=!1,f=void 0,y.prev=11,m=Ur()(s);case 13:if(c=(g=m.next()).done){y.next=31;break}if((b=g.value).path===a.path){y.next=17;break}return y.abrupt("continue",28);case 17:if(h={annotation:b},b.isResolved){y.next=27;break}return y.next=21,Y.a.awrap(gf(b,r));case 21:if(v=y.sent){y.next=24;break}return y.abrupt("continue",28);case 24:(x=d(v,o,i))&&(h.position=x),h.selection=v;case 27:l.push(h);case 28:c=!0,y.next=13;break;case 31:y.next=37;break;case 33:y.prev=33,y.t0=y.catch(11),p=!0,f=y.t0;case 37:y.prev=37,y.prev=38,c||null==m.return||m.return();case 40:if(y.prev=40,!p){y.next=43;break}throw f;case 43:return y.finish(40);case 44:return y.finish(37);case 45:u(l);case 46:case"end":return y.stop()}}),null,null,[[11,33,37,45],[38,,40,44]])}()}),[e,r,a,t,n,i,o]),c}(S,i,c,b,m,V,E),X=function(e,t){var n=[t.getPositionAt(e.indexStart),t.getPositionAt(e.indexEnd)],r=n[0],a=n[1];return{range:window.monaco.Range.fromPositions(r,a),options:{className:"selection-replit",stickiness:window.monaco.editor.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}}},$=function(){var e=bf(i);e&&e.focus()},Q=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,r=t.otVersion,a=t.indexStart,o=t.indexEnd,s=bf(i),l=m.path&&hf(c[m.path]);if(s&&l){var u=s.getSelection(),d={lineNumber:u.startLineNumber,column:u.startColumn},p={lineNumber:u.endLineNumber,column:u.endColumn},g=l.getOffsetAt(d),h=l.getOffsetAt(p),v={id:Pe()(),replId:f.id,path:n||m.path,otVersion:r||(m.path?null===(e=b[m.path])||void 0===e?void 0:e.version:void 0),indexStart:"number"===typeof a?a:g,indexEnd:"number"===typeof o?o:h};P({annotationAnchor:v}),y(v.id),H(!1)}};kf((function(e){var t=e.action;"CREATE_ANNOTATION"===t.type&&Q({path:t.path,otVersion:t.otVersion,indexStart:t.indexStart,indexEnd:t.indexEnd}),"REGISTER_MONACO_EDITOR_HANDLE"===t.type&&o(t.editorHandle),"REGISTER_MODEL_HANDLE"===t.type&&u((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):xf(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({},e,Object(q.a)({},t.filePath,t.modelHandle))}))})),me.useEffect((function(){if(m.path){var e=bf(i),t=hf(c[m.path]);if(e&&t&&t.isAttachedToEditor()){var n=t._replit_annotation_highlights||{},r={};for(var a in n)r[a]=null;var o=!0,s=!1,l=void 0;try{for(var u,d=Ur()(W);!(o=(u=d.next()).done);o=!0){var p=u.value,f=p.annotation,g=p.selection;f.path===m.path&&(r[f.id]=g?X(g,t):null)}}catch(w){s=!0,l=w}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}for(var b=0,h=Kd()(r);b<h.length;b++){var v=Object(G.a)(h[b],2),x=v[0],y=v[1];n[x]=t.deltaDecorations(n[x]||[],y?[y]:[])}t._replit_annotation_highlights=n}}}),[W,i,c,m.path]);var J=function(e){if(m.path){var t=bf(i),n=hf(c[m.path]);if(t&&n){var r=n.getLinesContent().join("\n"),a=W.find((function(t){return t.annotation.id===e.id}));if(null===a||void 0===a?void 0:a.selection){var o=a.selection,s=o.indexStart,l=o.indexEnd,u=n.getPositionAt(s),d=n.getPositionAt(l),p=n.getOffsetAt({lineNumber:Math.max(u.lineNumber-1,1),column:1}),f=n.getOffsetAt({lineNumber:Math.max(d.lineNumber+2,1),column:1})-1;return{precode:r.slice(p,s),code:r.slice(s,l),postcode:r.slice(l,f)}}}}};if(me.useEffect((function(){if(i){var e=bf(i);if(e){var t=qp()((function(){if(m.path){var e=hf(c[m.path]);e&&e.isAttachedToEditor()&&_(e.getLinesContent().length)}}),750),n=e.onDidChangeModelContent(t);return function(){n.dispose()}}}}),[i,m,c]),window)return vf("div",{className:"jsx-1211829181 annotations-container"},W.map((function(e){var t=e.annotation,n=e.position;if(n){var r,a,i=n.top-B;if(!(i<0))return t.id===x?vf(cf,{annote:t,currentUserId:null===(r=k.data)||void 0===r?void 0:null===(a=r.currentUser)||void 0===a?void 0:a.id,onFinalizeMessage:function(e){return function(e){var t=e.anchor,n=e.msg,r=Object(Pl.b)(n,{users:[].concat(Object(fi.a)(w),["everyone"])});R({anchor:t,annotationMessage:{id:Pe()(),text:n,mentions:r.mentions},highlight:J(t)})}({anchor:t,msg:e})},onResolve:function(){!function(e){if(C===e.id)I();else{M({annotationAnchor:e,changes:{isResolved:!0}})}}(t),$()},onRequestClose:function(){y(null),I(),$()},key:t.id,width:jf,style:{top:"".concat(i,"px"),left:"min(".concat(n.left,"px, calc(").concat(window.innerWidth,"px - ").concat(jf,"px))"),transform:"translateX(-56px)"}}):vf("div",{style:{top:"".concat(i,"px"),left:"".concat(n.left,"px")},key:t.id,className:"jsx-1211829181 annotation-preview-container"},vf(Qp,{annote:t,onClick:function(){return y(t.id)}}),vf(pf,{annote:t}))}})),vf("div",{style:{left:K&&U?K.left:void 0,top:K&&U?K.top-B:void 0,visibility:K&&U?"visible":"hidden",opacity:K&&U?1:0},onClick:function(){return Q()},className:"jsx-1211829181 new-annotation-button"},vf(Wp.a,null),"Annotate"),vf(oe.a,{id:"1211829181"},[".annotations-container.jsx-1211829181{z-index:10;position:absolute;height:0;width:0;}",".new-annotation-button.jsx-1211829181{position:absolute;-webkit-transform:translateY(calc(-100% - 8px)) translateX(56px);-ms-transform:translateY(calc(-100% - 8px)) translateX(56px);transform:translateY(calc(-100% - 8px)) translateX(56px);border-radius:var(--border-radius-1);background-color:var(--color-background-1);color:var(--color-foreground-1);cursor:pointer;border:0.5px solid var(--color-control-3);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);-webkit-transition:width 0.2s,background-color 0.2s,-webkit-transform 0.1s;-webkit-transition:width 0.2s,background-color 0.2s,transform 0.1s;transition:width 0.2s,background-color 0.2s,transform 0.1s;z-index:1;font-weight:var(--font-weight-medium);font-size:var(--font-size-desktop-text-xsmall);padding:4px 8px;-webkit-transition:opacity 0.3s ease 0.3s;transition:opacity 0.3s ease 0.3s;display:grid;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-auto-flow:column;grid-gap:4px;}",".new-annotation-button.jsx-1211829181:hover{-webkit-transform:translateY(calc(-100% - 8px)) translateX(56px) scale(1.1);-ms-transform:translateY(calc(-100% - 8px)) translateX(56px) scale(1.1);transform:translateY(calc(-100% - 8px)) translateX(56px) scale(1.1);}",".annotation-preview-container.jsx-1211829181{position:absolute;}"]))}var Ef=Object(Ze.a)({repl:Qe.b,files:ai.a,currentFile:Ri.a}),_f=n("IUvJ");function Nf(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sf(e){var t=e.service,n=e.name,r=Object(Ot.a)().container,a=me.useState({isConnecting:!0,channel:null,error:null,context:null}),i=Object(G.a)(a,2),o=i[0],s=i[1];return me.useEffect((function(){return r.openChannel({service:t,name:n},(function(e){return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nf(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):Nf(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({},e,{isConnecting:!1})),function(e){s({isConnecting:e.willReconnect,channel:null,error:null,context:null})}}))}),[r,t,n]),o}var Cf=n("7njZ");var Pf=n("BAqT"),If=me.createElement;function Af(e){return!(0===e.h.px&&0===e.h.pc||0===e.w.px&&0===e.w.pc)}function Rf(e){var t=e.dimensions,n=me.useRef(!1);return me.useEffect((function(){!n.current&&Af(t)&&(n.current=!0)}),[t]),n.current||Af(t)?If(Tf,{dimensions:t}):If("div",null)}var Tf=function(e){var t=e.dimensions,n=function(e){var t=e.autoFocus,n=Sf({service:"shell"}),r=me.useState(null),a=Object(G.a)(r,2),i=a[0],o=a[1],s=me.useState(null),l=Object(G.a)(s,2),c=l[0],u=l[1],d=Object(Cf.a)(),p=me.useState(null),f=Object(G.a)(p,2),m=f[0],g=f[1];return me.useEffect((function(){if(n.channel&&i){var e=i.xterm,t=i.fitAddon,r=i.searchAddon,a=e.onData((function(e){n.channel&&!n.channel.closed&&n.channel.send({input:e})}));n.channel.onCommand((function(t){t.output&&e.write(t.output)}));var o=!1,s=mo()((function(){o||t.fit()}),50);window.addEventListener("resize",s);var l=function(){n.channel&&!n.channel.closed&&n.channel.send({resizeTerm:{cols:e.cols,rows:e.rows}})},c=e.onResize(l);return l(),u({focus:function(){return e.focus()},clear:function(){return e.clear()},fit:function(){return t.fit()},throttledFit:s,findPrevious:function(e){return r.findPrevious(e)},findNext:function(e){return r.findNext(e)}}),function(){o=!0,a.dispose(),c.dispose(),window.removeEventListener("resize",s),u(null)}}}),[n.channel,i]),me.useEffect((function(){if(null!==m){var e=!1,t=function(){};return Object(_f.a)().then((function(n){e?n.xterm.dispose():(n.xterm.open(m),t=function(){return n.xterm.dispose()},o(n))})),function(){d.current&&o(null),e=!0,t()}}}),[m,d]),me.useEffect((function(){t&&c&&c.focus()}),[t,c]),[c,g]}({autoFocus:!0}),r=Object(G.a)(n,2),a=r[0],i=r[1],o=me.useState(!1),s=Object(G.a)(o,2),l=s[0],c=s[1],u=Af(t);me.useEffect((function(){u&&a&&(a.focus(),a.fit())}),[u,a]),me.useEffect((function(){u&&a&&a.throttledFit()}),[u,t,a]);var d=l&&a?If(Pf.b,{findPrevious:a.findPrevious,findNext:a.findNext,exit:function(){return c(!1)}}):If(ys.a,{position:"bottom"},If("div",null,"Find"),If(Pf.a,{onClick:function(){return c(!0)}}));return If("div",{onKeyDown:function(e){"f"===e.key&&Object(Ws.b)(e)&&(c(!0),e.preventDefault())},className:"jsx-2949199032 root"},a?If("div",{className:"jsx-2949199032 terminal-opts"},d,If(ys.a,{position:"bottom"},If("div",{className:"jsx-2949199032"},"Clear"),If("div",{className:"jsx-2949199032 clear-wrap"},If("button",{title:"Clear",key:"clear",role:"button",onClick:a.clear,className:"jsx-2949199032 clear-button"})))):If("code",{className:"jsx-2949199032"},"Loading..."),If("div",{ref:i,className:"jsx-2949199032 xterm-container"}),If(oe.a,{id:"3182893046"},[".xterm{height:100%;}",".xterm .xterm-viewport{overflow-y:auto !important;height:100%;}"]),If(oe.a,{id:"1350460871"},[".root.jsx-2949199032{position:relative;height:100%;padding-left:1em;padding-top:10px;overflow:hidden;background-color:var(--color-brand-dark-blue);border-radius:var(--border-radius-1);}",".xterm-container.jsx-2949199032{height:100%;}","code.jsx-2949199032{color:var(--color-white-50);}",".terminal-opts.jsx-2949199032{position:absolute;top:0.75em;right:1em;z-index:5;height:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","button.jsx-2949199032{background:transparent;border:0;box-shadow;outline:none;height:18px;width:18px;padding:0;margin:0 12px;cursor:pointer;}",".clear-wrap.jsx-2949199032{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".clear-button.jsx-2949199032{background-image:url(/public/images/clear.png);background-size:contain;background-repeat:no-repeat;}",".clear-button.jsx-2949199032:hover{background-image:url(/public/images/clear_hover.png);}"]))},Mf=n("W8YL");var Lf=n("XE6U"),Df=n("jqW5"),zf=n("T61/"),Ff=n("cqQc"),Uf=n("egCV"),Hf=n("7r0u"),Bf=n("nmgF");function Vf(e){var t=Object(Ot.a)(),n=t.container,r=t.presence,a=e.wid,i=Object(_t.a)("flag-multiplayer-services");me.useEffect((function(){if(i)var t=r.onUserJoin((function(r){var a=n.getRepl();if(a){var i=r.username;return Kf(e),function(e){var t,n;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Y.a.awrap(Bf.a.query({query:dt.w,variables:{id:e}}));case 2:return t=r.sent,n=t.data,r.abrupt("return","Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl.title:null);case 5:case"end":return r.stop()}}))}(a.id).then((function(e){e&&Object(Wl.a)({title:"",body:"".concat(i," joined ").concat(e),tag:"".concat(a.id,"-").concat(i,"-joined"),iconByUsername:i,cacheDuration:9e5})})),function(){t()}}Kf(e)}))}),[a,r,n,i,e])}function Kf(e){var t=e.wid,n=e.store,r=n.dispatch,a=(0,n.getState)(),i=a.plugins,o=a.layout,s=B()(i).find((function(e){return e.includes("chat")}));if(s&&!Je.g(o,s)){var l=Je.h(o,s,"inside",["floating"]),c=l.path,u=l.to;r(Object(nt.gb)({wid:t,path:c,to:u,property:null}))}}function Gf(e){var t=e.ws,n=e.replId;return function(e){var t=e.replId,n=Object(Ot.a)().container,r=me.useState(null),a=Object(G.a)(r,2),i=a[0],o=a[1],s=Object(dt.sc)({variables:{id:t}}),l=s.data,c=s.loading;me.useEffect((function(){Ac().then((function(e){o(e||"wss://eval.repl.it")}))}),[o]),me.useEffect((function(){return function(){n.close()}}),[n]),me.useEffect((function(){if(!c&&i&&l&&"Repl"===l.repl.__typename){var e=l.repl,t=l.currentUser;n.client().setDebugFunc((function(t){if("breadcrumb"===t.type){We.a({category:"crosisV6",message:t.message,data:t.data});var n={data:t.data,message:t.message,replId:null===e||void 0===e?void 0:e.id,language:null===e||void 0===e?void 0:e.language,url:null===e||void 0===e?void 0:e.url};switch(t.message){case"connecting":Object(Xe.track)(Xe.events.CROSIS_CONNECTION_ATTEMPTED,n);break;case"error":Object(Xe.track)(Xe.events.CROSIS_ERROR,n);break;case"connect timeout":Object(Xe.track)(Xe.events.CROSIS_CONNECTION_TIMEOUT,n);break;case"retrying":Object(Xe.track)(Xe.events.CROSIS_CONNECTION_RETRYING,n);break;case"reconnecting":Object(Xe.track)(Xe.events.CROSIS_CONNECTION_RECONNECTING,n);break;case"connect failed":Object(Xe.track)(Xe.events.CROSIS_CONNECTION_FAILED,n);break;case"falling back to polling":Object(Xe.track)(Xe.events.CROSIS_CONNECTION_FALLING_BACK_TO_POLLING,n)}}})),n.connect({gurl:i,repl:e,currentUser:t||void 0})}}),[n,i,c,l])}({replId:n}),function(e){var t=Object(Ot.a)().packager,n=Object(_t.a)("flag-packager-service"),r=e.wid,a=e.store.dispatch,i=function(e){a(Object(nt.ab)({wid:r,message:e,type:"",raw:!1}))},o=function(){a(Object(nt.ab)({wid:r,message:"\n\nRepl.it: Package operation failed.\n\n",type:"error",raw:!1}))},s=function(e){if(e)return a({type:"PACKAGER_STARTED",wid:r}),void a(Object(nt.ab)({wid:r,message:"\n\nRepl.it: Updating package configuration\n\n",type:"",raw:!1}));a({type:"PACKAGER_ENDED",wid:r})};me.useEffect((function(){if(n){var e=t.onOutput(i),r=t.onError(o),a=t.onStateChanged(s);return function(){e(),r(),a()}}}),[])}(t),function(e,t){var n=Object(_t.a)("flag-multiplayer-services"),r=e.wid,a=e.store.dispatch,i=Object(dt.rc)({variables:{id:t}}),o=i.data,s=i.loading;me.useEffect((function(){!s&&o&&"Repl"===o.repl.__typename&&n&&o.repl.permissions.length&&(a({type:"REQUEST_NOTIFICATION_PERMS",wid:r}),Kf(e))}),[o,a,n,r,e,s])}(t,n),Vf(t),function(e){var t=me.useRef(""),n=Object(Ot.a)().container,r=e.wid,a=e.store.dispatch,i=Object(_t.a)("flag-remove-cwd-plugin");me.useEffect((function(){if(i)return n.onConnectionStateChanged((function(e){var i,o,s;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e===Yl.a.CONNECTED){l.next=2;break}return l.abrupt("return");case 2:return l.next=4,Y.a.awrap(n.exec("pwd"));case 4:if(i=l.sent,o=i.output){l.next=8;break}return l.abrupt("return");case 8:(s=o.replace("\n",""))!==t.current&&(a({type:"UPDATE_WORKING_DIRECTORY",wid:r,path:s}),t.current=s);case 10:case"end":return l.stop()}}))}))}),[n,a,r,i])}(t),function(e){var t=Object(Ot.a)().presence,n=Object(_t.a)("flag-multiplayer-services");me.useEffect((function(){if(n){var e=!1,r=t.onActiveUsersChange((function(t){e?e=!1:t.forEach((function(e){Object(Hf.injectUserStyle)(e.username,e.color)}))})),a=t.onUserJoin((function(t){e=!0,Object(Hf.injectUserStyle)(t.username,t.color)})),i=t.onUserLeave((function(t){e=!0,Object(Hf.removeUserStyle)(t.username)}));return function(){r(),a(),i()}}}),[e,n,t])}(t.wid),null}var qf=me.createElement;function Wf(e){var t=e.stacked,n=e.lite;return qf("div",{className:oe.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" "+(ct()("root",{stacked:t,lite:n})||"")},qf("div",{className:oe.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" header"}),qf("div",{className:oe.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" sidenav"}),qf("div",{className:oe.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" sidebar"}),qf("div",{className:oe.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" content"},qf("div",{className:oe.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" file"}),qf("div",{className:oe.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" spacer"}),qf("div",{className:oe.a.dynamic([["1838698040",[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]]])+" output"})),qf(oe.a,{id:"1838698040",dynamic:[n?0:"var(--spacing-1)",n?0:"var(--spacing-1)",n?"calc(-1*var(--spacing-1))":0,n?0:"var(--spacing-1)",n?0:"var(--spacing-1)"]},[".root.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;width:100%;height:100%;display:grid;grid-template-areas: 'header header header header' 'sidenav sidebar content content';grid-template-columns: 50px calc(((100vw - 50px) * 0.15 - 3px)) ".concat(n?0:"var(--spacing-1)"," 1fr;grid-gap:var(--spacing-1);grid-template-rows:auto 1fr;background-color:var(--color-background-3);padding-bottom:").concat(n?0:"var(--spacing-1)",";}"),".header.__jsx-style-dynamic-selector{grid-area:header;height:60px;margin-bottom:".concat(n?"calc(-1*var(--spacing-1))":0,";background-color:var(--color-background-1);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.08);border-bottom:0.5px solid var(--color-control-3);}"),".sidenav.__jsx-style-dynamic-selector{width:50px;grid-area:sidenav;background-color:var(--color-background-1);margin-left:".concat(n?0:"var(--spacing-1)",";border-top-left-radius:var(--border-radius-1);border-bottom-left-radius:var(--border-radius-1);}"),".sidebar.__jsx-style-dynamic-selector{grid-area:sidebar;background-color:var(--color-background-1);border-radius:var(--border-radius-1);}",".content.__jsx-style-dynamic-selector{grid-area:content;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-right:".concat(n?0:"var(--spacing-1)",";border-radius:var(--border-radius-1);}"),".file.__jsx-style-dynamic-selector,.output.__jsx-style-dynamic-selector{height:100%;border-radius:var(--border-radius-1);}",".file.__jsx-style-dynamic-selector{background-color:var(--color-background-1);width:calc(50% + var(--spacing-1));}",".output.__jsx-style-dynamic-selector{background-color:var(--color-brand-dark-blue);width:50%;}",".spacer.__jsx-style-dynamic-selector{width:var(--spacing-1);height:var(--spacing-1);}",".lite.__jsx-style-dynamic-selector .sidebar.__jsx-style-dynamic-selector{display:none;}",".lite.__jsx-style-dynamic-selector{grid-template-areas: 'header header' 'sidenav content';grid-template-columns:50px 1fr;grid-template-rows:auto 1fr;}",".lite.__jsx-style-dynamic-selector .header.__jsx-style-dynamic-selector{height:40px;}",".stacked.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".stacked.__jsx-style-dynamic-selector .file.__jsx-style-dynamic-selector,.stacked.__jsx-style-dynamic-selector .output.__jsx-style-dynamic-selector{width:100%;height:50%;}"]))}var Yf=me.createElement,Xf={overlimit:{title:"Multiplayer Limit Reached",body:"Repl reached its multiplayer limit. Please contact the owner."},notfound:{title:"Invite Link 404",body:"Multiplayer invite link not found. Please contact the owner."}};function $f(e){var t,n,r=e.language,a=Object(je.useRouter)().query,i=me.useState(!1),o=Object(G.a)(i,2),s=o[0],l=o[1],c=null,u=Re.a.get(r)?null:r;a.classroom_template?c={title:"Project Template",body:"This is the template that students will be given to fork. When you are finished, close this tab, go back to the classroom, and create the project."}:u?c={title:"Unsupported Language",body:Yf("div",null,Yf("p",null,"We encountered an internal error while loading your repl"),Yf("br",null),Yf("p",null,'The language "',u,"\" doesn't exist.",Yf("br",null),Yf("br",null),"You can still view your repl but many features may not work.",Yf("br",null),"Our engineers have been notified and we will have a fix for this soon."))}:a.error&&(c=Xf[a.error.toString()]||{title:"Error",body:"Somethng went wrong"});var d=!s&&Boolean(c);return Yf(hr.a,{onRequestClose:function(){return l(!0)},isOpen:d},Yf("div",{className:oe.a.dynamic([["1423633573",[Te.BREAKPOINTS.mobileMax]]])+" content"},Yf(Pr.a,{level:3},null===(t=c)||void 0===t?void 0:t.title),null===(n=c)||void 0===n?void 0:n.body,Yf("div",{className:oe.a.dynamic([["1423633573",[Te.BREAKPOINTS.mobileMax]]])},Yf(Sa.Button,null,"Continue")),Yf(oe.a,{id:"1423633573",dynamic:[Te.BREAKPOINTS.mobileMax]},[".content.__jsx-style-dynamic-selector{color:var(--color-foreground-1);padding:var(--spacing-2);display:grid;grid-gap:var(--spacing-2);}","@media screen and (min-width:".concat(Te.BREAKPOINTS.mobileMax,"px){.content.__jsx-style-dynamic-selector{padding:var(--spacing-6);}}")])))}var Qf=n("IKky"),Jf=n.n(Qf),Zf=n("Qv0/");function em(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function tm(e,t){var r,a,i,o,s,l,c,u,d,p,f,m,g,b,h,v,x,y;return Y.a.async((function(w){for(;;)switch(w.prev=w.next){case 0:if(r=window["flag-lsp-service"],a=t.preferences,i=t.editorHandle,o=t.workingDirectory,s=t.repl,l=Re.a.get(s.language),c=l.hasLanguageServer,a.codeIntelligence&&i&&!e.isConnected()&&r&&c){w.next=5;break}return w.abrupt("return");case 5:if(u=eo.a.get(i)){w.next=8;break}throw new Error("No editor found during LSP init");case 8:return w.next=10,Y.a.awrap(Promise.all([n.e(8),n.e(11),n.e(13),n.e(24)]).then(n.t.bind(null,"nwKM",7)));case 10:return d=w.sent,p=d.MonacoServices,d.MonacoLanguages.prototype.registerCodeLensProvider=void 0,p.install(u,{rootUri:"file://".concat(o)}),w.next=17,Y.a.awrap(e.getOrCreateConnection());case 17:return f=w.sent,m=Re.a.get(s.language),g=m.ext,w.next=21,Y.a.awrap(Object(Zf.createLanguageClient)(f,g));case 21:b=w.sent,Object(Zf.overrideLogger)(b),h=b.start(),f.onClose((function(){return h.dispose()})),v=s.id,x=s.language,y=s.slug,Object(Xe.track)(Xe.events.LSP_CONNECTION_STARTED,{replId:v,language:x,slug:y,isService:!0});case 27:case"end":return w.stop()}}))}function nm(e,t){if(window["flag-lsp-service"]){var n=t.id,r=t.language,a=t.slug;Object(Xe.track)(Xe.events.LSP_CONNECTION_ENDED,{replId:n,language:r,slug:a,isService:!0}),e.closeConnection()}}function rm(e,t){var n=t.lsp,r=t.packager,a=t.container;e.register("services",{receiver:function(e,t,a){return"PACKAGER_ENSURE"===a.type?function(t){var n;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(window["flag-packager-service"]){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Y.a.awrap(r.installPackages());case 5:n=a.sent,t(n?{type:"PERSIST_FILE",wid:e}:{type:"OPTIMISTIC_RUN_ENDED",wid:e}),Object(Xe.track)(Xe.events.PACKAGES_INSTALLED,{isService:!0,success:n}),t({type:"PACKAGER_ENSURE_COMPLETE",wid:e});case 9:case"end":return a.stop()}}))}:"LOADING_GOVAL_STARTED"===a.type?function(r,a){var i=a().workspace[e].plugins[t].state.repl;nm(n,i)}:"UPDATE_WORKING_DIRECTORY"===a.type||"LANGUAGE_SERVER_DIED"===a.type?function(r,a){var i=a().workspace[e].plugins[t].state;nm(n,i.repl),tm(n,i)}:"LOADING_ENGINE_COMPLETE"===a.type?function(r,a){var i=a().workspace[e].plugins[t].state;tm(n,i)}:"REGISTER_MONACO_EDITOR_HANDLE"===a.type?function(r,a){var i=a().workspace[e].plugins[t].state;tm(n,i)}:"UPDATE_WORKSPACE_PREFERENCES"===a.type?function(r,i){var o=a.updates.codeIntelligence;if("undefined"!==typeof o){var s=i().workspace[e].plugins[t].state;o?tm(n,s):nm(n,s.repl)}}:null},reducer:Zf.reducer});var i=0;n.onUnexpectedDisconnect((function(){var t=a.getRepl(),n=t?{replId:t.id,language:t.language,slug:t.slug}:{};i++,Object(Xe.track)(Xe.events.LSP_SERVER_DIED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?em(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):em(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}({},n,{disconnects:i,isService:!0})),e.store.dispatch({type:"LANGUAGE_SERVER_DIED",wid:e.wid})}))}var am=n("5RMj"),im=me.createElement;function om(e,t){var n=B()(e);if(U.a){var r=U()(e);t&&(r=r.filter((function(t){return z()(e,t).enumerable}))),n.push.apply(n,r)}return n}function sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?om(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):L.a?T()(e,L()(n)):om(Object(n)).forEach((function(t){A()(e,t,z()(n,t))}))}return e}function lm(){var e=Object(ne.a)(['\n  query ToursQuery {\n    currentUser {\n      shareToTalkPromoSeen: tourSeen(name: "share_repl_to_talk")\n      shouldShowMPInviteTour: tourSeen(name: "multiplayer_invite")\n    }\n  }\n']);return lm=function(){return e},e}var cm=Re.a.getSeoAliases(),um=function(e){return JSON.parse(ae()(e))},dm=we()(lm());function pm(e){if(!te()(e.getState().plugins).find((function(e){return"adminpanel"===e.type}))){var t="adminpanel-"+Pe()();e.dispatch({type:"LOAD_PLUGIN",pluginPud:t,pluginType:"adminpanel",title:"adminpanel"}),e.dispatch({type:"ADD_SIDE_NAV_ITEM",navItem:{pud:t,pluginType:"adminpanel",tooltip:"Crosis Logs",svg:"Alien"}})}}function fm(e,t){return e?e.id!==t.userId?"/home/runner":Object(qe.a)(e,"goval-flag-pdir")&&Object(qe.a)(e,"goval-flag-nopool")?"/home/runner/".concat(t.slug):"/home/runner":"/home/runner"}var mm=function(e){function t(){var e,n;Object(X.a)(this,t);for(var P=arguments.length,I=new Array(P),A=0;A<P;A++)I[A]=arguments[A];return(n=Object(Q.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(I)))).state={forking:!1,isWorkspaceCrashed:!1,sentryEventId:"",ssredTaint:!1,isMounted:!1,serverTokenUsed:!1},n.createNewWorkspace=function(){var e=!1,t=new $e.a;t.registerErrorHandler((function(t){var r=t.error,a=t.pluginType,i=t.pud,o=t.source;e||(e=!0,console.error("Plugin with type ",a," and pud ",i," errored in ",o),console.error(r),r instanceof Lf.a&&(console.log("CustomSentryError extra",r.extras),console.log("CustomSentryError tags",r.tags)),We.m((function(e){e.setTags({pluginType:a,workspaceSource:o,workspaceError:"true"});var t=We.c(r);(Object(qe.a)(n.props.user,"flag-bsod")||"containerfs3"===a||"goval"===a)&&n.setState({isWorkspaceCrashed:!0,sentryEventId:t})})))})),function(e){Object(Mf.a)(e),e.register("runflow",k),e.register("header",r),e.register("config",a),e.register("sidenav",i),e.register("filetree",Ei),e.register("fileheader",o),e.register("editor",s),e.register("terminal2",vs),e.register("console",xs),e.register("debugger",l),e.register("examples",Hs),e.register("floatingrun",Bs),e.register("help",c),e.register("libsearch",Qs),e.register("packager",Js),e.register("packager2",u),e.register("mediaview",d),e.register("preferences",ml),e.register("git",gl),e.register("replboxdisplay",bl),e.register("snack",p),e.register("vnc",xl),e.register("webview",yl),e.register("chat",wl),e.register("chat2",f),e.register("fileviewercontroller",m),e.register("markdownviewer",g),e.register("adminpanel",b),e.register("runbadge",h),e.register("blank",bu),e.register("lock",v),e.register("hackerupgradeprompt",x),e.register("desktoplayout",y),e.register("audio",w),e.register("deeplink",rd),e.register("resourcemonitor",j),e.register("browsernotifications",O),e.register("database",E),e.register("commandbar",_),e.register("commandbarv5",N),e.register("annotations",S),e.register("shell",C)}(t),t.register("audio",w),t.register("bsoder",{receiver:function(e,r,a){"BSOD"===a.type&&(n.setState({isWorkspaceCrashed:!0,sentryEventId:a.sentryEventId}),t.store.dispatch({type:"WORKSPACE_WILL_UNMOUNT",wid:e}),a.crasherPud&&t.store.dispatch({type:"PLUGIN_BROKE",pud:a.crasherPud,message:"No message"}),a.originalError&&(console.error("".concat(a.crasherPud||"plugin"," crashed}")),console.error(a.originalError)))}}),t.register("replforker",{receiver:function(e,t,r){return"FORK_WORKSPACE_REPL"===r.type?function(t){var r,a,i;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(window.forkedTaint=!0,!n.state.forking){o.next=3;break}return o.abrupt("return");case 3:return n.setState({forking:!0}),t({wid:e,type:"FORK_WORKSPACE_START"}),o.prev=5,o.next=8,Y.a.awrap(n.props.requestFork(n.props.repl.id));case 8:a=o.sent,i=a.value,r=i,o.next=18;break;case 13:return o.prev=13,o.t0=o.catch(5),n.props.showMessage({type:"error",content:o.t0.message,time:2500}),We.c(o.t0),o.abrupt("return");case 18:n.props.setActiveReplId({replId:r.id}),t({wid:e,type:"REPL_UPDATED",updates:r}),t({wid:e,type:"FORK_WORKSPACE_END",newWid:e}),n.props.showMessage({type:"confirm",content:"Repl forked!",time:2500}),n.setState({forking:!1});case 23:case"end":return o.stop()}}),null,null,[[5,13]])}:"OT_FILE_OP"===r.type&&"containerfs"!==r.changeSource?function(n,r){r().workspace[e].plugins[t].state.repl.isOwner||n({type:"FORK_WORKSPACE_REPL",wid:e})}:null},reducer:Object(Ze.a)({repl:Qe.b})}),t.register("replupdater",{receiver:function(e,t,r){return"REQUEST_REPL_UPDATE"===r.type?function(a,i){var o,s;return Y.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return o=i().workspace[e].plugins[t].state,s=o.id,o.isOwner||We.m((function(e){e.setExtra("updates",r.updates),We.c(new Error("Trying to update repl without perms"))})),l.next=4,Y.a.awrap(n.props.updateRepl(s,r.updates));case 4:a({wid:e,type:"REPL_UPDATED",updates:r.updates});case 5:case"end":return l.stop()}}))}:"REPL_UPDATED"===r.type?function(r,a){var i;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:i=a().workspace[e].plugins[t].state,n.props.updateReplSuccess(i);case 2:case"end":return r.stop()}}))}:null},reducer:Qe.b});var P=window["flag-multiplayer-services"],I=window["flag-packager-service"],A=window["flag-lsp-service"];rm(t,n.services);var R=n.props,T=R.repl,M=R.user,L=R.router,D=R.showShareToTalkPromo,z=R.shouldShowMPInviteTour;t.yikesInjectStore(n.props.reduxStore);var F=he()({ua:window.navigator.userAgent,tablet:!0});window.mobileTaint=F,window.anonTaint=!M.isLoggedIn;var U=n.getAnnotationsEnabled();window["enable-annotations"]=U;var H=function(){var e=Object(Fe.a)(M);L.query.lite&&((e=Fe.b).codeIntelligence=!1);var t=Object(qe.a)(M,"windowing")&&!L.query.lite,r=!!M,a=window["flag-shell-service"]&&window["flag-shell-tab"];r&&T.config.gitRemoteUrl&&T.config.gitRemoteUrl.match(/^https?:\/\/api\.glitch\.com/i)&&(r=!1);var i=Object(qe.a)(n.props.user,"flag-commandbar-services"),o=Boolean(window.AudioContext||window.webkitAudioContext);return function(e){var t,n,r,a,i=e.lang,o=e.lite,s=e.outputonly,l=e.sharing,c=e.isMobile,u=e.preferences,d=e.isServer,p=e.isVnc,f=e.languageServer,m=e.replrun,g=e.skeleton,b=e.withSave,h=e.inspector,v=e.showShareToTalkPromo,x=e.shouldShowMPInviteTour,y=e.withChat,w=e.tabbedShell,k=e.isRunBadgeEnabled,j=e.isWindowingEnabled,O=e.multiplayerServicesEnabled,E=e.shouldRemoveCwdPlugin,_=e.newPackagerPlugin,N=e.newLSPService,S=e.hasAudioContext,C=e.preventFocusOnTerminal,P=e.isAnnotationsEnabled,I=e.useCommandbarServices,A=Re.a.get(i);if("react_native"===A.key)return{language:i,layout:{pluginAlerts:{},floating:[],tiling:{type:"split",fixed:!0,leftSize:o?48:68,hideHandle:!0,stacked:!0,left:{type:"pane",pud:"header"},right:{type:"pane",pud:"output"}}},files:[],plugins:{header:{type:"header",title:"header",state:{lite:o,languageHeader:g||b,showShareToTalkPromo:v,shouldShowMPInviteTour:x}},output:{type:"snack",title:"console"},infoprovider:{type:"infoprovider",title:"infoprovider"}},preferences:u,activeFile:void 0};var R="chat-".concat(Pe()()),T={libs:{type:"libsearch",title:"library search",isClosable:j,isDraggable:j}};Re.a.get(i).hasUPM&&(T=_?{packager2:{type:"packager2",title:"packages",isClosable:j,isDraggable:j}}:{packager:{type:"packager",title:"packages",isClosable:j,isDraggable:j}});var M=O?"chat2":"chat",L=Le({cwd:{type:"cwd"},fileviewercontroller:{type:"fileviewercontroller",state:{isMobile:c,lite:o}},analytics:{type:"analytics"},replforker:{type:"replforker"},replupdater:{type:"replupdater"}},T,(t={examples:{type:"examples",title:"examples"},header:{type:"header",title:"header",state:{lite:o,languageHeader:g||b,showShareToTalkPromo:v,shouldShowMPInviteTour:x}}},Object(q.a)(t,R,{type:M,title:"chat"}),Object(q.a)(t,"fileheader",{type:"fileheader",title:"fileheader"}),Object(q.a)(t,"infoprovider",{type:"infoprovider",title:"infoprovider"}),Object(q.a)(t,"fs",{type:"containerfs3"}),Object(q.a)(t,"formatter",{type:"formatter"}),Object(q.a)(t,"markdownviewer-"+Pe()(),{type:"markdownviewer"}),Object(q.a)(t,"hackerupgradeprompt",{type:"hackerupgradeprompt"}),Object(q.a)(t,"browsernotifications",{type:"browsernotifications"}),Object(q.a)(t,"services",{type:"services"}),Object(q.a)(t,"commandbar",{type:I?"commandbar":"commandbarv5"}),t));s&&(delete L.fileviewercontroller,delete L.commandbar),S&&(L=Le({},L,{audio:{type:"audio"}})),P&&(L=Le({},L,{annotations:{type:"annotations"}})),E&&delete L.cwd,h&&(L=Le({},L,{inspector:{type:"inspector",title:"inspector"}}));var D,z=[];Re.a.supportsGit(i)&&!l&&(z.push({pud:"git",pluginType:"git",tooltip:"Version control",svg:"Fork"}),L.git={type:"git",title:"git",isClosable:j,isDraggable:j}),k&&(L["runbadge-".concat(Pe()())]={type:"runbadge",title:"runbadge",isClosable:!0,isDraggable:!1}),L.config={type:"config",title:"config",isClosable:!0,isDraggable:!1},L.lock={type:"lock",title:"lock"},Re.a.supportsPackager3(i)?_?z.push({pud:"packager2",pluginType:"packager2",tooltip:"Packages",svg:"Packages"}):z.push({pud:"packager",pluginType:"packager",tooltip:"Packages",svg:"Packages"}):(Re.a.supportsPackager2(i)||"html"===i)&&z.push({pud:"libs",pluginType:"libsearch",tooltip:"Packages",svg:"Packages"}),o||(L=Le({},L,{prefs:{type:"preferences",title:"preferences",isClosable:j,isDraggable:j},help:{type:"help",title:"help",isClosable:j,isDraggable:j},floatingrun:{type:"floatingrun",title:"floatingrun",state:{maxWidthBreakpoint:Te.BREAKPOINTS.mobileMax+100}}}),f&&!N&&(L=Le({},L,{langserver:{type:"langserver",title:"langserver"}}))),D=Le({},D=Re.a.usesTerminal2(i)?{type:"terminal2",title:"console",state:{kind:Re.a.usesInterpreter(i)?"interp":"output",replrun:m,lite:o,preventFocus:C}}:{type:"console",title:"console",state:{replrun:m}},{isDraggable:j}),"python_turtle"===A.key||"basic"===A.key?L=Le({},L,{output:{type:"replboxdisplay",title:"result"},console:{type:"console",title:"console"}}):"web_project"===A.key||"html"===A.key?L=Le({},L,{output:{type:"webview",title:"result",state:{canBeClosed:!1}},console:{type:"console",title:"console"}}):Re.a.supportsDebugging(A.key)?(L=Le({},L,{output:D,debugger:{type:"debugger",title:"debugger"}}),z.push({pud:"debugger",pluginType:"debugger",tooltip:"Debugger",svg:"Debugger"})):L=Le({},L,{output:D});var F,U,H=Re.a.supportsFiles(A.key)||"web_project"===A.key||"html"===A.key;if(L=Le({},L,{filetree:{type:"filetree",title:"filetree",isClosable:j,isDraggable:j,state:{tree:Object(Ie.a)([],void 0)}}}),H&&z.unshift({pud:"filetree",pluginType:"filetree",tooltip:"Files",svg:"File"}),g?(L.blank={type:"blank",title:"blank"},F={type:"pane",pud:n="blank"}):H?(L[n="file-".concat(Pe()())]={type:"blank",title:"empty",isDraggable:j},F={type:"pane",pud:n}):(L[n="main-editor"]={type:"blank",title:"empty",isDraggable:j},F={type:"pane",pud:n}),"web_project"===A.key||"python_turtle"===A.key||"html"===A.key||"basic"===A.key)if(c)U={type:"tabs",active:0,tabs:[{type:"pane",pud:"output"},{type:"pane",pud:"console"}]};else{var B=w?{type:"tabs",active:0,tabs:[{type:"pane",pud:"console"},{type:"pane",pud:"shell"}]}:{type:"pane",pud:"console"};U={type:"split",stacked:!u.isLayoutStacked,position:65,left:{type:"pane",pud:"output"},right:B}}else if(d&&l){r="webview-"+Pe()();var V=w?{type:"tabs",active:0,tabs:[{type:"pane",pud:"output"},{type:"pane",pud:"shell"}]}:{type:"pane",pud:"output"};L=Le({},L,Object(q.a)({},r,{type:"webview",title:"webview",isDraggable:j,state:{renderIframe:!0,canBeClosed:!0}})),U={type:"split",stacked:!(c||o||u.isLayoutStacked),fixed:!1,left:{type:"pane",pud:r},right:V}}else if(p){a="vnc-"+Pe()(),L=Le({},L,Object(q.a)({},a,{type:"vnc",title:"vnc",state:{}}));var K=w?{type:"tabs",active:0,tabs:[{type:"pane",pud:"output"},{type:"pane",pud:"shell"}]}:{type:"pane",pud:"output"};U={type:"split",stacked:!(c||o||u.isLayoutStacked),fixed:!1,left:{type:"pane",pud:a},right:K}}else U=w?{type:"tabs",active:0,tabs:[{type:"pane",pud:"output"},{type:"pane",pud:"shell"}]}:{type:"pane",pud:"output"};var G,W,Y=s?U:{type:"split",stacked:c||o||u.isLayoutStacked,fixed:!1,left:{type:"split",stacked:!0,leftSize:32,left:{type:"pane",pud:"fileheader"},right:F},right:U};j&&(Y=s?U:{type:"split",left:Le({},F,{header:{type:"pane",pud:"fileheader",height:32}}),right:U}),o||z.push({pud:"prefs",pluginType:"preferences",tooltip:"Settings",svg:"Settings"}),!z.length||s?G=Y:(c||!H||o||(W="filetree"),L=Le({},L,{sidenav:{type:"sidenav",title:"side navigation",state:{navItems:z,activePanePuds:W?[W]:[]}}}),G={type:"split",stacked:!1,leftSize:50,left:{type:"pane",pud:"sidenav"},right:W?{type:"split",stacked:!1,position:15,left:{type:"pane",pud:W},right:Y}:Y});var X={floating:o?[]:["floatingrun","help","hackerupgradeprompt","browsernotifications","commandbar"],tiling:{type:"split",leftSize:o?48:68,stacked:!0,left:{type:"pane",pud:"header"},right:h?{type:"split",left:G,right:{type:"pane",pud:"inspector"}}:G}};return S&&!o&&X.floating.push("audio"),y&&X.floating.push(R),P&&X.floating.push("annotations"),L["bsoder-".concat(Pe()())]={type:"bsoder",title:"bsoder"},O||(L["cursorstyles-".concat(Pe()())]={type:"cursorstyles",title:"cursorstyles"}),L["unloadhandler-".concat(Pe()())]={type:"unloadhandler",title:"unloadhandler",state:{unsavedRepl:b}},L.desktoplayout={type:"desktoplayout"},w&&(L.shell={type:"shell",title:"shell"}),g||(L["loadingresolver-"+Pe()()]={type:"loadingresolver",title:"loadingresolver"},L["goval-"+Pe()()]={type:"goval",title:"goval",state:{isOwner:!l,lite:o}},"goval"!==A.engine&&(L["replbox-"+Pe()()]={type:"replbox",title:"replbox"})),{language:i,layout:X,files:[],plugins:L,preferences:u,activeFile:void 0,editorPud:n,webviewPud:r,vncPud:a,sideNavItems:z}}({lang:T.language,lite:L.query.lite,outputonly:L.query.outputonly,sharing:!T.isOwner,isMobile:F,preferences:e,isServer:T.config.isServer||!1,isVnc:T.config.isVnc||!1,languageServer:Re.a.get(T.language).hasLanguageServer,replrun:Object(qe.a)(M,"replrun"),skeleton:!1,withSave:L.query.langPage,inspector:L.query.inspector,showShareToTalkPromo:D,shouldShowMPInviteTour:z,withChat:T.showChat&&!L.query.lite,shouldRemoveCwdPlugin:Object(qe.a)(M,"flag-remove-cwd-plugin"),tabbedShell:a,isRunBadgeEnabled:r,isWindowingEnabled:t,multiplayerServicesEnabled:P,newPackagerPlugin:I,newLSPService:A,hasAudioContext:o,isAnnotationsEnabled:U,useCommandbarServices:i})}();t.bootstrap(H),t.store.dispatch({type:"REPL_UPDATED",updates:T});var B=window.performance.now(),V=n.state.serverTokenUsed;if(Object(qe.a)(n.props.user,"flag-goval-connect-sooner")){var K=V?void 0:n.props.token;t.store.dispatch({type:"GOVAL_CONNECT",customToken:K}),n.setState({serverTokenUsed:!0})}t.govalConnectionStarted=B,t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"reconnectprompt",pluginType:"reconnectprompt"}),t.store.dispatch(sm({type:"UPDATE_LAYOUT"},Je.h(t.store.getState().layout,"reconnectprompt","inside",Je.d()))),n.props.doRunFlow&&t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"runflow",pluginType:"runflow"}),t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"resourcemonitor",pluginType:"resourcemonitor"}),n.props.router.query.langPage||t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"deeplink",pluginType:"deeplink"}),t.store.dispatch({type:"UPDATE_WORKSPACE_PREFERENCES",updates:H.preferences}),t.store.dispatch({type:"UPDATE_WORKING_DIRECTORY",path:fm(M,T)}),"replbox"!==Re.a.get(T.language).engine&&(t.store.dispatch({type:"LOAD_PLUGIN",pluginPud:"database",pluginType:"database",title:"Database"}),t.store.dispatch({type:"ADD_SIDE_NAV_ITEM",index:-1,navItem:{pud:"database",pluginType:"database",tooltip:"Database",icon:Jf.a}})),M&&M.isLoggedIn&&M.roles.includes("admin")&&pm(t.store),window.debug=function(){return pm(t.store)},L.query.debug&&(pm(t.store),t.store.dispatch({type:"START_CROSIS_ADMIN_LOGS"})),t.store.dispatch({type:"TIME_TO_CODE_ID",timeToCodeId:n.props.timeToCodeId}),n.ws=t,n.WsComponent=t.component()},n.handleRouteChange=function(){if(n.props.router.query.replUrl!==n.props.repl.url){var e=n.props.replsByUrl[n.props.router.query.replUrl];if(!e)return;n.props.setActiveReplId({replId:e})}},n.createActualAnonRepl=function(){var e,t;return Y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Y.a.awrap(n.props.createNewRepl({language:n.props.repl.language}));case 2:e=r.sent,t=e.value,n.props.setActiveReplId({replId:t.id});case 5:case"end":return r.stop()}}))},n.getAnnotationsEnabled=function(){return!!Object(qe.a)(n.props.user,"flag-annotations")||!(!Object(qe.a)(n.props.user,"flag-annotations-teams")||!Boolean(n.props.profile&&n.props.profile.isTeam))},n}return Object(Z.a)(t,e),Object($.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.state.ssredTaint&&(window.ssredTaint=!0),Object(qe.a)(this.props.user,"flag-handicap-goval-conn")&&setInterval((function(){window.v1ws&&(window.v1ws.close(),window.v1ws=null),window.v6ws&&(window.v6ws.close(),window.v6ws=null)}),6e4),window["flag-windowing"]=Object(qe.a)(this.props.user,"windowing"),window["flag-ot-high-consitency"]=Object(qe.a)(this.props.user,"flag-ot-high-consitency"),window["flag-no-more-persist-mirror"]=Object(qe.a)(this.props.user,"flag-no-more-persist-mirror"),window["open-markdown-split"]=Object(qe.a)(this.props.user,"open-markdown-split"),window["flag-shell-service"]=Object(qe.a)(this.props.user,"flag-shell-service"),window["flag-shell-tab"]=Object(qe.a)(this.props.user,"flag-shell-tab"),window["flag-packager-service"]=Object(qe.a)(this.props.user,"flag-packager-service"),window["flag-lsp-service"]=Object(qe.a)(this.props.user,"flag-lsp-service"),window["flag-multiplayer-services"]=Object(qe.a)(this.props.user,"flag-multiplayer-services"),window["flag-containerfs3"]=Object(qe.a)(this.props.user,"flag-containerfs3"),this.props.router.query.langPage?this.createActualAnonRepl().then((function(){e.unmounted||(e.services=Object(Ff.a)(),e.createNewWorkspace(),e.forceUpdate())})):(this.services=Object(Ff.a)(),this.createNewWorkspace()),Oe.a.replace({pathname:Oe.a.pathname,query:Oe.a.query},Oe.a.asPath,{shallow:!0}),this.props.router.events.on("routeChangeComplete",this.handleRouteChange),window.performance&&window.performance.navigation&&1===window.performance.navigation.type&&Object(Xe.track)(Xe.events.PAGE_RELOADED,{repl:this.props.repl}),Object(Xe.track)(Xe.events.CLIENT_PING,{}),Object(ze.b)("/data/t/ping")}},{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"componentWillUnmount",value:function(){window.navigatedTaint=!0,this.props.router.events.off("routeChangeComplete",this.handleRouteChange),window.debug=void 0,this.unmounted=!0}},{key:"componentDidUpdate",value:function(e){var t=e.repl.id!==this.props.repl.id,n=e.repl.url!==this.props.repl.url;if(t||n){var r=this.props.repl,a=this.props.router.query.langPage?this.props.router.asPath:r.url,i=sm({},this.props.router.query,{replUrl:r.url}),o=Object(et.a)(i);Oe.a.push({pathname:"/replEnvironment",query:i},{pathname:a,query:o},{shallow:!0}),this.state.forking||t&&this.services&&(this.createNewWorkspace(),this.forceUpdate())}}},{key:"getTitle",value:function(e){return cm[this.props.router.asPath]?cm[this.props.router.asPath].title:this.props.router.query.langPage?Object(Df.d)(e):this.props.repl.title}},{key:"getDescription",value:function(e){return cm[this.props.router.asPath]?cm[this.props.router.asPath].description:this.props.router.query.langPage?Object(Df.c)(e):this.props.repl.description?this.props.repl.description:this.props.profile?"A ".concat(e," repl by ").concat(this.props.profile.username):"A ".concat(e," repl created by an anonymous user")}},{key:"render",value:function(){var e=this,t=this.props,n=t.profile,r=void 0===n?{}:n,a=t.repl,i=t.bannerMessage,o=t.lite,s=t.stacked,l=this.props.router.query.langPage?null:"https://repl.it"+a.url,c=Re.a.get(this.props.repl.language).displayName,u=this.getDescription(c),d=this.getTitle(c),p=Ne.a.getImage({emailHash:r.emailHash,image:r.icon,id:r.id}).url,f=0;i&&(f+=36);var m=this.WsComponent,g=Object(qe.a)(this.props.user,"flag-commandbar-services")||Object(qe.a)(this.props.user,"flag-lsp-service")||Object(qe.a)(this.props.user,"flag-multiplayer-services")||Object(qe.a)(this.props.user,"flag-shell-service")||Object(qe.a)(this.props.user,"flag-packager-service")||Object(qe.a)(this.props.user,"flag-remove-cwd-plugin");return im("div",{className:ct()("workspace-wrapper",{desktop:!o,lite:o}),id:am.a,tabIndex:1},im(Ge.a,null,im(Ee.a,{title:d,location:this.props.router.pathname,oembedUrl:l,description:u||void 0,image:p,theme:o?"replitLight":void 0,noHeader:!0,noFooter:!0,forceDrawer:!0,hideEmailVerify:!0},im($f,{language:a.language}),this.state.isWorkspaceCrashed&&im(Uf.a,{sentryEventId:this.state.sentryEventId,user:this.props.user.isLoggedIn?{username:this.props.user.username,email:this.props.user.email}:void 0,devHide:function(){return e.setState({isWorkspaceCrashed:!1})}}),im("div",{className:oe.a.dynamic([["609699433",[f,f]]])+" "+(ct()("workspace-page-wrapper",{desktop:!o,lite:o})||"")},m&&this.services&&this.state.isMounted?im(Fp,{ws:this.ws},im(zf.a.Provider,{value:this.services},im(m,{className:oe.a.dynamic([["609699433",[f,f]]])}),g?im(Gf,{ws:this.ws,replId:a.id}):null)):im(Wf,{lite:o,stacked:s})),im(oe.a,{id:"609699433",dynamic:[f,f]},[".workspace-page-wrapper.__jsx-style-dynamic-selector{height:calc(100% - ".concat(f,"px);width:100%;position:fixed;left:0px;right:0px;top:").concat(f,"px;bottom:0px;background-color:var(--color-background-3);}"),".workspace-page-wrapper.desktop.__jsx-style-dynamic-selector{padding:var(--spacing-1);padding-top:0;}"]))))}}],[{key:"getInitialProps",value:function(e){var t,n,r,a,i,o,s,l,c,u,d,p,f,m,g,b,h,v,x,y,w,k,j,O,E,_,N,S;return Y.a.async((function(C){for(;;)switch(C.prev=C.next){case 0:return t=e.req,n=e.store,r=e.query,a=e.apolloClient,C.next=3,Y.a.awrap(Object(ze.a)({req:t}));case 3:if(i=C.sent,o="string"===typeof r.lite&&r.lite?r.lite:!!r.lite,c=!1,r.replUrl){C.next=8;break}throw new Error("Please add replUrl to query");case 8:return u=Pe()(),Object(Xe.track)(Xe.events.TIME_TO_CODE_STARTED,{ttcid:u,isServer:!1}),d=r.replUrl.split("/"),p=Object(G.a)(d,3),f=p[1],m=p[2],g="/data/repls/","repls"!==f?(h=f.replace(/^@/,""),b=i("/data/profiles/".concat(h),{normalize:!0}),g+=f+"/"):g+="anon/",C.next=16,Y.a.awrap(K.a.all([i("".concat(g).concat(m),{normalize:!0}),b,Object(Ye.a)(t,n)]));case 16:v=C.sent,x=Object(G.a)(v,2),s=x[0],l=x[1],c=s.is_mobile,C.next=35;break;case 23:if(u=r.timeToCodeId,t.headers["user-agent"]){C.next=26;break}throw new Error("Invalid request");case 26:return s=um(t.repl),c=um(t.isMobile),t.profile&&(l=um(t.profile)),C.next=31,Y.a.awrap(Object(Ye.a)(t,n));case 31:if(y=C.sent,!(w=y.error)){C.next=35;break}return C.abrupt("return",{error:w});case 35:if((k=n.getState().user.userInfo).isLoggedIn||(k=null),j=Object(Fe.a)(k),r.lite&&((j=Fe.b).codeIntelligence=!1),n.dispatch(Object(Ue.b)(s)),O=n.getState().repls.data[s.id],l&&n.dispatch({type:"FETCH_PROFILE_SUCCESS",userId:O.userId,profile:l}),n.dispatch(_e({replId:O.id})),E=!1,_=!1,!k){C.next=51;break}return C.next=48,Y.a.awrap(a.query({query:dm}));case 48:N=C.sent,(S=N.data)&&S.currentUser&&(E=!S.currentUser.shareToTalkPromoSeen,_=!S.currentUser.shouldShowMPInviteTour);case 51:return C.abrupt("return",{timeToCodeId:u,doRunFlow:r.doRunFlow,showShareToTalkPromo:E,shouldShowMPInviteTour:_,isMobile:c,lite:o,token:r.token,stacked:c||o||j.isLayoutStacked,theme:j.theme});case 52:case"end":return C.stop()}}))}}]),t}(me.Component);t.default=Object(De.c)((function(e){var t=e.repls.data[e.replEnvironment.activeReplId];return sm({},e.replEnvironment,{repl:t,replsByUrl:e.replsByUrl,isAnon:!e.user.userInfo.isLoggedIn,user:e.user.userInfo,profile:e.profiles.data[t.userId],bannerMessage:e.banners.message})}),(function(e){return Object(ke.b)({showMessage:Se.b,setActiveReplId:_e,sawTour:Ve,createNewRepl:Ue.a,requestFork:Ue.d,updateRepl:Ue.e,updateReplSuccess:Ue.f},e)}))(Object(je.withRouter)(function(e){var t=function(t){function n(){return Object(X.a)(this,n),Object(Q.a)(this,Object(J.a)(n).apply(this,arguments))}return Object(Z.a)(n,t),Object($.a)(n,[{key:"render",value:function(){var t=this;return im(De.b.Consumer,null,(function(n){var r=n.store;return im(e,Object(P.a)({},t.props,{reduxStore:r}))}))}}]),n}(me.Component);return t.displayName="withStore(ReplEnvironment)",xe()(t,e)}(mm)))},"CWX+":function(e,t,n){n("OE/M"),e.exports=n("p9MR").parseFloat},"Ef/q":function(e,t,n){var r=n("2jw7").parseFloat,a=n("Yzr4").trim;e.exports=1/r(n("cCpf")+"-0")!==-1/0?function(e){var t=a(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"I7/E":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),a=n("T61/");function i(){var e=Object(r.useContext)(a.a);if(!e)throw new Error("Expected services in context");return e}},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kz5y:function(e,t,n){var r=n("WFqU"),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},"M+Cr":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("kOwS"),a=n("q1tI"),i=n("0F/J"),o=a.createElement;function s(e){var t=e.runState,n=e.onClick,a=e.lite,s=function(e){switch(e){case"loading":return{label:"loading",iconStyle:{svgName:"Loading",height:15,width:20,offset:5}};case"idle":return{label:"run",type:"run",iconStyle:{svgName:"Run",width:12.5,height:13,offset:3}};case"running":return{label:"stop",iconStyle:{svgName:"Stop",width:11.5,height:13,offset:3}};case"stopping":return{label:"stopping",iconStyle:{svgName:"Loading",height:15,width:20,offset:5}}}}(t);return o(i.a,Object(r.a)({lite:a,onClick:n,key:s.label},s))}},NykK:function(e,t,n){var r=n("nmnc"),a=n("AP2z"),i=n("KfNM"),o="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:o:l&&l in Object(e)?a(e):i(e)}},"OE/M":function(e,t,n){var r=n("0T/a"),a=n("Ef/q");r(r.G+r.F*(parseFloat!=a),{parseFloat:a})},QIyF:function(e,t,n){var r=n("Kz5y");e.exports=function(){return r.Date.now()}},"W/wR":function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=n("YFqc"),l=n.n(s),c=n("W27C"),u=o.a.createElement;t.a=function(e){var t=e.repl,n=t.user?u(l.a,Object(c.c)(t.user),u("a",{style:{color:"var(--color-primary-1)",fontWeight:500,textDecoration:"none"},className:"username"},t.user.username)):u("span",{className:"username"},"@anonymous");return u("div",{className:"jsx-2652062152 workspace-header-info"},u("div",{className:"jsx-2652062152 workspace-header-title"},u("span",{className:"jsx-2652062152 breadcrumb interactive"},u("span",{onClick:function(e){return e.stopPropagation()},className:"jsx-2652062152 breadcrumb-content"},n)),u("span",{className:"jsx-2652062152 slash"},"/"),u("span",{className:"jsx-2652062152 breadcrumb repl-title"},u("span",{className:"jsx-2652062152 breadcrumb-content"},t.title))),t.lang.icon&&u(o.a.Fragment,null,u("div",{className:"jsx-2652062152 spacer"}),u("div",{className:"jsx-2652062152 language-icon-container"},u("img",{alt:t.lang.displayName,title:t.lang.displayName,src:t.lang.icon,className:"jsx-2652062152 language-icon"}))),u(a.a,{id:"2652062152"},[".workspace-header-info.jsx-2652062152,.workspace-header-title.jsx-2652062152{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;overflow:hidden;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;font-size:var(--font-size-desktop-text-small);}",".workspace-header-info.jsx-2652062152{width:100%;}",".workspace-header-user-link.jsx-2652062152{color:var(--color-primary-1);-webkit-text-decoration:none;text-decoration:none;}",".language-icon-container.jsx-2652062152{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:var(--spacing-half);background-color:var(--color-control-3);border-radius:100%;}",".language-icon.jsx-2652062152{height:var(--spacing-2);width:var(--spacing-2);}",".breadcrumb.jsx-2652062152{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:var(--border-radius-1);padding:2px var(--spacing-half);width:auto;}",".breadcrumb.interactive.jsx-2652062152:hover{background-color:var(--color-control-3);}",".breadcrumb-content.jsx-2652062152{display:inline-block;overflow:hidden;text-overflow:ellipsis;max-width:152px;}",".spacer.jsx-2652062152{width:var(--spacing-1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;}",".username.jsx-2652062152,.repl-title.jsx-2652062152{white-space:nowrap;color:var(--color-foreground-1);}",".slash.jsx-2652062152{color:var(--color-foreground-3);padding:0 2px;}",".repl-title.jsx-2652062152{overflow:hidden;}"]))}},WB0c:function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),l=n.n(s),c=n("Jo+v"),u=n.n(c),d=n("4mXO"),p=n.n(d),f=n("pLtp"),m=n.n(f),g=n("dfwq"),b=n("vYYK"),h=n("2SQs"),v=n.n(h),x=n("4y2c"),y=n("dI/k");function w(e,t){var n=m()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):l.a?o()(e,l()(n)):w(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}x.a.register("repls",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REPL_SUCCESS":return k({},e,{data:k({},e.data,Object(b.a)({},t.repl.id,t.repl))});case"NEW_REPL_SUCCESS":case"FORK_REPL_SUCCESS":return k({},e,{data:k({},e.data,Object(b.a)({},t.payload.id,t.payload))});case"UPDATE_REPL_SUCCESS":return k({},e,{data:k({},e.data,Object(b.a)({},t.repl.id,k({},e.data[t.repl.id],{},t.repl)))});case"DELETE_REPL_SUCCESS":return k({},e,{data:v()(e.data,t.repl.id)});case"OWN_ANON_REPLS":var n=t.replsChanges.reduce((function(n,r){var a=e.data[r.id];return a&&(n[r.id]=k({},a,{userId:t.user.id,isOwner:!0},r)),n}),{});return k({},e,{data:k({},e.data,{},n)});case"ENSURE_FILE":var r=Object(y.f)(t.path),a=Object(y.j)(t.path),i=e.data[r];return!i||i.fileNames.includes(a)?e:k({},e,{data:k({},e.data,Object(b.a)({},r,k({},i,{fileNames:[].concat(Object(g.a)(i.fileNames),[a])})))});case"MOVE_FILE_SUCCESS":var o=Object(y.f)(t.to),s=e.data[o];if(!s||o!==Object(y.f)(t.from))return e;var l=Object(y.j)(t.from),c=Object(y.j)(t.to);return k({},e,{data:k({},e.data,Object(b.a)({},o,k({},s,{fileNames:[].concat(Object(g.a)(s.fileNames.filter((function(e){return e!==l}))),[c])})))});case"DELETE_FILE_SUCCESS":var u=Object(y.f)(t.path),d=Object(y.j)(t.path),p=e.data[u];return p?k({},e,{data:k({},e.data,Object(b.a)({},u,k({},p,{fileNames:p.fileNames.filter((function(e){return e!==d}))})))}):e}return e})),x.a.register("replsByUrl",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_REPL_SUCCESS":case"FETCH_REPL_SUCCESS":return k({},e,Object(b.a)({},t.repl.url,t.repl.id));case"NEW_REPL_SUCCESS":case"FORK_REPL_SUCCESS":return k({},e,Object(b.a)({},t.payload.url,t.payload.id));case"DELETE_REPL_SUCCESS":return v()(e,t.repl.url);case"OWN_ANON_REPLS":return t.replsChanges.reduce((function(e,t){return e[t.url]=t.id,e}),k({},e))}return e})),x.a.register("replsByUser",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_REPL_SUCCESS":return e[t.repl.userId]&&e[t.repl.userId].includes(t.repl.id)?e:k({},e,Object(b.a)({},t.repl.userId,(e[t.repl.userId]||[]).concat([t.repl.id])));case"NEW_REPL_SUCCESS":case"FORK_REPL_SUCCESS":return k({},e,Object(b.a)({},t.payload.userId,(e[t.payload.userId]||[]).concat([t.payload.id])));case"DELETE_REPL_SUCCESS":var n=e[t.repl.userId];return k({},e,Object(b.a)({},t.repl.userId,n.filter((function(e){return e!==t.repl.id}))))}return e}))},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("yLpj"))},Wa2I:function(e,t,n){e.exports=n("CWX+")},XPNs:function(e,t,n){"use strict";e.exports={compile:function(e){var t=[],n=[],r="",a=Object.create(null),i=a;return function(e){for(var t,n=0;n<e.length;n++)switch((t=e[n]).type){case"Assign":s(t);break;case"ObjectPath":u(t);break;case"ArrayPath":d(t)}return a}(e);function o(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}function s(e){var a,s=e.key,u=e.value,d=e.line,p=e.column;a=r?r+"."+s:s,"undefined"!==typeof i[s]&&o("Cannot redefine existing key '"+a+"'.",d,p),i[s]=c(u),l(a)||(t.push(a),n.push(a))}function l(e){return-1!==t.indexOf(e)}function c(e){return"Array"===e.type?function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n];null===t?t=r.type:r.type!==t&&o("Cannot add value of type "+r.type+" to array of type "+t+".",r.line,r.column)}return e.map(c)}(e.value):"InlineTable"===e.type?function e(t){for(var n=Object.create(null),r=0;r<t.length;r++){var a=t[r];"InlineTable"===a.value.type?n[a.key]=e(a.value.value):"InlineTableValue"===a.type&&(n[a.key]=c(a.value))}return n}(e.value):e.value}function u(e){var n=e.value,s=n.map(f).join("."),c=e.line,u=e.column;l(s)&&o("Cannot redefine existing key '"+n+"'.",c,u),t.push(s),i=p(a,n,Object.create(null),c,u),r=n}function d(e){var n=e.value,s=n.map(f).join("."),c=e.line,u=e.column;if(l(s)||t.push(s),(t=t.filter((function(e){return 0!==e.indexOf(s)}))).push(s),i=p(a,n,[],c,u),r=s,i instanceof Array){var d=Object.create(null);i.push(d),i=d}else o("Cannot redefine existing key '"+n+"'.",c,u)}function p(e,t,r,a,i){for(var s=[],l="",c=(t.join("."),e),u=0;u<t.length;u++){var d=t[u];s.push(d),l=s.join("."),"undefined"===typeof c[d]?u===t.length-1?c[d]=r:c[d]=Object.create(null):u!==t.length-1&&n.indexOf(l)>-1&&o("Cannot redefine existing key '"+l+"'.",a,i),(c=c[d])instanceof Array&&c.length&&u<t.length-1&&(c=c[c.length-1])}return c}function f(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},eISJ:function(e,t,n){(function(t){var n="Expected a function",r=9007199254740991,a="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")();function u(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function d(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var p=Object.prototype,f=p.hasOwnProperty,m=p.toString,g=c.Symbol,b=p.propertyIsEnumerable,h=g?g.isConcatSpreadable:void 0,v=Math.max;function x(e){return y(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?m.call(e):"";return t==i||t==o}(e)}(e)}(e)&&f.call(e,"callee")&&(!b.call(e,"callee")||m.call(e)==a)}(e)||!!(h&&e&&e[h])}var y=Array.isArray;var w=function(e){return t=function(t){var r=(t=function e(t,n,r,a,i){var o=-1,s=t.length;for(r||(r=x),i||(i=[]);++o<s;){var l=t[o];n>0&&r(l)?n>1?e(l,n-1,r,a,i):d(i,l):a||(i[i.length]=l)}return i}(t,1)).length,a=r;for(e&&t.reverse();a--;)if("function"!=typeof t[a])throw new TypeError(n);return function(){for(var e=0,n=r?t[e].apply(this,arguments):arguments[0];++e<r;)n=t[e].call(this,n);return n}},r=v(void 0===r?t.length-1:r,0),function(){for(var e=arguments,n=-1,a=v(e.length-r,0),i=Array(a);++n<a;)i[n]=e[r+n];n=-1;for(var o=Array(r+1);++n<r;)o[n]=e[n];return o[r]=i,u(t,this,o)};var t,r}(!0);e.exports=w}).call(this,n("yLpj"))},ecRq:function(e,t,n){n("uXq4"),e.exports=n("p9MR").Number.isNaN},mLbZ:function(e,t){e.exports=function(){function e(e,t,n,r,a,i){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=a,this.column=i,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},a={},i={start:Tt},o=Tt,s=function(){return fn},l=a,c="#",u={type:"literal",value:"#",description:'"#"'},d=void 0,p={type:"any",description:"any character"},f="[",m={type:"literal",value:"[",description:'"["'},g="]",b={type:"literal",value:"]",description:'"]"'},h=function(e){mn(gn("ObjectPath",e,Ct,Pt))},v=function(e){mn(gn("ArrayPath",e,Ct,Pt))},x=function(e,t){return e.concat(t)},y=function(e){return[e]},w=function(e){return e},k=".",j={type:"literal",value:".",description:'"."'},O="=",E={type:"literal",value:"=",description:'"="'},_=function(e,t){mn(gn("Assign",t,Ct,Pt,e))},N=function(e){return e.join("")},S=function(e){return e.value},C='"""',P={type:"literal",value:'"""',description:'"\\"\\"\\""'},I=null,A=function(e){return gn("String",e.join(""),Ct,Pt)},R='"',T={type:"literal",value:'"',description:'"\\""'},M="'''",L={type:"literal",value:"'''",description:"\"'''\""},D="'",z={type:"literal",value:"'",description:'"\'"'},F=function(e){return e},U=function(e){return e},H="\\",B={type:"literal",value:"\\",description:'"\\\\"'},V=function(){return""},K="e",G={type:"literal",value:"e",description:'"e"'},q="E",W={type:"literal",value:"E",description:'"E"'},Y=function(e,t){return gn("Float",parseFloat(e+"e"+t),Ct,Pt)},X=function(e){return gn("Float",parseFloat(e),Ct,Pt)},$="+",Q={type:"literal",value:"+",description:'"+"'},J=function(e){return e.join("")},Z="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},ne=function(e){return gn("Integer",parseInt(e,10),Ct,Pt)},re="true",ae={type:"literal",value:"true",description:'"true"'},ie=function(){return gn("Boolean",!0,Ct,Pt)},oe="false",se={type:"literal",value:"false",description:'"false"'},le=function(){return gn("Boolean",!1,Ct,Pt)},ce=function(){return gn("Array",[],Ct,Pt)},ue=function(e){return gn("Array",e?[e]:[],Ct,Pt)},de=function(e){return gn("Array",e,Ct,Pt)},pe=function(e,t){return gn("Array",e.concat(t),Ct,Pt)},fe=function(e){return e},me=",",ge={type:"literal",value:",",description:'","'},be="{",he={type:"literal",value:"{",description:'"{"'},ve="}",xe={type:"literal",value:"}",description:'"}"'},ye=function(e){return gn("InlineTable",e,Ct,Pt)},we=function(e,t){return gn("InlineTableValue",t,Ct,Pt,e)},ke=function(e){return"."+e},je=function(e){return e.join("")},Oe=":",Ee={type:"literal",value:":",description:'":"'},_e=function(e){return e.join("")},Ne="T",Se={type:"literal",value:"T",description:'"T"'},Ce="Z",Pe={type:"literal",value:"Z",description:'"Z"'},Ie=function(e,t){return gn("Date",new Date(e+"T"+t+"Z"),Ct,Pt)},Ae=function(e,t){return gn("Date",new Date(e+"T"+t),Ct,Pt)},Re=/^[ \t]/,Te={type:"class",value:"[ \\t]",description:"[ \\t]"},Me="\n",Le={type:"literal",value:"\n",description:'"\\n"'},De="\r",ze={type:"literal",value:"\r",description:'"\\r"'},Fe=/^[0-9a-f]/i,Ue={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},He=/^[0-9]/,Be={type:"class",value:"[0-9]",description:"[0-9]"},Ve="_",Ke={type:"literal",value:"_",description:'"_"'},Ge=function(){return""},qe=/^[A-Za-z0-9_\-]/,We={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},Ye=function(e){return e.join("")},Xe='\\"',$e={type:"literal",value:'\\"',description:'"\\\\\\""'},Qe=function(){return'"'},Je="\\\\",Ze={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",nt={type:"literal",value:"\\b",description:'"\\\\b"'},rt=function(){return"\b"},at="\\t",it={type:"literal",value:"\\t",description:'"\\\\t"'},ot=function(){return"\t"},st="\\n",lt={type:"literal",value:"\\n",description:'"\\\\n"'},ct=function(){return"\n"},ut="\\f",dt={type:"literal",value:"\\f",description:'"\\\\f"'},pt=function(){return"\f"},ft="\\r",mt={type:"literal",value:"\\r",description:'"\\\\r"'},gt=function(){return"\r"},bt="\\U",ht={type:"literal",value:"\\U",description:'"\\\\U"'},vt=function(e){return function(e,t,n){var r=parseInt("0x"+e);if(!(!isFinite(r)||Math.floor(r)!=r||r<0||r>1114111||r>55295&&r<57344))return function(){var e,t,n=[],r=-1,a=arguments.length;if(!a)return"";var i="";for(;++r<a;){var o=Number(arguments[r]);o<=65535?n.push(o):(e=55296+((o-=65536)>>10),t=o%1024+56320,n.push(e,t)),(r+1==a||n.length>16384)&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i}(r);!function(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}("Invalid Unicode escape code: "+e,t,n)}(e.join(""))},xt="\\u",yt={type:"literal",value:"\\u",description:'"\\\\u"'},wt=0,kt=0,jt=0,Ot={line:1,column:1,seenCR:!1},Et=0,_t=[],Nt=0,St={};if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');o=i[r.startRule]}function Ct(){return It(kt).line}function Pt(){return It(kt).column}function It(e){return jt!==e&&(jt>e&&(jt=0,Ot={line:1,column:1,seenCR:!1}),function(e,n,r){var a,i;for(a=n;a<r;a++)"\n"===(i=t.charAt(a))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(Ot,jt,e),jt=e),Ot}function At(e){wt<Et||(wt>Et&&(Et=wt,_t=[]),_t.push(e))}function Rt(n,r,a){var i=It(a),o=a<t.length?t.charAt(a):null;return null!==r&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(null!==n?n:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(r,o),r,o,a,i.line,i.column)}function Tt(){var e,t,n,r=49*wt+0,i=St[r];if(i)return wt=i.nextPos,i.result;for(e=wt,t=[],n=Mt();n!==a;)t.push(n),n=Mt();return t!==a&&(kt=e,t=s()),e=t,St[r]={nextPos:wt,result:e},e}function Mt(){var e,n,r,i,o,s,c,u=49*wt+1,d=St[u];if(d)return wt=d.nextPos,d.result;for(e=wt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=function(){var e,n=49*wt+2,r=St[n];if(r)return wt=r.nextPos,r.result;(e=Lt())===a&&(e=function(){var e,n,r,i,o,s,c=49*wt+4,u=St[c];if(u)return wt=u.nextPos,u.result;e=wt,91===t.charCodeAt(wt)?(n=f,wt++):(n=a,0===Nt&&At(m));if(n!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();if(r!==a)if((i=Dt())!==a){for(o=[],s=rn();s!==a;)o.push(s),s=rn();o!==a?(93===t.charCodeAt(wt)?(s=g,wt++):(s=a,0===Nt&&At(b)),s!==a?(kt=e,n=h(i),e=n):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;return St[c]={nextPos:wt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s,c,u,d=49*wt+5,p=St[d];if(p)return wt=p.nextPos,p.result;e=wt,91===t.charCodeAt(wt)?(n=f,wt++):(n=a,0===Nt&&At(m));if(n!==a)if(91===t.charCodeAt(wt)?(r=f,wt++):(r=a,0===Nt&&At(m)),r!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if((o=Dt())!==a){for(s=[],c=rn();c!==a;)s.push(c),c=rn();s!==a?(93===t.charCodeAt(wt)?(c=g,wt++):(c=a,0===Nt&&At(b)),c!==a?(93===t.charCodeAt(wt)?(u=g,wt++):(u=a,0===Nt&&At(b)),u!==a?(kt=e,n=v(o),e=n):(wt=e,e=l)):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;else wt=e,e=l;return St[d]={nextPos:wt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s,c=49*wt+9,u=St[c];if(u)return wt=u.nextPos,u.result;if(e=wt,(n=Ut())!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();if(r!==a)if(61===t.charCodeAt(wt)?(i=O,wt++):(i=a,0===Nt&&At(E)),i!==a){for(o=[],s=rn();s!==a;)o.push(s),s=rn();o!==a&&(s=Bt())!==a?(kt=e,n=_(n,s),e=n):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;if(e===a)if(e=wt,(n=Ht())!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();if(r!==a)if(61===t.charCodeAt(wt)?(i=O,wt++):(i=a,0===Nt&&At(E)),i!==a){for(o=[],s=rn();s!==a;)o.push(s),s=rn();o!==a&&(s=Bt())!==a?(kt=e,n=_(n,s),e=n):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;return St[c]={nextPos:wt,result:e},e}());return St[n]={nextPos:wt,result:e},e}())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a){for(o=[],s=Lt();s!==a;)o.push(s),s=Lt();if(o!==a){if(s=[],(c=an())!==a)for(;c!==a;)s.push(c),c=an();else s=l;s===a&&(s=sn()),s!==a?e=n=[n,r,i,o,s]:(wt=e,e=l)}else wt=e,e=l}else wt=e,e=l}else wt=e,e=l;else wt=e,e=l;if(e===a){if(e=wt,n=[],(r=rn())!==a)for(;r!==a;)n.push(r),r=rn();else n=l;if(n!==a){if(r=[],(i=an())!==a)for(;i!==a;)r.push(i),i=an();else r=l;r===a&&(r=sn()),r!==a?e=n=[n,r]:(wt=e,e=l)}else wt=e,e=l;e===a&&(e=an())}return St[u]={nextPos:wt,result:e},e}function Lt(){var e,n,r,i,o,s,f=49*wt+3,m=St[f];if(m)return wt=m.nextPos,m.result;if(e=wt,35===t.charCodeAt(wt)?(n=c,wt++):(n=a,0===Nt&&At(u)),n!==a){for(r=[],i=wt,o=wt,Nt++,(s=an())===a&&(s=sn()),Nt--,s===a?o=d:(wt=o,o=l),o!==a?(t.length>wt?(s=t.charAt(wt),wt++):(s=a,0===Nt&&At(p)),s!==a?i=o=[o,s]:(wt=i,i=l)):(wt=i,i=l);i!==a;)r.push(i),i=wt,o=wt,Nt++,(s=an())===a&&(s=sn()),Nt--,s===a?o=d:(wt=o,o=l),o!==a?(t.length>wt?(s=t.charAt(wt),wt++):(s=a,0===Nt&&At(p)),s!==a?i=o=[o,s]:(wt=i,i=l)):(wt=i,i=l);r!==a?e=n=[n,r]:(wt=e,e=l)}else wt=e,e=l;return St[f]={nextPos:wt,result:e},e}function Dt(){var e,t,n,r=49*wt+6,i=St[r];if(i)return wt=i.nextPos,i.result;if(e=wt,t=[],(n=Ft())!==a)for(;n!==a;)t.push(n),n=Ft();else t=l;return t!==a&&(n=zt())!==a?(kt=e,e=t=x(t,n)):(wt=e,e=l),e===a&&(e=wt,(t=zt())!==a&&(kt=e,t=y(t)),e=t),St[r]={nextPos:wt,result:e},e}function zt(){var e,t,n,r,i,o=49*wt+7,s=St[o];if(s)return wt=s.nextPos,s.result;for(e=wt,t=[],n=rn();n!==a;)t.push(n),n=rn();if(t!==a)if((n=Ut())!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();r!==a?(kt=e,e=t=w(n)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l;if(e===a){for(e=wt,t=[],n=rn();n!==a;)t.push(n),n=rn();if(t!==a)if((n=Ht())!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();r!==a?(kt=e,e=t=w(n)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}return St[o]={nextPos:wt,result:e},e}function Ft(){var e,n,r,i,o,s,c,u=49*wt+8,d=St[u];if(d)return wt=d.nextPos,d.result;for(e=wt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=Ut())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if(46===t.charCodeAt(wt)?(o=k,wt++):(o=a,0===Nt&&At(j)),o!==a){for(s=[],c=rn();c!==a;)s.push(c),c=rn();s!==a?(kt=e,e=n=w(r)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;else wt=e,e=l;if(e===a){for(e=wt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=Ht())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if(46===t.charCodeAt(wt)?(o=k,wt++):(o=a,0===Nt&&At(j)),o!==a){for(s=[],c=rn();c!==a;)s.push(c),c=rn();s!==a?(kt=e,e=n=w(r)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;else wt=e,e=l}return St[u]={nextPos:wt,result:e},e}function Ut(){var e,t,n,r=49*wt+10,i=St[r];if(i)return wt=i.nextPos,i.result;if(e=wt,t=[],(n=un())!==a)for(;n!==a;)t.push(n),n=un();else t=l;return t!==a&&(kt=e,t=N(t)),e=t,St[r]={nextPos:wt,result:e},e}function Ht(){var e,t,n=49*wt+11,r=St[n];return r?(wt=r.nextPos,r.result):(e=wt,(t=Vt())!==a&&(kt=e,t=S(t)),(e=t)===a&&(e=wt,(t=Kt())!==a&&(kt=e,t=S(t)),e=t),St[n]={nextPos:wt,result:e},e)}function Bt(){var e,n=49*wt+12,r=St[n];return r?(wt=r.nextPos,r.result):((e=function(){var e,n=49*wt+13,r=St[n];if(r)return wt=r.nextPos,r.result;(e=function(){var e,n,r,i,o,s=49*wt+14,c=St[s];if(c)return wt=c.nextPos,c.result;e=wt,t.substr(wt,3)===C?(n=C,wt+=3):(n=a,0===Nt&&At(P));if(n!==a)if((r=an())===a&&(r=I),r!==a){for(i=[],o=Wt();o!==a;)i.push(o),o=Wt();i!==a?(t.substr(wt,3)===C?(o=C,wt+=3):(o=a,0===Nt&&At(P)),o!==a?(kt=e,n=A(i),e=n):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l;return St[s]={nextPos:wt,result:e},e}())===a&&(e=Vt())===a&&(e=function(){var e,n,r,i,o,s=49*wt+16,c=St[s];if(c)return wt=c.nextPos,c.result;e=wt,t.substr(wt,3)===M?(n=M,wt+=3):(n=a,0===Nt&&At(L));if(n!==a)if((r=an())===a&&(r=I),r!==a){for(i=[],o=Yt();o!==a;)i.push(o),o=Yt();i!==a?(t.substr(wt,3)===M?(o=M,wt+=3):(o=a,0===Nt&&At(L)),o!==a?(kt=e,n=A(i),e=n):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l;return St[s]={nextPos:wt,result:e},e}())===a&&(e=Kt());return St[n]={nextPos:wt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s=49*wt+38,c=St[s];if(c)return wt=c.nextPos,c.result;e=wt,(n=nn())!==a?(84===t.charCodeAt(wt)?(r=Ne,wt++):(r=a,0===Nt&&At(Se)),r!==a&&(i=function(){var e,n,r,i,o,s,c,u,d,p,f,m=49*wt+36,g=St[m];if(g)return wt=g.nextPos,g.result;e=wt,n=wt,(r=cn())!==a&&(i=cn())!==a?(58===t.charCodeAt(wt)?(o=Oe,wt++):(o=a,0===Nt&&At(Ee)),o!==a&&(s=cn())!==a&&(c=cn())!==a?(58===t.charCodeAt(wt)?(u=Oe,wt++):(u=a,0===Nt&&At(Ee)),u!==a&&(d=cn())!==a&&(p=cn())!==a?((f=tn())===a&&(f=I),f!==a?n=r=[r,i,o,s,c,u,d,p,f]:(wt=n,n=l)):(wt=n,n=l)):(wt=n,n=l)):(wt=n,n=l);n!==a&&(kt=e,n=_e(n));return e=n,St[m]={nextPos:wt,result:e},e}())!==a?(90===t.charCodeAt(wt)?(o=Ce,wt++):(o=a,0===Nt&&At(Pe)),o!==a?(kt=e,n=Ie(n,i),e=n):(wt=e,e=l)):(wt=e,e=l)):(wt=e,e=l);e===a&&(e=wt,(n=nn())!==a?(84===t.charCodeAt(wt)?(r=Ne,wt++):(r=a,0===Nt&&At(Se)),r!==a&&(i=function(){var e,n,r,i,o,s,c,u,d,p,f,m,g,b,h,v,x,y=49*wt+37,w=St[y];if(w)return wt=w.nextPos,w.result;e=wt,n=wt,(r=cn())!==a&&(i=cn())!==a?(58===t.charCodeAt(wt)?(o=Oe,wt++):(o=a,0===Nt&&At(Ee)),o!==a&&(s=cn())!==a&&(c=cn())!==a?(58===t.charCodeAt(wt)?(u=Oe,wt++):(u=a,0===Nt&&At(Ee)),u!==a&&(d=cn())!==a&&(p=cn())!==a?((f=tn())===a&&(f=I),f!==a?(45===t.charCodeAt(wt)?(m=Z,wt++):(m=a,0===Nt&&At(ee)),m===a&&(43===t.charCodeAt(wt)?(m=$,wt++):(m=a,0===Nt&&At(Q))),m!==a&&(g=cn())!==a&&(b=cn())!==a?(58===t.charCodeAt(wt)?(h=Oe,wt++):(h=a,0===Nt&&At(Ee)),h!==a&&(v=cn())!==a&&(x=cn())!==a?n=r=[r,i,o,s,c,u,d,p,f,m,g,b,h,v,x]:(wt=n,n=l)):(wt=n,n=l)):(wt=n,n=l)):(wt=n,n=l)):(wt=n,n=l)):(wt=n,n=l);n!==a&&(kt=e,n=_e(n));return e=n,St[y]={nextPos:wt,result:e},e}())!==a?(kt=e,n=Ae(n,i),e=n):(wt=e,e=l)):(wt=e,e=l));return St[s]={nextPos:wt,result:e},e}())===a&&(e=function(){var e,n,r,i,o=49*wt+23,s=St[o];if(s)return wt=s.nextPos,s.result;e=wt,(n=Xt())===a&&(n=$t());n!==a?(101===t.charCodeAt(wt)?(r=K,wt++):(r=a,0===Nt&&At(G)),r===a&&(69===t.charCodeAt(wt)?(r=q,wt++):(r=a,0===Nt&&At(W))),r!==a&&(i=$t())!==a?(kt=e,n=Y(n,i),e=n):(wt=e,e=l)):(wt=e,e=l);e===a&&(e=wt,(n=Xt())!==a&&(kt=e,n=X(n)),e=n);return St[o]={nextPos:wt,result:e},e}())===a&&(e=function(){var e,t,n=49*wt+25,r=St[n];if(r)return wt=r.nextPos,r.result;e=wt,(t=$t())!==a&&(kt=e,t=ne(t));return e=t,St[n]={nextPos:wt,result:e},e}())===a&&(e=function(){var e,n,r=49*wt+27,i=St[r];if(i)return wt=i.nextPos,i.result;e=wt,t.substr(wt,4)===re?(n=re,wt+=4):(n=a,0===Nt&&At(ae));n!==a&&(kt=e,n=ie());(e=n)===a&&(e=wt,t.substr(wt,5)===oe?(n=oe,wt+=5):(n=a,0===Nt&&At(se)),n!==a&&(kt=e,n=le()),e=n);return St[r]={nextPos:wt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s=49*wt+28,c=St[s];if(c)return wt=c.nextPos,c.result;e=wt,91===t.charCodeAt(wt)?(n=f,wt++):(n=a,0===Nt&&At(m));if(n!==a){for(r=[],i=Zt();i!==a;)r.push(i),i=Zt();r!==a?(93===t.charCodeAt(wt)?(i=g,wt++):(i=a,0===Nt&&At(b)),i!==a?(kt=e,n=ce(),e=n):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;if(e===a&&(e=wt,91===t.charCodeAt(wt)?(n=f,wt++):(n=a,0===Nt&&At(m)),n!==a?((r=Qt())===a&&(r=I),r!==a?(93===t.charCodeAt(wt)?(i=g,wt++):(i=a,0===Nt&&At(b)),i!==a?(kt=e,n=ue(r),e=n):(wt=e,e=l)):(wt=e,e=l)):(wt=e,e=l),e===a)){if(e=wt,91===t.charCodeAt(wt)?(n=f,wt++):(n=a,0===Nt&&At(m)),n!==a){if(r=[],(i=Jt())!==a)for(;i!==a;)r.push(i),i=Jt();else r=l;r!==a?(93===t.charCodeAt(wt)?(i=g,wt++):(i=a,0===Nt&&At(b)),i!==a?(kt=e,n=de(r),e=n):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;if(e===a)if(e=wt,91===t.charCodeAt(wt)?(n=f,wt++):(n=a,0===Nt&&At(m)),n!==a){if(r=[],(i=Jt())!==a)for(;i!==a;)r.push(i),i=Jt();else r=l;r!==a&&(i=Qt())!==a?(93===t.charCodeAt(wt)?(o=g,wt++):(o=a,0===Nt&&At(b)),o!==a?(kt=e,n=pe(r,i),e=n):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l}return St[s]={nextPos:wt,result:e},e}())===a&&(e=function(){var e,n,r,i,o,s,c=49*wt+32,u=St[c];if(u)return wt=u.nextPos,u.result;e=wt,123===t.charCodeAt(wt)?(n=be,wt++):(n=a,0===Nt&&At(he));if(n!==a){for(r=[],i=rn();i!==a;)r.push(i),i=rn();if(r!==a){for(i=[],o=en();o!==a;)i.push(o),o=en();if(i!==a){for(o=[],s=rn();s!==a;)o.push(s),s=rn();o!==a?(125===t.charCodeAt(wt)?(s=ve,wt++):(s=a,0===Nt&&At(xe)),s!==a?(kt=e,n=ye(i),e=n):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l}else wt=e,e=l}else wt=e,e=l;return St[c]={nextPos:wt,result:e},e}()),St[n]={nextPos:wt,result:e},e)}function Vt(){var e,n,r,i,o=49*wt+15,s=St[o];if(s)return wt=s.nextPos,s.result;if(e=wt,34===t.charCodeAt(wt)?(n=R,wt++):(n=a,0===Nt&&At(T)),n!==a){for(r=[],i=Gt();i!==a;)r.push(i),i=Gt();r!==a?(34===t.charCodeAt(wt)?(i=R,wt++):(i=a,0===Nt&&At(T)),i!==a?(kt=e,e=n=A(r)):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;return St[o]={nextPos:wt,result:e},e}function Kt(){var e,n,r,i,o=49*wt+17,s=St[o];if(s)return wt=s.nextPos,s.result;if(e=wt,39===t.charCodeAt(wt)?(n=D,wt++):(n=a,0===Nt&&At(z)),n!==a){for(r=[],i=qt();i!==a;)r.push(i),i=qt();r!==a?(39===t.charCodeAt(wt)?(i=D,wt++):(i=a,0===Nt&&At(z)),i!==a?(kt=e,e=n=A(r)):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;return St[o]={nextPos:wt,result:e},e}function Gt(){var e,n,r,i=49*wt+18,o=St[i];return o?(wt=o.nextPos,o.result):((e=pn())===a&&(e=wt,n=wt,Nt++,34===t.charCodeAt(wt)?(r=R,wt++):(r=a,0===Nt&&At(T)),Nt--,r===a?n=d:(wt=n,n=l),n!==a?(t.length>wt?(r=t.charAt(wt),wt++):(r=a,0===Nt&&At(p)),r!==a?(kt=e,e=n=F(r)):(wt=e,e=l)):(wt=e,e=l)),St[i]={nextPos:wt,result:e},e)}function qt(){var e,n,r,i=49*wt+19,o=St[i];return o?(wt=o.nextPos,o.result):(e=wt,n=wt,Nt++,39===t.charCodeAt(wt)?(r=D,wt++):(r=a,0===Nt&&At(z)),Nt--,r===a?n=d:(wt=n,n=l),n!==a?(t.length>wt?(r=t.charAt(wt),wt++):(r=a,0===Nt&&At(p)),r!==a?(kt=e,e=n=F(r)):(wt=e,e=l)):(wt=e,e=l),St[i]={nextPos:wt,result:e},e)}function Wt(){var e,n,r,i=49*wt+20,o=St[i];return o?(wt=o.nextPos,o.result):((e=pn())===a&&(e=function(){var e,n,r,i,o=49*wt+21,s=St[o];if(s)return wt=s.nextPos,s.result;e=wt,92===t.charCodeAt(wt)?(n=H,wt++):(n=a,0===Nt&&At(B));if(n!==a)if(an()!==a){for(r=[],i=on();i!==a;)r.push(i),i=on();r!==a?(kt=e,n=V(),e=n):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l;return St[o]={nextPos:wt,result:e},e}())===a&&(e=wt,n=wt,Nt++,t.substr(wt,3)===C?(r=C,wt+=3):(r=a,0===Nt&&At(P)),Nt--,r===a?n=d:(wt=n,n=l),n!==a?(t.length>wt?(r=t.charAt(wt),wt++):(r=a,0===Nt&&At(p)),r!==a?(kt=e,e=n=U(r)):(wt=e,e=l)):(wt=e,e=l)),St[i]={nextPos:wt,result:e},e)}function Yt(){var e,n,r,i=49*wt+22,o=St[i];return o?(wt=o.nextPos,o.result):(e=wt,n=wt,Nt++,t.substr(wt,3)===M?(r=M,wt+=3):(r=a,0===Nt&&At(L)),Nt--,r===a?n=d:(wt=n,n=l),n!==a?(t.length>wt?(r=t.charAt(wt),wt++):(r=a,0===Nt&&At(p)),r!==a?(kt=e,e=n=F(r)):(wt=e,e=l)):(wt=e,e=l),St[i]={nextPos:wt,result:e},e)}function Xt(){var e,n,r,i,o,s,c=49*wt+24,u=St[c];return u?(wt=u.nextPos,u.result):(e=wt,43===t.charCodeAt(wt)?(n=$,wt++):(n=a,0===Nt&&At(Q)),n===a&&(n=I),n!==a?(r=wt,(i=dn())!==a?(46===t.charCodeAt(wt)?(o=k,wt++):(o=a,0===Nt&&At(j)),o!==a&&(s=dn())!==a?r=i=[i,o,s]:(wt=r,r=l)):(wt=r,r=l),r!==a?(kt=e,e=n=J(r)):(wt=e,e=l)):(wt=e,e=l),e===a&&(e=wt,45===t.charCodeAt(wt)?(n=Z,wt++):(n=a,0===Nt&&At(ee)),n!==a?(r=wt,(i=dn())!==a?(46===t.charCodeAt(wt)?(o=k,wt++):(o=a,0===Nt&&At(j)),o!==a&&(s=dn())!==a?r=i=[i,o,s]:(wt=r,r=l)):(wt=r,r=l),r!==a?(kt=e,e=n=te(r)):(wt=e,e=l)):(wt=e,e=l)),St[c]={nextPos:wt,result:e},e)}function $t(){var e,n,r,i,o,s=49*wt+26,c=St[s];if(c)return wt=c.nextPos,c.result;if(e=wt,43===t.charCodeAt(wt)?(n=$,wt++):(n=a,0===Nt&&At(Q)),n===a&&(n=I),n!==a){if(r=[],(i=cn())!==a)for(;i!==a;)r.push(i),i=cn();else r=l;r!==a?(i=wt,Nt++,46===t.charCodeAt(wt)?(o=k,wt++):(o=a,0===Nt&&At(j)),Nt--,o===a?i=d:(wt=i,i=l),i!==a?(kt=e,e=n=J(r)):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;if(e===a)if(e=wt,45===t.charCodeAt(wt)?(n=Z,wt++):(n=a,0===Nt&&At(ee)),n!==a){if(r=[],(i=cn())!==a)for(;i!==a;)r.push(i),i=cn();else r=l;r!==a?(i=wt,Nt++,46===t.charCodeAt(wt)?(o=k,wt++):(o=a,0===Nt&&At(j)),Nt--,o===a?i=d:(wt=i,i=l),i!==a?(kt=e,e=n=te(r)):(wt=e,e=l)):(wt=e,e=l)}else wt=e,e=l;return St[s]={nextPos:wt,result:e},e}function Qt(){var e,t,n,r,i,o=49*wt+29,s=St[o];if(s)return wt=s.nextPos,s.result;for(e=wt,t=[],n=Zt();n!==a;)t.push(n),n=Zt();if(t!==a)if((n=Bt())!==a){for(r=[],i=Zt();i!==a;)r.push(i),i=Zt();r!==a?(kt=e,e=t=fe(n)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l;return St[o]={nextPos:wt,result:e},e}function Jt(){var e,n,r,i,o,s,c,u=49*wt+30,d=St[u];if(d)return wt=d.nextPos,d.result;for(e=wt,n=[],r=Zt();r!==a;)n.push(r),r=Zt();if(n!==a)if((r=Bt())!==a){for(i=[],o=Zt();o!==a;)i.push(o),o=Zt();if(i!==a)if(44===t.charCodeAt(wt)?(o=me,wt++):(o=a,0===Nt&&At(ge)),o!==a){for(s=[],c=Zt();c!==a;)s.push(c),c=Zt();s!==a?(kt=e,e=n=fe(r)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;else wt=e,e=l;return St[u]={nextPos:wt,result:e},e}function Zt(){var e,t=49*wt+31,n=St[t];return n?(wt=n.nextPos,n.result):((e=rn())===a&&(e=an())===a&&(e=Lt()),St[t]={nextPos:wt,result:e},e)}function en(){var e,n,r,i,o,s,c,u,d,p,f,m=49*wt+33,g=St[m];if(g)return wt=g.nextPos,g.result;for(e=wt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=Ut())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if(61===t.charCodeAt(wt)?(o=O,wt++):(o=a,0===Nt&&At(E)),o!==a){for(s=[],c=rn();c!==a;)s.push(c),c=rn();if(s!==a)if((c=Bt())!==a){for(u=[],d=rn();d!==a;)u.push(d),d=rn();if(u!==a)if(44===t.charCodeAt(wt)?(d=me,wt++):(d=a,0===Nt&&At(ge)),d!==a){for(p=[],f=rn();f!==a;)p.push(f),f=rn();p!==a?(kt=e,e=n=we(r,c)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;else wt=e,e=l;if(e===a){for(e=wt,n=[],r=rn();r!==a;)n.push(r),r=rn();if(n!==a)if((r=Ut())!==a){for(i=[],o=rn();o!==a;)i.push(o),o=rn();if(i!==a)if(61===t.charCodeAt(wt)?(o=O,wt++):(o=a,0===Nt&&At(E)),o!==a){for(s=[],c=rn();c!==a;)s.push(c),c=rn();s!==a&&(c=Bt())!==a?(kt=e,e=n=we(r,c)):(wt=e,e=l)}else wt=e,e=l;else wt=e,e=l}else wt=e,e=l;else wt=e,e=l}return St[m]={nextPos:wt,result:e},e}function tn(){var e,n,r,i=49*wt+34,o=St[i];return o?(wt=o.nextPos,o.result):(e=wt,46===t.charCodeAt(wt)?(n=k,wt++):(n=a,0===Nt&&At(j)),n!==a&&(r=dn())!==a?(kt=e,e=n=ke(r)):(wt=e,e=l),St[i]={nextPos:wt,result:e},e)}function nn(){var e,n,r,i,o,s,c,u,d,p,f,m,g=49*wt+35,b=St[g];return b?(wt=b.nextPos,b.result):(e=wt,n=wt,(r=cn())!==a&&(i=cn())!==a&&(o=cn())!==a&&(s=cn())!==a?(45===t.charCodeAt(wt)?(c=Z,wt++):(c=a,0===Nt&&At(ee)),c!==a&&(u=cn())!==a&&(d=cn())!==a?(45===t.charCodeAt(wt)?(p=Z,wt++):(p=a,0===Nt&&At(ee)),p!==a&&(f=cn())!==a&&(m=cn())!==a?n=r=[r,i,o,s,c,u,d,p,f,m]:(wt=n,n=l)):(wt=n,n=l)):(wt=n,n=l),n!==a&&(kt=e,n=je(n)),e=n,St[g]={nextPos:wt,result:e},e)}function rn(){var e,n=49*wt+39,r=St[n];return r?(wt=r.nextPos,r.result):(Re.test(t.charAt(wt))?(e=t.charAt(wt),wt++):(e=a,0===Nt&&At(Te)),St[n]={nextPos:wt,result:e},e)}function an(){var e,n,r,i=49*wt+40,o=St[i];return o?(wt=o.nextPos,o.result):(10===t.charCodeAt(wt)?(e=Me,wt++):(e=a,0===Nt&&At(Le)),e===a&&(e=wt,13===t.charCodeAt(wt)?(n=De,wt++):(n=a,0===Nt&&At(ze)),n!==a?(10===t.charCodeAt(wt)?(r=Me,wt++):(r=a,0===Nt&&At(Le)),r!==a?e=n=[n,r]:(wt=e,e=l)):(wt=e,e=l)),St[i]={nextPos:wt,result:e},e)}function on(){var e,t=49*wt+41,n=St[t];return n?(wt=n.nextPos,n.result):((e=an())===a&&(e=rn()),St[t]={nextPos:wt,result:e},e)}function sn(){var e,n,r=49*wt+42,i=St[r];return i?(wt=i.nextPos,i.result):(e=wt,Nt++,t.length>wt?(n=t.charAt(wt),wt++):(n=a,0===Nt&&At(p)),Nt--,n===a?e=d:(wt=e,e=l),St[r]={nextPos:wt,result:e},e)}function ln(){var e,n=49*wt+43,r=St[n];return r?(wt=r.nextPos,r.result):(Fe.test(t.charAt(wt))?(e=t.charAt(wt),wt++):(e=a,0===Nt&&At(Ue)),St[n]={nextPos:wt,result:e},e)}function cn(){var e,n,r=49*wt+44,i=St[r];return i?(wt=i.nextPos,i.result):(He.test(t.charAt(wt))?(e=t.charAt(wt),wt++):(e=a,0===Nt&&At(Be)),e===a&&(e=wt,95===t.charCodeAt(wt)?(n=Ve,wt++):(n=a,0===Nt&&At(Ke)),n!==a&&(kt=e,n=Ge()),e=n),St[r]={nextPos:wt,result:e},e)}function un(){var e,n=49*wt+45,r=St[n];return r?(wt=r.nextPos,r.result):(qe.test(t.charAt(wt))?(e=t.charAt(wt),wt++):(e=a,0===Nt&&At(We)),St[n]={nextPos:wt,result:e},e)}function dn(){var e,t,n,r=49*wt+46,i=St[r];if(i)return wt=i.nextPos,i.result;if(e=wt,t=[],(n=cn())!==a)for(;n!==a;)t.push(n),n=cn();else t=l;return t!==a&&(kt=e,t=Ye(t)),e=t,St[r]={nextPos:wt,result:e},e}function pn(){var e,n,r=49*wt+47,i=St[r];return i?(wt=i.nextPos,i.result):(e=wt,t.substr(wt,2)===Xe?(n=Xe,wt+=2):(n=a,0===Nt&&At($e)),n!==a&&(kt=e,n=Qe()),(e=n)===a&&(e=wt,t.substr(wt,2)===Je?(n=Je,wt+=2):(n=a,0===Nt&&At(Ze)),n!==a&&(kt=e,n=et()),(e=n)===a&&(e=wt,t.substr(wt,2)===tt?(n=tt,wt+=2):(n=a,0===Nt&&At(nt)),n!==a&&(kt=e,n=rt()),(e=n)===a&&(e=wt,t.substr(wt,2)===at?(n=at,wt+=2):(n=a,0===Nt&&At(it)),n!==a&&(kt=e,n=ot()),(e=n)===a&&(e=wt,t.substr(wt,2)===st?(n=st,wt+=2):(n=a,0===Nt&&At(lt)),n!==a&&(kt=e,n=ct()),(e=n)===a&&(e=wt,t.substr(wt,2)===ut?(n=ut,wt+=2):(n=a,0===Nt&&At(dt)),n!==a&&(kt=e,n=pt()),(e=n)===a&&(e=wt,t.substr(wt,2)===ft?(n=ft,wt+=2):(n=a,0===Nt&&At(mt)),n!==a&&(kt=e,n=gt()),(e=n)===a&&(e=function(){var e,n,r,i,o,s,c,u,d,p,f,m=49*wt+48,g=St[m];if(g)return wt=g.nextPos,g.result;e=wt,t.substr(wt,2)===bt?(n=bt,wt+=2):(n=a,0===Nt&&At(ht));n!==a?(r=wt,(i=ln())!==a&&(o=ln())!==a&&(s=ln())!==a&&(c=ln())!==a&&(u=ln())!==a&&(d=ln())!==a&&(p=ln())!==a&&(f=ln())!==a?r=i=[i,o,s,c,u,d,p,f]:(wt=r,r=l),r!==a?(kt=e,n=vt(r),e=n):(wt=e,e=l)):(wt=e,e=l);e===a&&(e=wt,t.substr(wt,2)===xt?(n=xt,wt+=2):(n=a,0===Nt&&At(yt)),n!==a?(r=wt,(i=ln())!==a&&(o=ln())!==a&&(s=ln())!==a&&(c=ln())!==a?r=i=[i,o,s,c]:(wt=r,r=l),r!==a?(kt=e,n=vt(r),e=n):(wt=e,e=l)):(wt=e,e=l));return St[m]={nextPos:wt,result:e},e}()))))))),St[r]={nextPos:wt,result:e},e)}var fn=[];function mn(e){fn.push(e)}function gn(e,t,n,r,a){var i={type:e,value:t,line:n(),column:r()};return a&&(i.key=a),i}if((n=o())!==a&&wt===t.length)return n;throw n!==a&&wt<t.length&&At({type:"end",description:"end of input"}),Rt(null,_t,Et)}}}()},nmnc:function(e,t,n){var r=n("Kz5y").Symbol;e.exports=r},pP2D:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n("7FmB"),s=n.n(o),l=i.createElement;function c(e){var t=e.renderingMarkdown,n=e.onToggle;return l("div",{className:"jsx-3916141838"},l(s.a,{filled:!0,onClick:function(){return n(!t)}},t?"edit":"preview"),l(a.a,{id:"3916141838"},["div.jsx-3916141838{position:absolute;right:var(--spacing-2);top:var(--spacing-2);z-index:10;}"]))}},q0kf:function(e,t,n){var r=n("mLbZ"),a=n("XPNs");e.exports={parse:function(e){var t=r.parse(e.toString());return a.compile(t)}}},sEfC:function(e,t,n){var r=n("GoyQ"),a=n("QIyF"),i=n("tLB3"),o="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,t,n){var c,u,d,p,f,m,g=0,b=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError(o);function x(t){var n=c,r=u;return c=u=void 0,g=t,p=e.apply(r,n)}function y(e){var n=e-m;return void 0===m||n>=t||n<0||h&&e-g>=d}function w(){var e=a();if(y(e))return k(e);f=setTimeout(w,function(e){var n=t-(e-m);return h?l(n,d-(e-g)):n}(e))}function k(e){return f=void 0,v&&c?x(e):(c=u=void 0,p)}function j(){var e=a(),n=y(e);if(c=arguments,u=this,m=e,n){if(void 0===f)return function(e){return g=e,f=setTimeout(w,t),b?x(e):p}(m);if(h)return f=setTimeout(w,t),x(m)}return void 0===f&&(f=setTimeout(w,t)),p}return t=i(t)||0,r(n)&&(b=!!n.leading,d=(h="maxWait"in n)?s(i(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),j.cancel=function(){void 0!==f&&clearTimeout(f),g=0,c=m=u=f=void 0},j.flush=function(){return void 0===f?p:k(a())},j}},tLB3:function(e,t,n){var r=n("GoyQ"),a=n("/9aa"),i=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}},tidx:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("0iUn"),a=n("sLSF"),i=n("MI3g"),o=n("a7VT"),s=n("Tit0"),l=n("MX0m"),c=n.n(l),u=n("q1tI"),d=n("2tbh"),p=u.createElement,f=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={isLogin:!!n.props.showLoginFirst},n.handleChangeAuth=function(){n.setState((function(e){return{isLogin:!e.isLogin}}))},n.handleSubmit=function(e){e.error&&n.props.onFailure(e),e.user&&n.props.onSuccess(e)},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this;return p("div",{className:"jsx-1357160409 auth-modal"},this.props.title&&p("div",{className:"jsx-1357160409 auth-modal-title"},this.props.title),this.props.description&&p("div",{className:"jsx-1357160409 auth-modal-description"},this.props.description),p(d.a,{onChangeAuth:this.handleChangeAuth,isTeacher:this.props.isTeacher,isLogin:this.state.isLogin,onSubmit:this.handleSubmit}),this.props.allowAnon&&p("div",{className:"jsx-1357160409 auth-modal-anon"},p("a",{onClick:function(){return e.props.onSuccess()},className:"jsx-1357160409"},"continue as Anonymous")),p(c.a,{id:"1357160409"},[".auth-modal.jsx-1357160409{width:500px;max-width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:60px 0;}",".auth-modal-title.jsx-1357160409{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;margin-left:60px;color:var(--color-foreground-1);font-size:20px;margin-bottom:20px;}",".auth-modal-description.jsx-1357160409{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;color:var(--color-foreground-1);font-size:16px;margin:0 60px 30px;line-height:22px;}",".auth-modal-anon.jsx-1357160409{margin-top:14px;font-size:14px;}",".auth-modal-anon.jsx-1357160409 a.jsx-1357160409{color:var(--color-primary-1);-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}"]))}}]),t}(u.Component);f.defaultProps={showLoginFirst:!1,isTeacher:!1,allowAnon:!1,onSuccess:function(){},onFailure:function(){}}},uLgn:function(e){e.exports=JSON.parse('{"basic":1,"replit-python":3,"replit-js":1}')},uXq4:function(e,t,n){var r=n("0T/a");r(r.S,"Number",{isNaN:function(e){return e!=e}})},v7Px:function(e,t,n){e.exports=n("ecRq")}},[[61,2,1,6,14,46,0,4,5,3,7,9,10,16,17,19,20,21,32,31,29,28,27,38,39]]]);
//# sourceMappingURL=replEnvironment.js.map