(window.webpackJsonp=window.webpackJsonp||[]).push([[38,25],{"+7wc":function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return M})),n.d(t,"reducer",(function(){return K}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("vYYK"),g=n("XXOK"),m=n.n(g),v=n("MX0m"),x=n.n(v),w=n("q1tI"),y=n.n(w),k=n("/MKj"),E=n("9/5/"),j=n.n(E),O=n("zgDP"),_=n("imBe"),C=n("nG0Z"),N=n("eKMU"),T=n("h7rM"),S=n("Qbrf"),I=n("lixr"),R=n("A3V5"),L=n.n(R),A=n("TyLv"),D=y.a.createElement;function P(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):P(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function M(e){var t=e.style,n=e.wid,r=e.pud,a=Object(k.e)(),i=Object(k.f)((function(e){return Object(T.a)(e,n,r,"packager")})),o=i.listedPackages,s=i.selectedPackage,c=i.specfileListedPackages,l=i.isPackagerRunning,u=i.repl.language;Object(w.useEffect)((function(){Object(O.track)(O.events.LIBRARIES_SEARCHED,{wid:n,language:u}),a({type:"LIST_SPECFILE_PACKAGES",wid:n})}),[]);var d=function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=m()(c);!(t=(a=i.next()).done);t=!0){if(a.value.name===e.name)return!0}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1},p=function(e){Object(O.track)(O.events.PACKAGES_SEARCHED,{query:e}),a({type:"SEARCH_PACKAGES",query:e,wid:n})},f=function(e){null!==e&&Object(O.track)(O.events.PACKAGES_SELECTED,{package:e.name}),a({type:"SET_SELECTED_PACKAGE",package:e,wid:n,pud:r}),null!==e&&(a({type:"FETCH_PACKAGE_INFO",name:e.name,wid:n}),0===c.length&&a({type:"LIST_SPECFILE_PACKAGES",wid:n}))},b=Object(w.useState)(""),h=b[0],g=b[1];return D("div",{style:t,className:"jsx-4226866537 libsearch"},D("div",{className:"jsx-4226866537 libsearch-header"},D("div",{className:"jsx-4226866537 libsearch-heading"},"Packages")),s?D(U,{pkg:s,isPackagerRunning:l,isAlreadyInstalled:d(s),onInstall:function(e){Object(O.track)(O.events.PACKAGES_INSTALLING,{package:e.name}),d(e)||a({type:"ADD_PACKAGES",names:[e.name],wid:n})},onUninstall:function(e){d(e)&&a({type:"REMOVE_PACKAGES",names:[e.name],wid:n})},onBack:function(){return f(null)}}):D(G,{resetSearchState:function(){return p("")},onSearch:p,onSelectLibrary:f,libraries:o,specfilePackages:c,query:h,setQuery:g}),D(x.a,{id:"4226866537"},[".libsearch.jsx-4226866537{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--color-background-1);}",".libsearch-header.jsx-4226866537{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".libsearch-heading.jsx-4226866537{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}"]))}function U(e){var t=e.pkg,n=e.isPackagerRunning,r=e.isAlreadyInstalled,a=e.onBack,i=e.onInstall,o=e.onUninstall,s="description"in t?t.description:"This package has no description.";return D("div",{className:"jsx-2887066402 libsearch-details"},D("div",{onClick:a,className:"jsx-2887066402 libsearch-details-back"},D(L.a,{size:4.5,direction:"left",color:"currentColor"})," back to search"," "),D("div",{className:"jsx-2887066402 libsearch-details-header"},D("div",{className:"jsx-2887066402 libsearch-details-libname"},t.name),D("div",{onClick:function(){n||(r?o(t):i(t))},className:"jsx-2887066402 libsearch-details-cta"},D(H,{state:n?"working":r?"remove":"add"}))),"version"in t&&D("div",{className:"jsx-2887066402 libsearch-details-version"},"version ",t.version),D("div",{className:"jsx-2887066402 libsearch-details-description"},n&&!t.description?"loading...":s),D("div",{className:"jsx-2887066402 libsearch-details-metadata"},"homepageURL"in t&&t.homepageURL&&D("div",{className:"jsx-2887066402 details-meta-item libsearch-details-website"},D("div",{className:"jsx-2887066402 label"},"Website"),D("div",{className:"jsx-2887066402 value"},D("a",{href:t.homepageURL,rel:"noreferer noopener",target:"_blank",className:"jsx-2887066402"},t.homepageURL))),"license"in t&&t.license&&D("div",{className:"jsx-2887066402 details-meta-item libsearch-details-license"},D("div",{className:"jsx-2887066402 label"},"License"),D("div",{className:"jsx-2887066402 value"},t.license)),"author"in t&&t.author&&D("div",{className:"jsx-2887066402 details-meta-item libsearch-details-authors"},D("div",{className:"jsx-2887066402 label"},"Author"),D("div",{className:"jsx-2887066402 value"},t.author)),"dependencies"in t&&t.dependencies&&t.dependencies.length>0?D("div",{className:"jsx-2887066402 details-meta-item libsearch-details-deps"},D("div",{className:"jsx-2887066402 label"},t.dependencies.length," dependencies"),D("div",{className:"jsx-2887066402 value"},D("ul",{className:"jsx-2887066402 libsearch-details-deps-list"},t.dependencies.map((function(e){return D("li",{key:e.name||"",className:"jsx-2887066402"},e.name)}))))):null),D("div",{className:"jsx-2887066402 libsearch-details-seperator"}),D(x.a,{id:"2887066402"},[".libsearch-details.jsx-2887066402{padding:12px 15px;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow-y:auto;overflow-x:hidden;color:var(--color-foreground-2);}",".libsearch-details-back.jsx-2887066402{cursor:pointer;margin-bottom:20px;color:var(--color-foreground-2);}",".libsearch-details-back.jsx-2887066402:hover{color:var(--color-foreground-1);}",".libsearch-details-header.jsx-2887066402{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin-bottom:18px;}",".libsearch-details-libname.jsx-2887066402{font-size:1.5em;margin:6px;margin-left:0;word-wrap:break-word;}",".libsearch-details-cta.jsx-2887066402{margin-top:calc(1.25em - 12px);height:22px;width:22px;cursor:pointer;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".libsearch-details-title.jsx-2887066402{font-size:1.4em;}",".libsearch-details-version.jsx-2887066402{color:var(--color-foreground-2);font-size:1em;margin-bottom:24px;}",".libsearch-details-description.jsx-2887066402{margin-bottom:20px;line-height:1.3em;}",".libsearch-details-metadata.jsx-2887066402:not(:empty){border-top:1px solid var(--color-control-1);padding-top:20px;}",".details-meta-item.jsx-2887066402{padding:8px 0;width:100%;}",".details-meta-item.jsx-2887066402 .label.jsx-2887066402{font-weight:bold;margin-bottom:4px;font-size:1.1em;}",".details-meta-item.jsx-2887066402 .value.jsx-2887066402{line-height:1.3em;word-wrap:break-word;color:var(--color-foreground-2);}",".libsearch-details-website.jsx-2887066402 .value.jsx-2887066402{word-wrap:break-word;overflow:hidden;}",".libsearch-details-deps-list.jsx-2887066402{list-style:none;}"]))}function H(e){switch(e.state){case"working":return D("div",{title:"Working...",className:x.a.dynamic([["1455602669",["#78af87","#78af87"]]])+" rotato"},D(x.a,{id:"1455602669",dynamic:["#78af87","#78af87"]},["@-webkit-keyframes rotato-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes rotato-__jsx-style-dynamic-selector{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".rotato.__jsx-style-dynamic-selector{height:100%;width:100%;border-radius:50%;border-top:2px solid ".concat("#78af87",";border-right:2px solid ").concat("#78af87",";-webkit-animation:rotato-__jsx-style-dynamic-selector 1.6s linear infinite;animation:rotato-__jsx-style-dynamic-selector 1.6s linear infinite;cursor:not-allowed;}")]));case"add":return D(_.a,{position:"left"},D("div",null,"Add package"),D("div",{style:{height:22,width:22},title:"Add package"},D(C.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"})));default:case"remove":return D(_.a,{position:"left"},D("div",null,"Remove package"),D("div",{style:{height:22,width:22},title:"Remove package"},D(N.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"})))}}function G(e){var t=e.resetSearchState,n=e.onSearch,r=e.onSelectLibrary,a=e.libraries,i=e.specfilePackages,o=e.query,s=e.setQuery,c=Object(w.useState)(!1),l=c[0],u=c[1],d=Object(w.useState)(0),p=d[0],f=d[1],b=Object(w.useRef)();a!==b.current&&(u(!1),f(0)),b.current=a;var h=Object(w.useCallback)(j()(n,400),[]);var g=""===o,m=g?i:a;return D("div",{onKeyDown:function(e){function t(e){return(a.length+e)%a.length}switch(Object(A.a)(e),e.key){case"ArrowUp":e.preventDefault(),f(t(p-1));break;case"ArrowDown":e.preventDefault(),f(t(p+1));break;case"Tab":e.shiftKey?(e.preventDefault(),f(t(p-1))):(e.preventDefault(),f(t(p+1)));break;case"Enter":e.preventDefault(),-1!==p&&a.length>0&&r(a[p])}},className:"jsx-2366923719 libsearch-search"},D("div",{className:"jsx-2366923719 libsearch-search-input"},D("input",{type:"text",placeholder:"search for a package",value:o,onChange:function(e){s(e.target.value),function(e){if(""===e.trim())return t(),void u(!1);u(!0),h(e.trim())}(e.target.value)},autoFocus:!0,className:"jsx-2366923719"}),l&&D("div",{title:"loading",className:"jsx-2366923719 libsearch-search-loading"})),0===m.length&&!l&&D("div",{className:"jsx-2366923719 libsearch-search-no-results"},g?"No packages installed":"No packages found"),g&&m.length>0&&D("div",{className:"jsx-2366923719 libsearch-installed-header"},"Installed packages"),m.length>0&&D("ul",{className:"jsx-2366923719 libsearch-search-result"},m.map((function(e,t){return D(B,{key:e.name||"Unknkown",pkg:e,index:t,focused:p===t,onSelect:r,onMouseOver:function(){return function(e){f(e)}(t)}})}))),g&&D("div",{className:"jsx-2366923719 libsearch-bare-imports-tip"},D("div",{className:"jsx-2366923719 header"},"Packages Tip"),D("p",{className:"jsx-2366923719 packages-tip"},"If you know which packages you want to use in your repl, you can just import and use packages in your repl as if they were already installed, and new packages will be installed for you the next time you run the repl.")),D(x.a,{id:"2366923719"},[".libsearch-search.jsx-2366923719{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:100%;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;color:var(--color-foreground-1);}",".libsearch-search-input.jsx-2366923719{width:100%;position:relative;}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::-webkit-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::-moz-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719:-ms-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719::placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719{padding:12px 30px 15px 12px;font-size:1em;width:100%;border-top:none;border-right:none;border-left:none;outline:none;color:var(--color-foreground-1);background-color:var(--color-background-1);border-bottom:solid 1px var(--color-control-1);}",".libsearch-search-input.jsx-2366923719 input.jsx-2366923719:focus{border-color:var(--color-primary-1);}",".libsearch-search-loading.jsx-2366923719{position:absolute;top:8.5px;right:0px;width:30px;height:23px;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;background-size:contain;}",".libsearch-search-no-results.jsx-2366923719{font-size:15px;margin:20px auto;text-align:left;}",".libsearch-installed-header.jsx-2366923719{padding:12px;font-size:16px;}",".libsearch-search-result.jsx-2366923719{list-style:none;overflow:auto;max-height:100%;-webkit-overflow-scrolling:touch;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;}",".libsearch-bare-imports-tip.jsx-2366923719{background-color:var(--color-background-2);width:calc(100% - 20px);margin:12px auto;padding:8px 12px;line-height:1.4em;max-width:500px;}",".libsearch-bare-imports-tip.jsx-2366923719 .header.jsx-2366923719{font-weight:bold;font-size:1.1em;margin-bottom:8px;}",".libsearch-bare-imports-tip.jsx-2366923719 .body.jsx-2366923719{line-height:1.5em;}",".libsearch-bare-imports-tip.jsx-2366923719 .body.jsx-2366923719 p.jsx-2366923719{margin-top:8px;}",".packages-tip.jsx-2366923719{color:var(--color-foreground-2);}"]))}function B(e){var t=e.pkg,n=e.index,r=e.focused,a=e.onSelect,i=e.onMouseOver;return D("li",{key:t.name||"Unknown","data-index":n,onClick:function(){return a(t)},onMouseOver:i,className:"jsx-1407274871 "+((r?"libsearch-search-item libsearch-search-item-hover":"libsearch-search-item")||"")},D("div",{className:"jsx-1407274871 pkgHeader"},D("div",{className:"jsx-1407274871 pkgName"},t.name),"version"in t&&t.version&&D("div",{className:"jsx-1407274871 pkgVersion"},D("p",{className:"jsx-1407274871"},t.version))),"description"in t&&t.description&&D("div",{className:"jsx-1407274871 pkgDescription"},t.description),D(x.a,{id:"1407274871"},[".libsearch-search-item.jsx-1407274871{cursor:pointer;font-size:1em;padding:18px 12px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-2);cursor:pointer;}",".libsearch-search-item-hover.jsx-1407274871{background-color:var(--color-background-2);}",".pkgHeader.jsx-1407274871{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".pkgName.jsx-1407274871{font-weight:bold;font-size:1.1em;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}",".pkgVersion.jsx-1407274871{color:var(--color-foreground-2);margin-left:6px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;}",".pkgDescription.jsx-1407274871{margin-top:6px;font-size:1em;line-height:1.3em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;}"]))}var K=Object(S.a)({primary:function(e,t){switch(t.type){case"@@INIT":case"LOADING_GOVAL_STARTED":return{listedPackages:[],selectedPackage:null,specfileListedPackages:[],isPackagerRunning:!1};case"SET_SELECTED_PACKAGE":return F({},e,{selectedPackage:t.package});case"PACKAGE_INFO_RESPONSE":return e.selectedPackage&&e.selectedPackage.name===t.response.name?F({},e,{isPackagerRunning:!1,selectedPackage:F({},e.selectedPackage,{},t.response)}):e;case"PACKAGE_SEARCH_RESPONSE":return F({},e,{listedPackages:t.response});case"LIST_SPECFILE_RESPONSE":return F({},e,{specfileListedPackages:t.response,isPackagerRunning:!1});case"ADD_PACKAGES":case"REMOVE_PACKAGES":case"FETCH_PACKAGE_INFO":case"LIST_SPECFILE_PACKAGES":return F({},e,{isPackagerRunning:!0});default:return e}},repl:I.b})},"+Fpg":function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return H})),n.d(t,"reducer",(function(){return F})),n.d(t,"receiver",(function(){return G}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("qNsG"),g=n("ln6h"),m=n.n(g),v=n("vYYK"),x=n("MX0m"),w=n.n(x),y=n("q1tI"),k=n.n(y),E=n("XLFt"),j=n("FzLU"),O=n("/MKj"),_=n("h7rM"),C=n("3TIX"),N=n("YexM"),T=k.a.createElement;function S(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):c.a?o()(e,c()(n)):S(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var R="SET_VNC_STATUS",L="REGISTER_VNC_CONTAINER_HANDLE",A="REGISTER_RFB_HANDLE",D="CONNECT_VNC",P="SET_VNC_URL";function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rfbHandle:null,containerHandle:null,vncUrl:"",status:"disconnected"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:case D:return I({},e,{vncUrl:t.vncUrl});case L:return I({},e,{containerHandle:t.containerHandle});case A:return I({},e,{rfbHandle:t.rfbHandle});case R:return I({},e,{status:t.status});default:return e}}function M(e){var t=e.wid,r=e.pud,a=e.wait;return function(e,i){var o,s,c,l,u,d,p,f,b;return m.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(Object(_.a)(i(),t,r,"vnc").vncUrl){h.next=4;break}return h.next=4,m.a.awrap(a((function(e){return"SET_VNC_URL"===e.type})));case 4:if(o=Object(_.a)(i(),t,r,"vnc"),s=o.status,c=o.containerHandle,l=o.vncUrl,"disconnected"===s&&c){h.next=7;break}return h.abrupt("return");case 7:return u=j.a.safeGet(c),e({type:R,status:"connecting",wid:t}),h.next=11,m.a.awrap(n.e(120).then(n.t.bind(null,"wvNF",7)).then((function(e){return e.default})));case 11:d=h.sent,(p=new d(u,l)).scaleViewport=!0,p.resizeSession=!0,f=function(){e({type:R,status:"connected",wid:t})},p.addEventListener("connect",f),b=function(){return e(U({wid:t,pud:r,retry:!0,wait:a}))},p.addEventListener("disconnect",b),p.__replitCleanup=function(){p.removeEventListener("connect",f),p.removeEventListener("disconnect",b)},e({type:A,rfbHandle:j.a.getHandle(p),wid:t});case 21:case"end":return h.stop()}}))}}function U(e){var t=e.wid,n=e.pud,r=e.retry,a=e.wait;return function(e,i){var o=Object(_.a)(i(),t,n,"vnc").rfbHandle;if(e({type:R,status:"disconnected",wid:t}),null!==o){var s=j.a.get(o);s&&(e({type:A,rfbHandle:null,wid:t}),s.__replitCleanup(),"connected"!==s._rfb_connection_state&&"connecting"!==s._rfb_connection_state||s.disconnect(),r&&setTimeout((function(){e(M({wid:t,pud:n,wait:a}))}),5e3))}}}var H=function(e){var t=e.wid,n=e.pud,r=e.style;var a=Object(h.a)(e,["wid","pud","style"]).dimensions||{w:{px:0,pc:0},h:{px:0,pc:0}},i=Object(O.e)(),o=Object(O.f)((function(e){return Object(_.a)(e,t,n,"vnc")})),s=o.status,c=o.rfbHandle,l=Object(y.useCallback)((function(e){e&&i({type:L,containerHandle:j.a.getHandle(e),wid:t})}),[]);return Object(y.useEffect)((function(){return function(){i({type:L,containerHandle:null,wid:t}),i({type:"DISCONNECT_VNC",wid:t,pud:n})}}),[]),Object(y.useEffect)((function(){"connected"===s&&null!==c&&j.a.get(c)._windowResize()}),[a.w.px,a.w.pc,a.h.px,a.h.pc,s,c]),T("div",{style:r,className:"jsx-1154152323 vnc"},T("div",{ref:l,className:"jsx-1154152323 vnc-target"}),"connected"!==s&&T("div",{className:"jsx-1154152323 vnc-overlay"},"disconnected"===s&&T("span",{className:"jsx-1154152323"},T("span",{style:{color:"#78b087"},className:"jsx-1154152323"},"run")," your repl to see output"),"connecting"===s&&T(E.a,null)),T(w.a,{id:"1154152323"},[".vnc.jsx-1154152323{position:relative;}",".vnc-target.jsx-1154152323{height:100%;width:100%;}",".vnc-overlay.jsx-1154152323{top:0;position:absolute;height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:rgba(0,0,0,0.85);color:white;}"]))},G=Object(N.a)((function(e,t,n,r){switch(n.type){case"DISCONNECT_VNC":case C.o:return U({wid:e,pud:t,wait:r});case"CONNECT_VNC":return M({wid:e,pud:t,wait:r});default:return null}}))},"+Y0W":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("pLtp"),a=n.n(r),i=n("UO7Q");function o(e){for(var t=e.plugins,n=e.filePath,r=e.pluginType,i=0,o=a()(t);i<o.length;i++){var s=o[i],c=t[s],l=c.type,u=c.state;if(l===r&&(null===n||u.filePath===n))return s}return null}function s(e){var t=e.wid;return function(e,n){var r=n().workspace[t],a=r.layout,s=r.plugins,c=function(e,t){var n=i.b(e,t,"fileheader");if(!n)throw new Error("expected to find fileHeader in layout!");return!!window["flag-windowing"]?i.f(n):i.l(n)}(a,s);if(!c)throw new Error("No editor mounted");e({type:"UPDATE_LAYOUT",wid:t,path:c,to:o({plugins:s,filePath:null,pluginType:"blank"}),property:"pud"})}}},"+wUN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=(0,i.default)(e,n),a=(0,i.default)(t,n),o=r.getFullYear()-a.getFullYear(),s=r.getMonth()-a.getMonth();return 12*o+s};var r,a=n("2Oix"),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},"1lQF":function(e,t,n){"use strict";var r=n("q1tI");t.a=function(e){var t=[],n=null;return window.performance.now(),{receiver:function(r,a,i){var o={wid:r,pud:a,action:i};e.includes(o.action.type)&&(n?n(o):t.push(o))},useReceiver:function(e){var a,i;null,r.useDebugValue("Captured events: ".concat(t.length)),r.useDebugValue("First event: ".concat(null===(a=t[0])||void 0===a?void 0:a.action.type)),r.useDebugValue("Last event: ".concat(null===(i=t[t.length-1])||void 0===i?void 0:i.action.type)),r.useEffect((function(){if(null!==n)throw new Error("Expected callback to be null, please useReceiver once in your plugin, or avoid using multiple instances of the plugin");return t.forEach(e),t=[],n=e,function(){n=null,window.performance.now()}}),[e])}}}},"2T9W":function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return p})),n.d(t,"reducer",(function(){return f}));var r=n("doui"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n("mU7w"),c=n("Qbrf"),l=n("NveQ"),u=n("h7rM"),d=o.createElement,p=function(e){var t,n=e.wid,a=e.pud,o=Object(u.b)(n,a,"blank");return(null===(t=Object(r.a)(o,1)[0].dirs[""])||void 0===t?void 0:t.loaded)?d("div",{className:"jsx-1394228484 blank"},d(i.a,{id:"1394228484"},[".blank.jsx-1394228484{background-color:var(--color-background-1);height:100%;width:100%;}"])):d(s.a,null)},f=Object(c.a)({dirs:l.a})},"2UMc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var o=(0,r.default)(e,n),s=(0,r.default)(t,n),c=(0,i.default)(o,s,n),l=Math.abs((0,a.default)(o,s,n));o.setMonth(o.getMonth()-c*l);var u=(0,i.default)(o,s,n)===-c,d=c*(l-u);return 0===d?0:d};var r=o(n("2Oix")),a=o(n("+wUN")),i=o(n("zmLq"));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},"3TIX":function(e,t,n){"use strict";n.d(t,"V",(function(){return J})),n.d(t,"T",(function(){return se})),n.d(t,"cb",(function(){return ce})),n.d(t,"bb",(function(){return le})),n.d(t,"ab",(function(){return Z})),n.d(t,"W",(function(){return te})),n.d(t,"U",(function(){return ne})),n.d(t,"X",(function(){return $})),n.d(t,"eb",(function(){return ee})),n.d(t,"gb",(function(){return ie})),n.d(t,"Z",(function(){return re})),n.d(t,"fb",(function(){return oe})),n.d(t,"M",(function(){return I})),n.d(t,"db",(function(){return ae})),n.d(t,"Y",(function(){return de})),n.d(t,"y",(function(){return i})),n.d(t,"l",(function(){return b})),n.d(t,"v",(function(){return h})),n.d(t,"w",(function(){return g})),n.d(t,"K",(function(){return w})),n.d(t,"L",(function(){return y})),n.d(t,"N",(function(){return k})),n.d(t,"g",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"q",(function(){return q})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return x})),n.d(t,"u",(function(){return j})),n.d(t,"t",(function(){return O})),n.d(t,"O",(function(){return C})),n.d(t,"R",(function(){return R})),n.d(t,"S",(function(){return L})),n.d(t,"I",(function(){return T})),n.d(t,"J",(function(){return S})),n.d(t,"k",(function(){return P})),n.d(t,"x",(function(){return F})),n.d(t,"p",(function(){return M})),n.d(t,"Q",(function(){return U})),n.d(t,"B",(function(){return H})),n.d(t,"o",(function(){return A})),n.d(t,"n",(function(){return D})),n.d(t,"P",(function(){return G})),n.d(t,"H",(function(){return B})),n.d(t,"A",(function(){return K})),n.d(t,"s",(function(){return z})),n.d(t,"D",(function(){return V})),n.d(t,"z",(function(){return a})),n.d(t,"E",(function(){return v})),n.d(t,"r",(function(){return Y})),n.d(t,"m",(function(){return r})),n.d(t,"G",(function(){return W})),n.d(t,"C",(function(){return X})),n.d(t,"F",(function(){return Q}));var r="FLUSH_FILE_WRITES",a="OPEN_SIDEPANE_BY_TYPE",i="NEW_CONSOLE_MESSAGE",o="DEBUG_CODE",s="DEBUG_STARTED",c="DEBUG_ENDED",l="DEBUG_STACK",u="DEBUGGER_RESUME",d="DEBUGGER_STEP_OVER",p="DEBUGGER_STEP_INTO",f="DEBUGGER_STEP_OUT",b="EVAL_CODE",h="LOADING_ENGINE_COMPLETE",g="LOADING_EXECUTION_ENGINE_STARTED",m="CONSOLE_INPUT",v="RESIZE_TERMINAL",x="CLEAR_CONSOLE",w="SET_EDITOR_SESSION",y="SET_SPLIT_POSITION",k="STOP_EVAL",E="LINT_CODE",j="LINT_STARTED",O="LINT_ENDED",_="SET_PLUGIN_ALERT_STATUS",C="UPDATE_LAYOUT",N="TRACK_WS_EVENT",T="SET_ACTIVE_FILE",S="SET_ACTIVE_LINE",I="SHOW_EXAMPLES",R="WORKSPACE_MOUNTED",L="WORKSPACE_WILL_UNMOUNT",A="FORK_WORKSPACE_START",D="FORK_WORKSPACE_END",P="ENGINE_FORMAT_FILE",F="MONACO_FORMAT_FILE",M="FORMAT_FILE",U="WEBVIEW_LOADED",H="REFRESH_WEBVIEW",G="UPDATE_WORKSPACE_PREFERENCES",B="SEND_LSP_MESSAGE",K="RECEIVED_LSP_MESSAGE",z="LANGUAGE_SERVER_DIED",V="REGISTER_MONACO_EDITOR_HANDLE",X="REGISTER_ACE_EDITOR_HANDLE",W="SELECT_EDITOR_RANGE",Y="INSTALL_PACKAGES",q="@@INIT",Q="RUN_REPL",J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return{data:e,type:t,kind:t,raw:!!n}};function Z(e){var t=e.wid,n=e.message,r=e.type,a=void 0===r?"":r,o=e.raw;return{wid:t,type:i,message:J(n,a,!!o)}}function $(e){var t=e.wid;return{type:Q,wid:t}}function ee(e){var t=e.wid;return{type:k,wid:t}}function te(e){var t=e.wid,n=e.code,r=e.clean;return{type:b,wid:t,code:n,clean:r}}function ne(e){var t=e.wid,n=e.input,r=e.kind;return{type:m,wid:t,input:n,kind:r||"output"}}function re(e){var t=e.wid,n=e.filePath,r=e.code;return{type:E,wid:t,filePath:n,code:r}}function ae(e){var t=e.wid,n=e.pud,r=e.alertStatus;return{type:_,wid:t,pud:n,alertStatus:r}}function ie(e){var t=e.wid,n=e.path,r=e.to,a=e.property;return{type:C,wid:t,path:n,to:r,property:a}}function oe(e){var t=e.wid,n=e.eventKey,r=e.properties,a=e.trackOnce;return{type:N,wid:t,eventKey:n,properties:r,trackOnce:a}}function se(e){var t=e.wid,n=e.pud;return{type:x,wid:t,pud:n}}function ce(e){var t=e.wid,n=e.cols,r=e.rows,a=e.kind;return{type:v,wid:t,cols:n,rows:r,kind:a}}function le(e){return{type:"OPEN_FILE",wid:e.wid,path:e.path,newTab:e.newTab}}function ue(e){var t=e.wid,n=e.line;return{type:S,wid:t,line:n}}function de(e){var t=e.wid,n=e.line;return function(e){e(ue({wid:t,line:n})),setTimeout((function(){e(ue({wid:t,line:null}))}),2e3)}}},"4JO1":function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=n("XLFt"),c=o.a.createElement;t.a=function(){return c("div",{className:"jsx-981891466 page-loader"},c(s.a,{style:{width:76,height:76}}),c(a.a,{id:"981891466"},[".page-loader.jsx-981891466{background-color:rgba(255,255,255,0.4);position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#7f7f7f;font-size:20px;overflow:hidden;z-index:1000;}"]))}},"5RMj":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="workspace-root"},"5cLd":function(e,t,n){(function(t){var n=1/0,r="[object Symbol]",a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="[\\ud800-\\udfff]",c="["+o+"]",l="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",u="\\d+",d="[\\u2700-\\u27bf]",p="[a-z\\xdf-\\xf6\\xf8-\\xff]",f="[^\\ud800-\\udfff"+o+u+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",b="\\ud83c[\\udffb-\\udfff]",h="[^\\ud800-\\udfff]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",v="[A-Z\\xc0-\\xd6\\xd8-\\xde]",x="(?:"+p+"|"+f+")",w="(?:"+v+"|"+f+")",y="(?:"+l+"|"+b+")"+"?",k="[\\ufe0e\\ufe0f]?"+y+("(?:\\u200d(?:"+[h,g,m].join("|")+")[\\ufe0e\\ufe0f]?"+y+")*"),E="(?:"+[d,g,m].join("|")+")"+k,j="(?:"+[h+l+"?",l,g,m,s].join("|")+")",O=RegExp("['\u2019]","g"),_=RegExp(l,"g"),C=RegExp(b+"(?="+b+")|"+j+k,"g"),N=RegExp([v+"?"+p+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[c,v,"$"].join("|")+")",w+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[c,v+x,"$"].join("|")+")",v+"?"+x+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",v+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",u,E].join("|"),"g"),T=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),S=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,I="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,L=I||R||Function("return this")();var A,D=(A={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"ss"},function(e){return null==A?void 0:A[e]});function P(e){return T.test(e)}function F(e){return P(e)?function(e){return e.match(C)||[]}(e):function(e){return e.split("")}(e)}var M=Object.prototype.toString,U=L.Symbol,H=U?U.prototype:void 0,G=H?H.toString:void 0;function B(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&M.call(e)==r}(e))return G?G.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}function K(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}(e,t,n)}function z(e){return null==e?"":B(e)}var V,X=(V=function(e,t,n){return t=t.toLowerCase(),e+(n?Y(z(t).toLowerCase()):t)},function(e){return function(e,t,n,r){var a=-1,i=e?e.length:0;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}(function(e,t,n){return e=z(e),void 0===(t=n?void 0:t)?function(e){return S.test(e)}(e)?function(e){return e.match(N)||[]}(e):function(e){return e.match(a)||[]}(e):e.match(t)||[]}(function(e){return(e=z(e))&&e.replace(i,D).replace(_,"")}(e).replace(O,"")),V,"")});var W,Y=(W="toUpperCase",function(e){var t=P(e=z(e))?F(e):void 0,n=t?t[0]:e.charAt(0),r=t?K(t,1).join(""):e.slice(1);return n[W]()+r});e.exports=X}).call(this,n("yLpj"))},"7+UY":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n("doui");function a(e){if(!e)return"";var t=i(e),n=Object(r.a)(t,2),a=n[0],o=n[1];return a&&o?"".concat(a,"/").concat(o):e}function i(e){if(!e)return["",""];var t=e.match(/^https:\/\/github\.com\/(.+)\/(.+)/);if(null!==t){var n=Object(r.a)(t,3);return[n[1],n[2]]}return["",""]}function o(e,t){return"".concat(e,"/commit/").concat(t)}function s(e){return e.startsWith("remotes/origin/HEAD ->")?e.split("/").reverse()[0]:(e.startsWith("remotes/origin/")&&(e=e.replace("remotes/origin/","")),e.includes(" -> ")&&(e=e.split(" -> ")[0]),e.trim())}},"7r0u":function(e,t,n){"use strict";n.r(t),n.d(t,"injectUserStyle",(function(){return p})),n.d(t,"removeUserStyle",(function(){return f})),n.d(t,"reducer",(function(){return b})),n.d(t,"reciever",(function(){return l}));var r=n("h7rM"),a=n("uMB5"),i=n("Qbrf"),o="USERS_ROSTER",s="USER_JOIN",c="USER_LEAVE";function l(e,t,n){switch(n.type){case o:return function(n,a){Object(r.a)(a(),e,t,"cursorstyles").multiplayerUsers.forEach((function(e){p(e.username,e.color)}))};case s:return function(a,i){var o=Object(r.a)(i(),e,t,"cursorstyles").multiplayerUsers.find((function(e){return e.id===n.user.id}));!o||o.sessionCount>1||p(o.username,o.color)};case c:return function(a,i){Object(r.a)(i(),e,t,"cursorstyles").multiplayerUsers.some((function(e){return e.id===n.user.id}))||f(n.user.name)};default:return null}}function u(e){return"".concat(e,"-multiplayer-cursor-style")}function d(e){return e.replace(/_/g,"-")}function p(e,t){var n=".cursor-".concat(d(e)," {\n  position: relative;\n  background-color: #cceeff;\n  border-left: 2px solid ").concat(t,";\n  pointer-events: none;\n}\n.selection-").concat(d(e)," {\n  position: relative;\n  background-color: ").concat(t,";\n  opacity: 0.2;\n  pointer-events: none;\n}\n.cursor-tag-").concat(d(e),'::after {\n  content: "').concat(e,'";\n  position: relative;\n  bottom: calc(100% - 4px);\n  left: -2px;\n  background-color: ').concat(t,";\n  color: white;\n  z-index: 10;\n  padding: 1px;\n  border-radius: 3px;\n  pointer-events: none;\n  animation: fadeOut 2s ease-in forwards;\n}\n\n@keyframes fadeOut {\n  0% {opacity: 1;}\n  100% {opacity: 0;} \n}\n"),r=document.createElement("style");r.type="text/css",r.id=u(e),r.appendChild(document.createTextNode(n)),document.head&&document.head.appendChild(r)}function f(e){var t=document.getElementById(u(e));document.head&&t&&document.head.removeChild(t)}var b=Object(i.a)({multiplayerUsers:a.a})},"82Ve":function(e,t,n){"use strict";n.r(t),n.d(t,"reciever",(function(){return c}));var r=n("0gYX"),a=n.n(r),i=n("3TIX"),o=n("VhAj"),s=["ocaml","reason"];function c(e,t,n){return n.type===i.p?function(t){var r=a.a.get(n.language);return!!window.mobileEditor||s.includes(r.key)||!r.hasLanguageServer&&!Object(o.b)(n.filePath)?r.hasFormat?t({type:i.k,wid:n.wid,filePath:n.filePath}):void 0:t({type:i.x,wid:e,filePath:n.filePath})}:null}},"8eab":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("XXOK"),a=n.n(r),i=n("SqZg"),o=n.n(i),s=n("dI/k");function c(e,t){var n=o()(null),r=!0,i=!1,c=void 0;try{for(var l,u=a()(e);!(r=(l=u.next()).done);r=!0){var d=l.value,p=Object(s.i)(d),f=!0,b=!1,h=void 0;try{for(var g,m=a()(p);!(f=(g=m.next()).done);f=!0){var v=g.value,x=v!==d;n[v]={path:v,isExpanded:n[v]&&n[v].isExpanded||d&&x&&d===t,isFolder:x}}}catch(w){b=!0,h=w}finally{try{f||null==m.return||m.return()}finally{if(b)throw h}}}}catch(w){i=!0,c=w}finally{try{r||null==u.return||u.return()}finally{if(i)throw c}}return n[""]={path:"",isExpanded:!0,isFolder:!0},n}function l(e,t){var n=Object(s.e)(t),r=""===t;return e.filter((function(e){if(e===t)return!1;var a=Object(s.e)(e);return r?1===a:!!e.startsWith(t+"/")&&n+1===a}))}},"925v":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=10,a={borderRadius:{right:"".concat(r,"px 0 0 ").concat(r,"px"),left:"0 ".concat(r,"px ").concat(r,"px 0")},chatHeaderPadding:{right:"0 30px 0 30px",left:"0 30px 0 70px"}}},"9CwF":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.FileNode="FILE_NODE",e.FileHeaderTab="FILE_HEADER_TAB"}(r||(r={}))},"9vYF":function(e,t,n){"use strict";n.r(t);var r=n("doui"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n.n(o),c=n("i8i4");var l=n("7MR+"),u=n.n(l),d=s.a.createElement;t.default=function(e){var t=e.onRequestClose,n=e.noBorder,a=e.children,o=e.preventClose,l=void 0!==o&&o,p=e.hideX,f=void 0!==p&&p,b=e.alignTop,h=function(e){var t=s.a.useRef(e?document.getElementById(e):document.body),n=s.a.useRef(document.createElement("div"));return s.a.useEffect((function(){return t.current&&t.current.appendChild(n.current),function(){t.current&&t.current.removeChild(n.current)}}),[]),{renderToPortal:s.a.useCallback((function(e){return Object(c.createPortal)(e,n.current)}),[n.current])}}("modal-root").renderToPortal,g=s.a.useState(!1),m=Object(r.a)(g,2),v=m[0],x=m[1];function w(){l||(j(!1),setTimeout((function(){t&&t()}),150))}s.a.useEffect((function(){return x(!0)}),[]);var y=s.a.useState(!1),k=Object(r.a)(y,2),E=k[0],j=k[1],O=s.a.useRef(!1);return s.a.useEffect((function(){return v&&(j(!0),window.document.body.style.overflow="hidden"),function(){window.document.body.style.overflow="auto"}}),[v]),function(e,t,n){var r=s.a.useRef(n),a=s.a.useRef(e);s.a.useEffect((function(){return a.current.addEventListener(t,r.current),function(){a.current.removeEventListener(t,r.current)}}),[a.current,t,r.current])}(window.document.body,"keydown",(function(e){return 27===e.keyCode&&w()})),h(v?d("div",{className:i.a.dynamic([["653439886",[E?1:0,b?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" modal"},d("div",{onMouseDown:function(){O.current=!0},onMouseUp:function(){O.current&&w(),O.current=!1},className:i.a.dynamic([["653439886",[E?1:0,b?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" modal-base"},d("div",{onMouseDown:function(e){return e.stopPropagation()},className:i.a.dynamic([["653439886",[E?1:0,b?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" modal-wrapper"},!l&&!f&&d("div",{onClick:w,className:i.a.dynamic([["653439886",[E?1:0,b?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" close-icon"},d(u.a,{size:"large"})),d("div",{className:i.a.dynamic([["653439886",[E?1:0,b?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]]])+" modal-content"},a))),d(i.a,{id:"653439886",dynamic:[E?1:0,b?"flex-start":"center",n?0:"1px solid #888",window.navigator.userAgent.match(/Trident/)?"table":"block"]},[".modal.__jsx-style-dynamic-selector{opacity:".concat(E?1:0,";-webkit-transition:opacity 0.1s ease-in;transition:opacity 0.1s ease-in;position:fixed;left:0;top:0;width:100%;height:100%;z-index:300000;}"),".modal-base.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:".concat(b?"flex-start":"center",";-webkit-box-align:").concat(b?"flex-start":"center",";-ms-flex-align:").concat(b?"flex-start":"center",";align-items:").concat(b?"flex-start":"center",";-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;left:0;top:0;width:100%;height:100%;overflow:auto;z-index:300001;background-color:var(--color-black-50);}"),".replit-ui-theme-root.dark .modal-base.__jsx-style-dynamic-selector{background-color:var(--color-white-50);}",".modal-wrapper.__jsx-style-dynamic-selector{position:relative;max-height:80%;border-radius:5px;border:".concat(n?0:"1px solid #888",";z-index:2;display:").concat(window.navigator.userAgent.match(/Trident/)?"table":"block",";}"),".modal-content.__jsx-style-dynamic-selector{background:var(--dropdown-background-color);color:var(--color-foreground-1);border-radius:5px;}",".close-icon.__jsx-style-dynamic-selector{opacity:0.5;color:var(--color-foreground-1);position:absolute;top:20px;right:20px;height:15px;width:15px;background-size:contain;background-position:center;background-repeat:no-repeat;cursor:pointer;}",".close-icon.__jsx-style-dynamic-selector:hover{opacity:1;}"])):null)}},"9ylw":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("vYYK");function g(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t){switch(t.type){case"UPDATE_USER":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):g(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},e,{},t.updates);default:return e}}},BAqT:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m}));var r=n("0iUn"),a=n("sLSF"),i=n("MI3g"),o=n("a7VT"),s=n("AT/M"),c=n("Tit0"),l=n("vYYK"),u=n("MX0m"),d=n.n(u),p=n("q1tI"),f=n("7FmB"),b=n.n(f),h=p.createElement,g=function(e){var t=e.onClick;return h("div",{onClick:t,className:"jsx-2924698917"},h("svg",{width:"29px",height:"30px",viewBox:"0 0 29 30",version:"1.1",className:"jsx-2924698917"},h("g",{transform:"translate(2, 2)",className:"jsx-2924698917"},h("rect",{fill:"var(--color-white-32)",transform:"translate(21, 21) rotate(-45) translate(-21, -21) ",x:"19",y:"15",width:"4",height:"13",className:"jsx-2924698917"}),h("circle",{fill:"none",stroke:"var(--color-white-32)",strokeWidth:"4",cx:"10",cy:"10",r:"10",className:"jsx-2924698917"}))),h(d.a,{id:"2924698917"},["div.jsx-2924698917{width:16px;cursor:pointer;}","div.jsx-2924698917 svg.jsx-2924698917{width:100%;display:block;}"]))},m=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c))),Object(l.a)(Object(s.a)(n),"state",{value:""}),Object(l.a)(Object(s.a)(n),"input",void 0),n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.input&&this.input.focus()}},{key:"onKeyDown",value:function(e){27!==e.keyCode?13===e.keyCode&&(e.shiftKey?this.props.findPrevious(this.state.value):this.props.findNext(this.state.value)):this.props.exit()}},{key:"render",value:function(){var e=this,t=this.props,n=t.findNext,r=t.findPrevious,a=t.exit,i=this.state.value;return h("div",{className:"jsx-1545647457 search"},h("input",{ref:function(t){e.input=t||null},placeholder:"Find",value:i,onChange:function(t){return e.setState({value:t.target.value})},onKeyDown:function(t){return e.onKeyDown(t)},className:"jsx-1545647457"}),h(b.a,{size:"small",onClick:function(){return n(i)}},"next"),h(b.a,{size:"small",onClick:function(){return r(i)}},"before"),h(b.a,{size:"small",onClick:a},"exit"),h(d.a,{id:"1545647457"},[".search.jsx-1545647457{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgb(14,22,40);height:30px;}","input.jsx-1545647457{padding:4px var(--padding-size-medium) var(--padding-size-small);background-color:var(--color-white-32);color:var(--color-white);height:24px;width:85px;border:none;border-radius:2.5px;box-shadow:none;}","input.jsx-1545647457::-webkit-input-placeholder{color:var(--color-white);}","input.jsx-1545647457::-moz-placeholder{color:var(--color-white);}","input.jsx-1545647457:-ms-input-placeholder{color:var(--color-white);}","input.jsx-1545647457::placeholder{color:var(--color-white);}","input.jsx-1545647457,.search button{margin:0 var(--padding-size-small);}"]))}}]),t}(p.Component)},Bmc4:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return _})),n.d(t,"reducer",(function(){return C}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("vYYK"),g=n("MX0m"),m=n.n(g),v=n("q1tI"),x=n("/MKj"),w=n("3TIX"),y=n("Qbrf"),k=n("OQjE"),E=v.createElement;function j(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):j(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var _=Object(x.c)((function(e,t){return e.workspace[t.wid].plugins[t.pud].state}),{evalProject:w.X,stopEval:w.eb})((function(e){var t=e.wid,n=(e.style,e.loading),r=e.runstate,a=e.maxWidthBreakpoint,i=e.evalProject,o=e.stopEval,s="floating-run",c=function(){};return n||"stopping"===r?s+=" floating-run-loading":"running"===r?(s+=" floating-run-stop",c=function(){return o({wid:t})}):c=function(){return i({wid:t})},E("div",{onClick:c,className:m.a.dynamic([["3660226090",[a]]])+" "+(s||"")},E(m.a,{id:"3660226090",dynamic:[a]},[".floating-run.__jsx-style-dynamic-selector{display:none;position:absolute;bottom:24px;right:24px;height:50px;width:50px;border-radius:100%;border:solid 2px var(--color-positive-transparent-1);cursor:pointer;background-image:url(/public/images/run_green.svg);background-size:20px 20px;background-position:center;background-repeat:no-repeat;background-color:var(--color-positive-transparent-3);z-index:1000;opacity:0.5;}",".floating-run-loading.__jsx-style-dynamic-selector{background-image:url(/public/images/loading_dots.gif);}",".floating-run-stop.__jsx-style-dynamic-selector{background-image:url(/public/images/stop_green.svg);}","@media screen and (max-width:".concat(a,"px){.floating-run.__jsx-style-dynamic-selector{display:block;}}")]))}));var C=Object(y.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,maxWidthBreakpoint:500},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.q:return O({},e,{},t.initialState);case w.w:return O({},e,{loading:!0});case w.v:return O({},e,{loading:!1});default:return e}},runstate:k.a})},CD53:function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("vYYK"),g=n("dI/k");function m(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):m(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var x=function(e){return e?Object(g.h)(e)?"media":"editor":"blank"};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_FILE":return{path:t.path,viewerType:x(t.path)};case"SET_VIEWER_TYPE":return v({},e,{viewerType:t.viewerType});case"MOVE_FILE":return e.path&&e.path===t.path?v({},e,{path:t.to}):e;case"DELETE_FILE":return e.path&&e.path===t.path?{}:e;default:return e}}},EVOq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("ln6h"),a=n.n(r),i=n("FzLU");function o(e){var t=e.wid,n=e.service,r=e.name,o=e.wait;return function(e){var s,c,l,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return s=Math.random().toString(36).split(".")[1],c=o((function(e){return"RESPOND_CHANNEL"===e.type&&e.requestId===s})),e({wid:t,type:"REQUEST_CHANNEL",service:n,name:r,requestId:s}),d.next=5,a.a.awrap(c);case 5:return l=d.sent,u=l.channelHandle,d.abrupt("return",i.a.safeGet(u));case 8:case"end":return d.stop()}}))}}},FzLU:function(e,t,n){"use strict";var r=n("G4HQ"),a=n.n(r),i=n("0iUn"),o=n("sLSF"),s=new(function(){function e(){Object(i.a)(this,e),this.map=new a.a}return Object(o.a)(e,[{key:"getHandle",value:function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new Error("Only objects");var t={type:"handle",identity:e.constructor?Object.prototype.toString.call(e.constructor):Object.prototype.toString.call(e)};return this.map.set(t,e),t}},{key:"get",value:function(e){return this.map.get(e)}},{key:"safeGet",value:function(e){if(!e)throw new Error("Expected object handle to be truthy");var t=this.map.get(e);if(!t)throw new Error("Expected object handle to return object");return t}}]),e}());t.a=s},GnjG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("XXOK"),a=n.n(r);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var r=!0,i=!1,o=void 0;try{for(var s,c=a()(t);!(r=(s=c.next()).done);r=!0){(0,s.value)(e,n)}}catch(l){i=!0,o=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}}},Hl1s:function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("XXOK"),g=n.n(h),m=n("ln6h"),v=n.n(m),x=n("0iUn"),w=n("sLSF"),y=n("MI3g"),k=n("a7VT"),E=n("AT/M"),j=n("Tit0"),O=n("vYYK"),_=n("q1tI"),C=n("/MKj"),N=n("b518"),T=n("FzLU"),S=n("h7rM"),I=n("Cg2A"),R=n.n(I),L=n("doui"),A=n("MX0m"),D=n.n(A),P=n("imBe"),F=n("TndZ"),M=n("5/z4"),U=n("9Jkg"),H=n.n(U);var G,B=n("BAqT"),K=n("YuJD"),z=_.createElement,V=function(e){var t=e.style,n=e.clearConsole,r=e.findPrevious,a=e.findNext,i=e.refCallback,o=e.termUrl,s=e.hideUrl,c=e.wid,l=e.pud,u=_.useState(!1),d=Object(L.a)(u,2),p=d[0],f=d[1];return z("div",{style:t,onKeyDown:function(e){"f"===e.key&&Object(K.b)(e)&&!e.shiftKey&&(f(!0),e.preventDefault())},className:"jsx-2821274828"},s?null:z(F.b,{url:o,isReplRun:!0}),z("div",{style:{height:"calc(100% - ".concat(s?"0px":F.a,")"),backgroundColor:"var(--color-brand-dark-blue)",paddingLeft:"1em",paddingTop:"10px",position:"relative",overflow:"hidden",borderTopLeftRadius:s?"var(--border-radius-1)":0,borderTopRightRadius:s?"var(--border-radius-1)":0,borderBottomRightRadius:"var(--border-radius-1)",borderBottomLeftRadius:"var(--border-radius-1)"},className:"jsx-2821274828"},z("div",{className:"jsx-2821274828 terminal-opts"},p?z(B.b,{findPrevious:r,findNext:a,exit:function(){return f(!1)}}):z(P.a,{position:"bottom"},z("div",{className:"jsx-2821274828"},"Find"),z(B.a,{onClick:function(){return f(!0)}})),z(P.a,{position:"bottom"},z("div",{className:"jsx-2821274828"},"Clear"),z("div",{className:"jsx-2821274828 clear-wrap"},z("button",{title:"Clear",key:"clear",role:"button",onClick:n,className:"jsx-2821274828 clear-button"})))),z("div",{ref:i,className:"jsx-2821274828 xterm-container"}),z(W,{wid:c,pud:l})),z(D.a,{id:"1556950051"},[".xterm .xterm-viewport{overflow-y:auto !important;}"]),z(D.a,{id:"2593808518"},[".terminal-opts.jsx-2821274828{position:absolute;top:0.75em;right:1em;z-index:5;height:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","button.jsx-2821274828{background:transparent;border:0;box-shadow;outline:none;height:18px;width:18px;padding:0;margin:0 12px;cursor:pointer;}",".clear-wrap.jsx-2821274828{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".clear-button.jsx-2821274828{background-image:url(/public/images/clear.png);background-size:contain;background-repeat:no-repeat;}",".clear-button.jsx-2821274828:hover{background-image:url(/public/images/clear_hover.png);}",".xterm-container.jsx-2821274828{width:100%;box-sizing:border-box;height:100%;}"]))},X=(G={},Object(O.a)(G,-1,"Loading..."),Object(O.a)(G,-2,"Fetching token"),Object(O.a)(G,M.api.BootStatus.Stage.ACQUIRING,"Booting Repl"),Object(O.a)(G,M.api.BootStatus.Stage.PULL_FILES,"Downloading files"),Object(O.a)(G,M.api.BootStatus.Stage.LOAD_BLOCK,"Downloading files"),Object(O.a)(G,M.api.BootStatus.Stage.COMPLETE,"Ready"),G),W=function(e){var t=e.wid,n=e.pud,r=Object(S.b)(t,n,"terminal2"),a=Object(L.a)(r,1)[0],i=a.connectionLoadingStatus,o=a.loadingEngine,s=_.useState(!o),c=Object(L.a)(s,2),l=c[0],u=c[1],d=_.useState(null),p=Object(L.a)(d,2),f=p[0],b=p[1],h=_.useState(i.stage in X?i:{stage:-1}),g=Object(L.a)(h,2),m=g[0],v=g[1],x=_.useState(m.progress||0),w=Object(L.a)(x,2),y=w[0],k=w[1],E=_.useRef(m.progress||0),j=_.useRef(null);_.useEffect((function(){i.stage in X&&(m.stage!==i.stage&&(b(m),k(0),j.current=null),v(i))}),[i]),_.useEffect((function(){if(m.progress&&m.total)if(m.stage===M.api.BootStatus.Stage.LOAD_BLOCK){if(!(y>m.progress)){var e=R()(),t=0;if(j.current){var n=e-j.current,r=m.progress-E.current;t=r/n*50}else{t=5e4}j.current=e,E.current=m.progress;var a=m.total,i=setInterval((function(){k((function(e){var n=e+t;return n>a?a:n}))}),50);return function(){return clearInterval(i)}}}else k(m.progress)}),[m.progress]);var O=m.stage===M.api.BootStatus.Stage.COMPLETE;if(_.useEffect((function(){if(O){var e=setTimeout((function(){u(!0)}),1e3);return function(){return clearTimeout(e)}}}),[O]),l)return z(_.Fragment,null);var C=0;switch(m.stage){case-2:C=0;break;case-1:C=10;break;case M.api.BootStatus.Stage.ACQUIRING:C=20;break;case M.api.BootStatus.Stage.PULL_FILES:case M.api.BootStatus.Stage.LOAD_BLOCK:C=20+70*(m.total?y/m.total:1);break;case M.api.BootStatus.Stage.COMPLETE:C=100;break;default:!function(e){throw new Error("Unhandled discriminated union member: ".concat(H()(e)))}(m.stage)}return z("div",{style:{opacity:O?0:1},className:"jsx-3665755028 loader-container"},z("div",{className:"jsx-3665755028"},f&&z("div",{key:X[f.stage],className:"jsx-3665755028 prev-status status"},X[f.stage],f.total&&" 100%"),z("div",{key:X[m.stage],className:"jsx-3665755028 current-status status"},X[m.stage],m.total&&" ".concat(Math.floor(y/m.total*100),"%"))),z("div",{className:"jsx-3665755028 loader-bar"},z("div",{style:{width:C+"%"},className:"jsx-3665755028 loader-filler"})),z(D.a,{id:"3665755028"},[".loader-container.jsx-3665755028{position:absolute;left:25%;right:25%;top:47%;background-color:transparent;color:white;-webkit-transition:opacity 0.5s 2s;transition:opacity 0.5s 2s;}",".loader-bar.jsx-3665755028{background:none;border:solid white 1px;border-radius:10px;}",".loader-filler.jsx-3665755028{height:5px;background-color:#fff;-webkit-transition:width cubic-bezier(0.28,0.26,0.33,1) 2s;transition:width cubic-bezier(0.28,0.26,0.33,1) 2s;}",".status.jsx-3665755028{text-align:center;position:absolute;width:100%;top:-2em;opacity:1;}",".current-status.jsx-3665755028{-webkit-animation:fade-in-jsx-3665755028 0.6s;animation:fade-in-jsx-3665755028 0.6s;}",".prev-status.jsx-3665755028{top:-6em;opacity:0;-webkit-transition:top 0.4s,opacity 0.4s;transition:top 0.4s,opacity 0.4s;}","@-webkit-keyframes fade-in-jsx-3665755028{0%{opacity:0;top:0em;}100%{opacity:1;top:-2em;}}","@keyframes fade-in-jsx-3665755028{0%{opacity:0;top:0em;}100%{opacity:1;top:-2em;}}"]))},Y=n("qzUi"),q=n("3TIX"),Q=n("0gYX"),J=n.n(Q),Z=n("zgDP"),$=n("Qbrf"),ee=n("lixr"),te=n("hKI/"),ne=n.n(te);n.d(t,"reciever",(function(){return le})),n.d(t,"reducer",(function(){return ue})),n.d(t,"Component",(function(){return ce}));var re=_.createElement;function ae(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){Object(O.a)(e,t,n[t])})):c.a?o()(e,c()(n)):ae(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var oe=function(e){function t(e){var n;return Object(x.a)(this,t),n=Object(y.a)(this,Object(k.a)(t).call(this,e)),Object(O.a)(Object(E.a)(n),"state",{term:null}),Object(O.a)(Object(E.a)(n),"containerRef",void 0),Object(O.a)(Object(E.a)(n),"throttledHandleResize",void 0),Object(O.a)(Object(E.a)(n),"clearConsole",(function(){var e=n.props,t=e.wid,r=e.pud;(0,e.dClearConsole)({wid:t,pud:r})})),Object(O.a)(Object(E.a)(n),"findNext",(function(e){n.state.term&&n.state.term.searchAddon.findNext(e)})),Object(O.a)(Object(E.a)(n),"findPrevious",(function(e){n.state.term&&n.state.term.searchAddon.findPrevious(e)})),Object(O.a)(Object(E.a)(n),"dispose",(function(){var e=n.state.term;e&&(window.removeEventListener("resize",n.handleResize),e.dispose())})),Object(O.a)(Object(E.a)(n),"handleResize",(function(){n.state.term&&n.state.term.fit()})),Object(O.a)(Object(E.a)(n),"initTerminal",(function(e){var t,r,a,i,o,s,c,l,u;return v.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(e&&n.containerRef!==e){d.next=2;break}return d.abrupt("return");case 2:return n.containerRef=e,t=n.props,r=t.wid,a=t.pud,i=t.kind,o=t.header,s=t.dConsoleInput,c=t.dTermLoaded,l=t.dResizeTerminal,n.state.term&&n.dispose(),d.next=7,v.a.awrap(Object(Y.b)());case 7:u=d.sent,n.setState({term:u}),u.open(e),n.handleResize(),u.clear="shell"!==i?function(){u.reset(),u.write("".concat(o.replace(/\n/g,"\n\r"),"\n\r"))}:u.reset,u.clear(),l({rows:u.rows,cols:u.cols,wid:r,kind:i}),u.onData((function(e){s({wid:r,input:e,kind:i})})),u.onResize((function(){l({rows:u.rows,cols:u.cols,wid:r,kind:i})})),n.props.lite||n.props.preventFocus||u.focus(),window.addEventListener("resize",n.handleResize),c({wid:r,pud:a,term:u});case 19:case"end":return d.stop()}}))})),n.throttledHandleResize=ne()(n.handleResize,50),n}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"componentDidUpdate",value:function(e){var t;e.dimensions===this.props.dimensions||(t=this.props.dimensions,0===t.h.px&&0===t.h.pc||0===t.w.px&&0===t.w.pc)||this.throttledHandleResize()}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.wid,r=e.pud,a=e.loadingEngine,i=e.termUrl,o=e.hideUrl;return re(V,{wid:n,pud:r,key:"".concat(n).concat(r,"terminal2"),style:t,clearConsole:this.clearConsole,refCallback:this.initTerminal,findNext:this.findNext,findPrevious:this.findPrevious,loadingEngine:a||!this.state.term,termUrl:i,hideUrl:o})}}]),t}(_.Component);var se={dConsoleInput:q.U,dClearConsole:q.T,dTermLoaded:function(e){var t=e.wid,n=e.pud,r=e.term;return function(e,a){var i=Object(S.a)(a(),t,n,"terminal2").bufferedTermData;e({type:"CLEAR_BUFFERED_DATA",wid:t,pud:n});var o=!0,s=!1,c=void 0;try{for(var l,u=g()(i);!(o=(l=u.next()).done);o=!0){var d=l.value;r.write(d)}}catch(p){s=!0,c=p}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}e({type:"SET_TERM",wid:t,pud:n,termHandle:T.a.getHandle(r)})}},dResizeTerminal:q.cb},ce=Object(C.c)((function(e,t){var n=Object(S.a)(e,t.wid,t.pud,"terminal2"),r=n.repl,a=n.loadingEngine,i=n.replrun,o=n.lite,s=n.preventFocus,c=J.a.get(r.language).header,l=Object(N.d)(r),u=!i||!!r.config.isServer;return{loadingEngine:a,header:c,kind:n.kind||"output",hideUrl:u,termUrl:l,lite:o,preventFocus:s}}),se)(oe);function le(e,t,n){switch(n.type){case"EVAL_SETUP":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(S.a)(r(),t,n,"terminal2"),i=a.kind,o=a.termHandle,s=a.preventFocus;if("shell"!==i&&o&&!s&&o){var c=T.a.get(o);c&&c.focus()}}}({wid:e,pud:t});case q.a:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(S.a)(r(),t,n,"terminal2").termHandle;if(a){var i=T.a.get(a);i&&i.clear()}}}({wid:e,pud:t});case q.y:return function(e){var t=e.wid,n=e.pud,r=e.message;return function(e,a){var i=Object(S.a)(a(),t,n,"terminal2"),o=i.kind,s=i.termHandle;if("output"===o||"interp"===o){if(-1===["","output","error","interp"].indexOf(r.kind))return}else if(r.kind!==o)return;var c=r.data;if(r.raw||(c=c.replace(/\n/g,"\n\r"),"error"===r.kind&&(c="\x1b[31m".concat(c,"\x1b[00m"))),s){var l=T.a.get(s);l?l.write(c):e({type:"BUFFER_TERM_DATA",wid:t,pud:n,data:c})}else e({type:"BUFFER_TERM_DATA",wid:t,pud:n,data:c})}}({wid:e,pud:t,message:n.message});case q.v:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(S.a)(r(),t,n,"terminal2"),i=a.kind,o=a.termHandle;if(o){var s=T.a.get(o);s&&(e(Object(q.cb)({rows:s.rows,cols:s.cols,wid:t,kind:i})),"shell"!==i&&Object(Z.track)(Z.events.NEW_TERMINAL_SPLIT_TEST,{}))}}}({wid:e,pud:t});case"FIT_TERMINAL":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(S.a)(r(),t,n,"terminal2").termHandle;if(a){var i=T.a.get(a);i&&i.fit()}}}({wid:e,pud:t});default:return null}}var ue=Object($.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{termHandle:null,loadingEngine:!0,kind:"output",replrun:!1,bufferedTermData:[],lite:!1,connectionLoadingStatus:{stage:-2}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.q:return ie({},e,{},t.initialState);case q.S:return ie({},e,{termHandle:null,connectionLoadingStatus:{stage:-2}});case q.w:return ie({},e,{loadingEngine:!0,bufferedTermData:[],connectionLoadingStatus:{stage:-1}});case q.v:return ie({},e,{loadingEngine:!1});case"SET_TERM":return ie({},e,{termHandle:t.termHandle});case"BUFFER_TERM_DATA":return ie({},e,{bufferedTermData:e.bufferedTermData.concat(t.data)});case"CLEAR_BUFFERED_DATA":return ie({},e,{bufferedTermData:[]});case"UPDATE_ENGINE_LOAD_STATUS":return ie({},e,{connectionLoadingStatus:{stage:t.stage,progress:t.progress,total:t.total}});default:return e}},repl:ee.b})},Hrer:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:!0,waiting:0},t=arguments.length>1?arguments[1]:void 0;if(e.waiting<0)throw new Error("psersists went negative! "+e.waiting);switch(t.type){case"PERSIST_FILE":return{waiting:e.waiting+1,status:e.waiting+1===0};case"FILE_PERSISTED":return{waiting:e.waiting-1,status:e.waiting-1===0};default:return e}}n.d(t,"a",(function(){return r}))},HtvZ:function(e,t,n){"use strict";var r=n("p0XB");n("hfKm")(t,"__esModule",{value:!0});var a=n("Z5Wq"),i=function(e){if(!r(e))throw Error("Op must be an array of components");for(var t=null,n=0;n<e.length;n++){var a=e[n];switch(typeof a){case"object":if(!("number"===typeof a.d&&a.d>0))throw Error("Object components must be deletes of size > 0");break;case"string":if(!(a.length>0))throw Error("Inserts cannot be empty");break;case"number":if(!(a>0))throw Error("Skip components must be >0");if("number"===typeof t)throw Error("Adjacent skip components should be combined")}t=a}if("number"===typeof t)throw Error("Op has a trailing skip")},o=function(e){for(var t=[],n=s(t),r=0;r<e.length;r++)n(e[r]);return u(t)},s=function(e){return function(t){t&&0!==t.d&&(0===e.length?e.push(t):typeof t===typeof e[e.length-1]?"object"===typeof t?e[e.length-1].d+=t.d:e[e.length-1]+=t:e.push(t))}},c=function(e){return"number"===typeof e?e:"string"===typeof e?a.strPosToUni(e):e.d},l=function(e){var t=0,n=0;return{take:function(r,i){if(t===e.length)return-1===r?null:r;var o,s=e[t];if("number"===typeof s)return-1===r||s-n<=r?(o=s-n,++t,n=0,o):(n+=r,r);if("string"===typeof s){if(-1===r||"i"===i||a.strPosToUni(s.slice(n))<=r)return o=s.slice(n),++t,n=0,o;var c=n+a.uniToStrPos(s.slice(n),r);return o=s.slice(n,c),n=c,o}return-1===r||"d"===i||s.d-n<=r?(o={d:s.d-n},++t,n=0,o):(n+=r,{d:r})},peek:function(){return e[t]}}},u=function(e){return e.length>0&&"number"===typeof e[e.length-1]&&e.pop(),e};function d(e,t,n){if("left"!==n&&"right"!==n)throw Error("side ("+n+") must be 'left' or 'right'");i(e),i(t);for(var r,o=[],d=s(o),p=l(e),f=p.take,b=p.peek,h=0;h<t.length;h++){var g=t[h],m=void 0,v=void 0;switch(typeof g){case"number":for(m=g;m>0;)d(v=f(m,"i")),"string"!==typeof v&&(m-=c(v));break;case"string":"left"===n&&"string"===typeof b()&&d(f(-1)),d(a.strPosToUni(g));break;case"object":for(m=g.d;m>0;)switch(typeof(v=f(m,"i"))){case"number":m-=v;break;case"string":d(v);break;case"object":m-=v.d}}}for(;r=f(-1);)d(r);return u(o)}function p(e,t){i(e),i(t);for(var n,r=[],o=s(r),d=l(e).take,p=0;p<t.length;p++){var f=t[p],b=void 0,h=void 0;switch(typeof f){case"number":for(b=f;b>0;)o(h=d(b,"d")),"object"!==typeof h&&(b-=c(h));break;case"string":o(f);break;case"object":for(b=f.d;b>0;)switch(typeof(h=d(b,"d"))){case"number":o({d:h}),b-=h;break;case"string":b-=a.strPosToUni(h);break;case"object":o(h)}}}for(;n=d(-1);)o(n);return u(r)}var f=function(e,t){for(var n=0,r=0;r<t.length&&e>n;r++){var i=t[r];switch(typeof i){case"number":n+=i;break;case"string":var o=a.strPosToUni(i);n+=o,e+=o;break;case"object":e-=Math.min(i.d,e-n)}}return e},b=function(e,t){return"number"===typeof e?f(e,t):e.map((function(e){return f(e,t)}))};t.default=function(e){return{name:"text-unicode",uri:"http://sharejs.org/types/text-unicode",trim:u,normalize:o,checkOp:i,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof t)throw Error("Initial data must be a string");return e.create(t)},apply:function(t,n){i(n);for(var r=e.builder(t),a=0;a<n.length;a++){var o=n[a];switch(typeof o){case"number":r.skip(o);break;case"string":r.append(o);break;case"object":r.del(o.d)}}return r.build()},transform:d,compose:p,transformPosition:f,transformSelection:b}}},Hxkj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("0gYX"),a=n.n(r);function i(e,t){var n=e.find((function(e){return e.toLowerCase().includes("readme")}));if(n)return n;if(e.includes(".replit"))return".replit";var r=a.a.getMainFileName(t);if(a.a.usesInterpreter(t)&&e.includes(r))return r;if(e.includes("Makefile"))return"Makefile";if(e.includes(r))return r;var i=e.find((function(e){return e.endsWith(".md")}));return i||e[0]}},IjuC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("ln6h"),a=n.n(r);function i(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.navigator.clipboard){t.next=3;break}return o(e),t.abrupt("return");case 3:return t.prev=3,t.next=6,a.a.awrap(window.navigator.clipboard.writeText(e));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),o(e);case 11:case"end":return t.stop()}}),null,null,[[3,8]])}function o(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},Jaku:function(e,t,n){"use strict";var r=n("kOwS"),a=n("qNsG"),i=n("MX0m"),o=n.n(i),s=n("q1tI"),c=n.n(s),l=n("TSYQ"),u=n.n(l),d=c.a.createElement;t.a=function(e){var t=e.checked,n=e.block,i=e.center,s=e.children,c=Object(a.a)(e,["checked","block","center","children"]);return d("button",Object(r.a)({},c,{className:"jsx-249388398 "+(u()(c.className,{checked:t,block:n,center:i})||"")}),d("div",{className:"jsx-249388398 radio"}),s?d("div",{className:"jsx-249388398 content"},s):null,d(o.a,{id:"249388398"},["button.jsx-249388398{font-size:inherit;color:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border:0 none;background-color:transparent;border-radius:var(--border-radius-1);-webkit-transition:background-color 0.2s;transition:background-color 0.2s;}",".block.jsx-249388398{width:100%;}",".center.jsx-249388398{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","button.jsx-249388398:focus{outline:none;}",".radio.jsx-249388398{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;height:12px;width:12px;border-radius:50%;background-color:transparent;border:1.5px solid var(--color-foreground-2);}",".checked.jsx-249388398 .radio.jsx-249388398{border:none;background-color:var(--color-primary-1);}",".content.jsx-249388398{margin-left:10px;}"]))}},Jkqq:function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("ttDY"),g=n.n(h),m=n("dfwq"),v=n("vYYK"),x=n("3TIX"),w=n("zgDP"),y=n("UO7Q"),k=n("doui"),E=n("MX0m"),j=n.n(E),O=n("q1tI"),_=n("TSYQ"),C=n.n(_),N=n("/MKj"),T=n("UWUU"),S=n("h7rM"),I=n("kOwS"),R=n("8Vt8"),L=n("XLFt"),A=n("tZOq"),D=n("irrw"),P=n.n(D),F=O.createElement;function M(e){var t=e.hideModal,n=e.replId,r=e.usersOnline,a=e.onUserClick,i=e.isOpen;return F(R.a,{isOpen:i,onRequestClose:t},F(U,{replId:n,onUserClick:a,usersOnline:r}))}function U(e){var t=e.replId,n=e.usersOnline,r=e.onUserClick,a=Object(A.S)({variables:{replId:t}}),i=a.data,o=a.loading,s=a.error;if(o)return F("div",{className:"jsx-1405322551"},F(L.a,{style:{width:"50px"}}),F(j.a,{id:"1405322551"},[".user-list-loader.jsx-1405322551{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-height:200px;}"]));if(s)return F("div",null,s.message);if("Repl"===(null===i||void 0===i?void 0:i.repl.__typename)){var c=i.repl,l=c.user,u=l&&n.find((function(e){return e.username===l.username}));return F("div",{className:"jsx-1825929647 user-list-modal"},F(P.a,{level:2},"Multiplayers"),F(P.a,{level:5},"Users can interact with this repl in real time."),F("div",{className:"jsx-1825929647 user-list"},l?F(G,Object(I.a)({},l,{onClick:r,isOnline:Boolean(u),color:u?u.color:"transparent",isOwner:!0,type:A.A.Rw})):null,c.permissions.map((function(e){var t=e.type,a=e.user;if(!a)return null;var i=n.find((function(e){return e.username===a.username}));return F(G,Object(I.a)({onClick:r,key:"chat-user-list-".concat(a.username),type:t},a,{isOnline:n.some((function(e){return e.username===a.username})),color:i?i.color:"transparent",isOwner:!1}))}))),F(j.a,{id:"1825929647"},[".user-list-modal.jsx-1825929647{color:var(--color-foreground-1);padding:var(--spacing-4);display:grid;grid-template-rows:auto auto 1fr;grid-gap:var(--spacing-2);}",".user-list.jsx-1825929647{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-height:330px;overflow-y:auto;}"]))}return"ReplRedirect"===(null===i||void 0===i?void 0:i.repl.__typename)?F("div",null,"This repl has moved to"," ",F("a",{href:i.repl.replUrl},i.repl.replUrl)):"SubscriptionExpiredError"===(null===i||void 0===i?void 0:i.repl.__typename)?F("div",null,"Your subscition has expired.",F("a",{href:"/site/pricing"},"Upgrade here")):null}var H={r:"read only",rw:"can edit"};function G(e){var t=e.type,n=e.username,r=e.image,a=e.isOnline,i=e.isOwner,o=e.color,s=e.onClick;return F("div",{className:j.a.dynamic([["584706792",[o]]])+" "+(C()("user-list-item-wrapper",{online:a})||"")},F("img",{src:r,className:j.a.dynamic([["584706792",[o]]])+" "+((a?"":"offline")||"")}),F("div",{className:j.a.dynamic([["584706792",[o]]])+" info"},F("div",{className:j.a.dynamic([["584706792",[o]]])},F("a",{href:"/@".concat(n),target:"_blank",onClick:s,className:j.a.dynamic([["584706792",[o]]])},"@",n),!a&&" (offline)"),F("div",{className:j.a.dynamic([["584706792",[o]]])},i?"owner":H[t])),F(j.a,{id:"584706792",dynamic:[o]},[".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--spacing-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-order:1;-ms-flex-order:1;order:1;}","img.__jsx-style-dynamic-selector{width:40px;height:40px;border-radius:20px;border:3px solid ".concat(o,";background:white;object-fit:cover;}"),".info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:10px;}","img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%);}",".user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-order:0;-ms-flex-order:0;order:0;}"]))}var B=O.createElement,K=2;function z(e){var t=e.usersOnline,n=e.showModal,r=e.wid,a=e.replId,i=Object(N.e)(),o=Object(A.R)({variables:{replId:a},fetchPolicy:"network-only"}),s=o.data,c=o.refetch,l="Repl"===(null===s||void 0===s?void 0:s.repl.__typename)?s.repl:null,u=(null===l||void 0===l?void 0:l.user)&&t.find((function(e){var t;return e.id===(null===(t=l.user)||void 0===t?void 0:t.id)})),d=l&&l.permissions?l.permissions.map((function(e){return e.user})).filter((function(e){return e})):null,p=l&&d?d.reduce((function(e,n){var r=n&&t.find((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}));return n&&r&&e.push({username:n.username,image:n.image,color:r.color}),e}),l.user&&u?[{username:l.user.username,image:l.user.image,color:u.color}]:[]):null;return O.useEffect((function(){p&&t.length>p.length&&c()}),[t,p,c]),B("div",{className:"jsx-2176463584 chat-roster"},p?p.slice(0,K).map((function(e){return B("img",{src:e.image,title:e.username,key:e.username,style:{border:"2px solid ".concat(e.color)},className:"jsx-2176463584"})})):null,t.length>K&&B("button",{onClick:n,className:"jsx-2176463584 see-all"},"+",t.length-K),B("div",{className:"jsx-2176463584 online-count"},p&&d?B("a",{onClick:function(e){e.preventDefault(),i({type:"OPENED_MP_ROSTER",wid:r,replId:a}),n()},className:"jsx-2176463584"},"".concat(t.length,"/").concat(Math.max(t.length,d.length)," online")):"loading"),B(j.a,{id:"2176463584"},[".chat-roster.jsx-2176463584{width:100%;height:50px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","img.jsx-2176463584{background-color:white;}","img.jsx-2176463584,.see-all.jsx-2176463584{width:36px;min-width:36px;height:36px;border-radius:20px;margin-left:-10px;}",".see-all.jsx-2176463584{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:16px;cursor:pointer;padding:0px;background-color:var(--color-background-1);color:var(--color-green-1);border:0 none;}",".see-all.jsx-2176463584:focus{outline:0 none;}",".see-all.jsx-2176463584:hover{color:var(--color-foreground-1);background-color:var(--color-green-1);}",".online-count.jsx-2176463584{margin-left:15px;white-space:nowrap;}",".online-count.jsx-2176463584 a.jsx-2176463584{color:var(--color-foreground-1);cursor:pointer;white-space:nowrap;}"]))}var V=n("cR/2"),X=n("iBZX"),W=O.createElement,Y=2500,q={join:"joined",leave:"left"},Q=function(e){if(q[e.type])return q[e.type];if("message"===e.type)return e.text;throw new Error("Unknown chat message type ".concat(e.type))};var J=function(e){var t=e.expanded,n=e.messages,r=e.position,a=e.usersOnline,i=e.toggleChat,o=V.a.replitDark,s=function(e,t){var n=O.useState([]),r=Object(k.a)(n,2),a=r[0],i=r[1],o=O.useState(null),s=Object(k.a)(o,2),c=s[0],l=s[1],u=O.useRef(a);u.current=a;var d=O.useRef(null);return O.useEffect((function(){if(null===d.current){var e=a[0];e&&(l(e),d.current=setTimeout((function(){i(u.current.slice(1)),0===u.current.length&&l(null),d.current=null}),Y))}}),[a]),O.useEffect((function(){e||t[t.length-1]&&i([].concat(Object(m.a)(a),[t[t.length-1]]))}),[t.length]),O.useEffect((function(){e?(i([]),d.current&&(clearTimeout(d.current),d.current=null)):(l(null),d.current=null,i([]))}),[e]),c}(t,n);if(!s||t)return null;var c=a.find((function(e){return e.username===s.username})),l=c?c.color:"transparent",u=!!q[s.type];return W("div",{onClick:function(e){e.stopPropagation(),i()},className:j.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Y,l,o.base.boldForeground]]])+" message-notification"},W(A.h,{variables:{username:s.username}},(function(e){var t=e.loading,n=e.data;return!t&&n&&n.user&&n.user.image?W("img",{src:n.user.image,className:j.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Y,l,o.base.boldForeground]]])+" chat-message-picture"}):W("div",{className:j.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Y,l,o.base.boldForeground]]])+" chat-message-picture"})})),W("div",{className:j.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Y,l,o.base.boldForeground]]])+" message"},W("span",{className:j.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Y,l,o.base.boldForeground]]])+" "+((u?"bold-text":"dimmed-text")||"")},s.username),!u&&":"," ",W("span",{className:j.a.dynamic([["2085728046",[o.modal.background,r,o.base.foreground,Y,l,o.base.boldForeground]]])+" "+((u?"dimmed-text":"bold-text")||"")},s.parsedMessage?W(X.a,{message:s.parsedMessage}):Q(s))),W(j.a,{id:"2085728046",dynamic:[o.modal.background,r,o.base.foreground,Y,l,o.base.boldForeground]},[".message-notification.__jsx-style-dynamic-selector{background:".concat(o.modal.background,";border:1px solid #61429a;position:absolute;").concat(r,":60px;bottom:0;color:").concat(o.base.foreground,";border-radius:6px;padding:3px 15px;cursor:auto;max-width:250px;width:auto;height:36px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:1;-webkit-animation-name:fadepopup-__jsx-style-dynamic-selector;animation-name:fadepopup-__jsx-style-dynamic-selector;-webkit-animation-duration:").concat(Y,"ms;animation-duration:").concat(Y,"ms;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;cursor:pointer;font-size:14px;}"),".chat-message-picture.__jsx-style-dynamic-selector{min-width:24px;margin-right:10px;width:24px;border-radius:15px;border:1px solid ".concat(l,";}"),".bold-text.__jsx-style-dynamic-selector{color:".concat(o.base.boldForeground,";}"),".dimmed-text.__jsx-style-dynamic-selector{color:#808285;}",".message.__jsx-style-dynamic-selector{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}","@-webkit-keyframes fadepopup-__jsx-style-dynamic-selector{0%{opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}}","@keyframes fadepopup-__jsx-style-dynamic-selector{0%{opacity:0;}10%{opacity:1;}90%{opacity:1;}100%{opacity:0;}}","@media (max-width:500px){.message-notification.__jsx-style-dynamic-selector{left:60px !important;right:auto !important;}}"]))},Z=O.createElement;function $(e){var t=e.message,n=e.color,r=e.isFirstMessage,a=e.isOnline,i=t.parsedMessage?Z(X.a,{message:t.parsedMessage}):Q(t);return["join","leave"].includes(t.type)?Z(ee,{username:t.username,color:n,message:i,isOnline:a}):Z("div",null,Z("div",{className:j.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" "+(C()("chat-message",{"first-message":r})||"")},r?Z(O.Fragment,null,Z(te,{username:t.username,isOnline:a}),Z("div",{className:j.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" content"},Z("div",{className:j.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" username"},t.username),Z("div",{className:j.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" text"},i))):Z("div",{className:j.a.dynamic([["2574004682",[n,r?"0px 10px 10px 10px":"10px",n]]])+" text"},i),Z(j.a,{id:"2574004682",dynamic:[n,r?"0px 10px 10px 10px":"10px",n]},[".chat-message.__jsx-style-dynamic-selector{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto', 'Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans', 'Helvetica Neue',sans-serif;border:1px solid ".concat(n,";border-radius:10px;position:relative;margin-top:5px;padding:5px 16px;border-radius:").concat(r?"0px 10px 10px 10px":"10px",";word-wrap:break-word;white-space:pre-wrap;margin-left:3px;display:inline-block;max-width:100%;}"),".chat-message.first-message.__jsx-style-dynamic-selector .profile-image{width:40px;height:40px;min-width:40px;border-radius:20px;border:2px solid ".concat(n,";position:absolute;top:-16px;left:-4px;object-fit:cover;background:white;}"),".chat-message.first-message.__jsx-style-dynamic-selector>.offline{-webkit-filter:grayscale(100%);filter:grayscale(100%);}",".username.__jsx-style-dynamic-selector{color:#808285;margin:0 0 8px 25px;font-size:14px;}",".text.__jsx-style-dynamic-selector{color:var(--color-foreground-1);line-height:1.1;display:inline-block;font-size:15px;max-width:100%;}",".first-message.__jsx-style-dynamic-selector{margin-top:30px;}"])))}function ee(e){var t=e.username,n=e.message,r=e.color,a=e.isOnline;return Z("div",{className:j.a.dynamic([["2315247300",[r,r]]])+" roster-chat-message"},Z(te,{username:t,isOnline:a}),Z("div",{className:j.a.dynamic([["2315247300",[r,r]]])+" content"},Z("div",{className:j.a.dynamic([["2315247300",[r,r]]])+" username"},t),Z("div",{className:j.a.dynamic([["2315247300",[r,r]]])+" text"},n)),Z(j.a,{id:"2315247300",dynamic:[r,r]},[".roster-chat-message.__jsx-style-dynamic-selector{margin-top:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".content.__jsx-style-dynamic-selector{margin-left:5px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".username.__jsx-style-dynamic-selector{display:inline;border:1px solid ".concat(r,";border-radius:15px;padding:3px 6px;min-height:15px;color:var(--color-foreground-1);font-size:14px;}"),".text.__jsx-style-dynamic-selector{margin:8px 0 0 4px;color:#808285;font-size:15px;}",".roster-chat-message.__jsx-style-dynamic-selector .profile-image{width:40px;height:40px;min-width:40px;border-radius:20px;border:2px solid ".concat(r,";background-color:var(--color-background-1);object-fit:cover;}"),".roster-chat-message.__jsx-style-dynamic-selector>.offline{-webkit-filter:grayscale(100%);filter:grayscale(100%);}"]))}function te(e){var t=e.username,n=e.isOnline;return Z(A.h,{variables:{username:t}},(function(e){var t=e.data;return!e.loading&&t&&t.user?Z("img",{className:C()("profile-image",{offline:!n}),src:t.user.image}):Z("img",{className:"profile-image"})}))}var ne=n("925v"),re=O.createElement,ae={right:"left",left:"right"};function ie(e){var t=e.position;return re("div",{className:j.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])+" protip"},re("span",{className:j.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])},"PROTIP:")," Click the"," ",re("div",{className:j.a.dynamic([["465208952",["left"===t?"transform: scaleX(-1);":""]]])+" double-arrow-example"},re(T.WallArrow,{strokeWidth:1}))," ","icon to move the chat.",re(j.a,{id:"465208952",dynamic:["left"===t?"transform: scaleX(-1);":""]},[".double-arrow-example.__jsx-style-dynamic-selector{width:12px;height:12px;display:inline-block;".concat("left"===t?"transform: scaleX(-1);":"",";}"),".empty-chat-wrapper.__jsx-style-dynamic-selector{margin-top:30px;color:var(--color-foreground-1);}",".protip.__jsx-style-dynamic-selector{padding-top:15px;color:var(--color-foreground-1);line-height:1.3em;font-size:13px;}",".protip.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{color:var(--color-positive-1);}","@media (max-width:500px){.protip.__jsx-style-dynamic-selector{display:none;}}"]))}function oe(e){var t=O.createRef(),n=O.useState(!1),r=Object(k.a)(n,2),a=r[0],i=r[1],o=O.useState(!1),s=Object(k.a)(o,2),c=s[0],l=s[1],u=function(){t.current&&!a&&(l(!0),t.current.scrollTop=t.current.scrollHeight)},d=function(){if(t.current)if(c)l(!1);else{var e=t.current.scrollHeight-(t.current.scrollTop+t.current.offsetHeight);i(!(e<50))}};return O.useEffect((function(){t.current&&(t.current.addEventListener("scroll",d),u())}),[]),O.useEffect((function(){u()}),[e.messages]),re("div",{ref:t,className:"jsx-1850330760 multiplayer-chat-scroller"},e.children,re(j.a,{id:"1850330760"},[".multiplayer-chat-scroller.jsx-1850330760{overflow:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;padding-bottom:5px;}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar{background-color:var(--color-background-1);width:5px;}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".multiplayer-chat-scroller.jsx-1850330760::-webkit-scrollbar-thumb{background-color:rgba(119,119,119,0.5);}"]))}var se=function(e){var t=O.useState(""),n=Object(k.a)(t,2),r=n[0],a=n[1],i=O.useState(!1),o=Object(k.a)(i,2),s=o[0],c=o[1],l=Object(N.e)(),u=O.createRef(),d=e.typingUsers.length>3?"Many users are typing...":function(e){switch(e.length){case 0:return"";case 1:return"".concat(e[0]," is typing...");case 2:return"".concat(e[0]," and ").concat(e[1]," are typing...");case 3:var t=e.slice(0,e.length-1);return"".concat(t.map((function(e){return"".concat(e,", ")})),"and \n        ").concat(e[e.length-1]," are typing...");default:return"Many users are typing..."}}(e.typingUsers);return re("div",{className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-component-wrapper"},re(M,{isOpen:s,hideModal:function(){return c(!1)},usersOnline:e.usersOnline,replId:e.replId,onUserClick:function(){return l({type:"MP2_VISITED_PROFILE",wid:e.wid,replId:e.replId,from:"UserListModal"})}}),re("div",{className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-header"},re(z,{usersOnline:e.usersOnline,showModal:function(){return c(!0)},replId:e.replId,wid:e.wid}),re("div",{className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" feedback-link"},re("a",{href:"https://repl.it/feedback/p/multiplayer-v1-feedback",target:"_blank",className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])},"feedback")),re("div",{onClick:function(){return e.togglePosition()},className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" side-switcher"},re(T.WallArrow,{strokeWidth:1})),re("div",{onClick:function(){l({type:"CLOSE_CHAT_CLICKED",wid:e.wid,replId:e.replId}),e.closeChat()},className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" close-chat"},re(T.Minimize,{strokeWidth:1}))),re(oe,{messages:e.messages},re("div",{className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-messages-wrapper"},re(ie,{position:e.position}),e.messages.map((function(t,n){var r=e.messages[n-1]||{username:""},a=e.usersOnline.find((function(e){return e.username===t.username}));return re($,{key:"".concat(t.username,"+").concat(t.text,"+").concat(n),username:t.username,color:a?a.color:"#a7a9ac",message:t,isFirstMessage:r.username!==t.username||r.type!==t.type,isOnline:!!a})})))),re("div",{className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-typing-indicator"},d),re("div",{className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])+" chat-input-wrapper"},re("input",{placeholder:"Start typing here...",ref:u,onChange:function(t){var n=t.currentTarget.value;a(n),""===n?e.setTypingStatus(!1):e.setTypingStatus(!0)},onKeyDown:function(t){13===t.keyCode&&r.trim().length&&(e.sendMessage(r),a(""),e.setTypingStatus(!1))},value:r,className:j.a.dynamic([["4224147230",[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]]])})),re(j.a,{id:"4224147230",dynamic:[ne.b.chatHeaderPadding[e.position],ne.b.borderRadius[e.position],e.position,ne.a-2,ne.a-2,e.position,e.position,"left"===e.position?"transform: scaleX(-1);":"",ne.b.chatHeaderPadding.left,ne.b.borderRadius.left]},[".chat-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;border-bottom:1px solid #61429a;height:93px;padding:".concat(ne.b.chatHeaderPadding[e.position],";}"),".chat-header.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{cursor:pointer;}",".chat-typing-indicator.__jsx-style-dynamic-selector{padding:5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px;font-size:12px;border-bottom:1px solid #61429a;}",".chat-messages-wrapper.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;padding:0 20px;}",".chat-component-wrapper.__jsx-style-dynamic-selector{color:var(--color-foreground-1);height:80vh;max-height:400px;width:250px;background-color:var(--color-background-1);border:2px solid #61429a;border-radius:".concat(ne.b.borderRadius[e.position],";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-").concat(e.position,":none;}"),".chat-input-wrapper.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto', 'Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans', 'Helvetica Neue',sans-serif;width:calc(100% + 2px) !important;border:none !important;background:transparent !important;border-radius:0 0 ".concat(ne.a-2,"px ").concat(ne.a-2,"px;padding:var(--spacing-2) var(--spacing-1);color:inherit;}"),".chat-input-wrapper.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:focus{border:0 none;outline:0;}",".feedback-link.__jsx-style-dynamic-selector{position:absolute;bottom:0;right:0;padding:5px;font-size:14px;}",".close-chat.__jsx-style-dynamic-selector,.side-switcher.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:0;".concat(e.position,":6px;margin-top:2px;width:18px;height:18px;border-radius:3px;cursor:pointer;color:#fff;background:rgba(121,96,169);opacity:0.8;}"),".side-switcher.__jsx-style-dynamic-selector{".concat(e.position,":30px;").concat("left"===e.position?"transform: scaleX(-1);":""," width:26px;padding:2px 6px;}"),".close-chat.__jsx-style-dynamic-selector{padding:2px 4px;}",".close-chat.__jsx-style-dynamic-selector:hover,.side-switcher.__jsx-style-dynamic-selector:hover{opacity:1;}","@media (max-width:500px){.chat-header.__jsx-style-dynamic-selector{padding:".concat(ne.b.chatHeaderPadding.left,";}.chat-component-wrapper.__jsx-style-dynamic-selector{border-radius:").concat(ne.b.borderRadius.left,";border-left:none !important;border-right:2px solid #61429a;}.side-switcher.__jsx-style-dynamic-selector{display:none;}.feedback-link.__jsx-style-dynamic-selector{right:0;left:auto;}.close-chat.__jsx-style-dynamic-selector{left:6px;right:auto;}}")]))},ce=n("9PDL"),le=O.createElement;function ue(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}var de=function(e){var t=e.wid,n=e.pud,r=Object(N.e)(),i=Object(N.f)((function(e){return Object(S.a)(e,t,n,"chat")})),s=i.messages,l=i.loading,d=i.typingUsers,p=i.usersOnline,f=i.repl,b=f.id,h=Object(N.f)((function(e){return{user:e.user.userInfo}})).user,g=O.useState(!1),m=Object(k.a)(g,2),x=m[0],w=m[1],y=O.useState("right"),E=Object(k.a)(y,2),_=E[0],I=E[1],R="left"===_?"72px":"var(--padding-size-large)",L=O.useState(!1),A=Object(k.a)(L,2),D=A[0],P=A[1],F=O.useRef(!1);O.useEffect((function(){F.current?P(!x):F.current=!0}),[s.length]);var M=O.useMemo((function(){if(!Object(ce.a)(h,"flag-collab-mentions"))return s;var e={replUrl:f.url,users:p.map((function(e){return e.username}))};return s.map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):c.a?o()(e,c()(n)):ue(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},t,{parsedMessage:"message"===t.type?Object(X.b)(t.text,e):void 0})}))}),[s,p,h]),U=function(){w((function(e){return!e})),P(!1)};return l?null:le("div",{style:e.style,onClick:U,className:j.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" floating-chat-wrapper"},le("div",{className:j.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" "+(C()("floating-icon-wrapper",{hidden:x})||"")},F.current&&le(J,{expanded:x,messages:M,position:_,usersOnline:p,toggleChat:U}),le("div",{className:j.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" chat-icon-wrapper"},le(T.Chat,null)),D&&le("div",{className:j.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" unread-icon"})),le("div",{onClick:function(e){return e.stopPropagation()},className:j.a.dynamic([["1452244742",[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]]])+" "+(C()("chat-wrapper",{expanded:x})||"")},le(se,{typingUsers:d,messages:M,sendMessage:function(e){r({type:"SEND_CHAT_MESSAGE",wid:t,username:h.username,text:e})},position:_,setTypingStatus:function(e){r({type:"SEND_USER_TYPING",wid:t,username:h.username,typing:e})},togglePosition:function(){r({type:"MP2_CHAT_CHANGED_SIDES",wid:t,replId:b,newSide:ae[_]}),I(ae[_])},replId:b,usersOnline:p,closeChat:U,wid:t})),le(j.a,{id:"1452244742",dynamic:[_,R,x?"ease-in":"ease-out",ne.b.borderRadius[_],_,R,x?"ease-out":"ease-in",ae[_],_,_,ne.b.borderRadius.left]},[".chat-wrapper.__jsx-style-dynamic-selector{position:absolute;".concat(_,":-250px;opacity:0;bottom:").concat(R,";z-index:11;cursor:auto;-webkit-transition:300ms;transition:300ms;-webkit-transition-timing-function:").concat(x?"ease-in":"ease-out",";transition-timing-function:").concat(x?"ease-in":"ease-out",";}"),".chat-icon-wrapper.__jsx-style-dynamic-selector{width:32px;height:32px;padding:5px;color:#fff;}",".floating-icon-wrapper.__jsx-style-dynamic-selector{height:36px;width:50px;border-radius:".concat(ne.b.borderRadius[_],";position:absolute;").concat(_,":0px;bottom:").concat(R,";z-index:10;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;background:linear-gradient(to right,#61419a,#52469c);opacity:1;-webkit-transition:300ms;transition:300ms;-webkit-transition-timing-function:").concat(x?"ease-out":"ease-in",";transition-timing-function:").concat(x?"ease-out":"ease-in",";}"),".unread-icon.__jsx-style-dynamic-selector{position:absolute;top:5px;".concat(ae[_],":12px;background:red;width:8px;height:8px;border-radius:4px;z-index:11;}"),".close.__jsx-style-dynamic-selector{padding:5px;}",".expanded.__jsx-style-dynamic-selector{".concat(_,":0px;opacity:1;}"),".hidden.__jsx-style-dynamic-selector{opacity:0;".concat(_,":-50px;}"),"@media screen and (max-width:500px){.floating-icon-wrapper.__jsx-style-dynamic-selector{left:0 !important;right:auto !important;bottom:24px;border-radius:".concat(ne.b.borderRadius.left,";}.unread-icon.__jsx-style-dynamic-selector{right:12px;left:auto;}.chat-wrapper.__jsx-style-dynamic-selector{left:-250px;right:auto;bottom:24px;}.expanded.__jsx-style-dynamic-selector{left:0px;right:auto;}}")]))},pe=n("Qbrf"),fe=n("lixr"),be=n("uMB5"),he=n("sMSR");function ge(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):c.a?o()(e,c()(n)):ge(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function ve(e){var t=e.wid,n=e.pud;return function(e,r){if(r().user&&r().user.userInfo){var a=r().workspace[t].layout;if(!y.g(a,n)){e({type:"START_CHAT",wid:t});var i=y.h(a,n,"inside",["floating"]),o=i.path,s=i.to;e(Object(x.gb)({wid:t,path:o,to:s,property:null}))}}}}function xe(e,t,n){switch(n.type){case"LOADING_GOVAL_COMPLETE":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].layout;r().user&&r().user.userInfo&&y.g(a,n)&&e({type:"START_CHAT",wid:t})}}({wid:e,pud:t});case"CHAT_STARTED":return function(e){var t=e.wid;return function(e,n){var r=n().user.userInfo;if(Object(ce.a)(r,"flag-collab-notifications"))return e({type:"REQUEST_NOTIFICATION_PERMS",wid:t})}}({wid:e,pud:t});case"USER_JOIN":return function(e){var t=e.wid,n=e.pud,r=e.joinedUsername;return function(e,a){var i=a(),o=i.user&&i.user.userInfo,s=i.workspace[t].plugins[n].state.repl,c=s.id,l=s.title;o&&r!==o.username&&(e(ve({wid:t,pud:n})),Object(ce.a)(o,"flag-collab-notifications")&&Object(he.a)({title:"",body:"".concat(r," joined ").concat(l),tag:"".concat(c,"-").concat(r,"-joined"),iconByUsername:r,cacheDuration:9e5}))}}({wid:e,pud:t,joinedUsername:n.user.name});case"LOAD_CHAT_INTO_LAYOUT":return ve({wid:e,pud:t});case"RCV_CHAT_MESSAGE":return function(e){var t=e.wid,n=e.pud,r=e.action;return function(e,a){var i=a(),o=i.user&&i.user.userInfo,s=i.workspace[t].plugins[n].state.repl;Object(ce.a)(o,"flag-collab-notifications")&&r.username!==o.username&&(Object(he.a)({title:r.username,body:r.text,iconByUsername:r.username,tag:"".concat(s.id,"-").concat(r.text),onClick:function(){return Object(w.track)(w.events.MP2_CHAT_NOTIFICATION_CLICKED)}}),Object(w.track)(w.events.MP2_CHAT_NOTIFICATION_CREATED))}}({wid:e,pud:t,action:n});default:return null}}n.d(t,"reducer",(function(){return we})),n.d(t,"receiver",(function(){return xe})),n.d(t,"Component",(function(){return de}));var we=Object(pe.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,messages:[],typingUsers:[],usersOnline:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_GOVAL_STARTED":return me({},e,{loading:!0});case"CHAT_STARTED":return me({},e,{loading:!1});case"SEND_CHAT_MESSAGE":case"RCV_CHAT_MESSAGE":return me({},e,{messages:[].concat(Object(m.a)(e.messages),[{username:t.username,type:"message",text:t.text}])});case"RCV_USER_TYPING":var n=new g.a(e.typingUsers);return t.isTyping?n.add(t.username):n.has(t.username)&&n.delete(t.username),me({},e,{typingUsers:Object(m.a)(n)});case"CHAT_SCROLLBACK":return me({},e,{messages:t.messages.map((function(e){return{username:e.username,type:"message",text:e.text}}))});case"USER_JOIN":var r=e.usersOnline.find((function(e){return e.id===t.user.id}));if(!r||r.sessionCount>1)return e;var a=e.usersOnline.length+1;return Object(w.track)(w.events.MP2_USER_JOINED,{count:a}),me({},e,{messages:[].concat(Object(m.a)(e.messages),[{username:t.user.name,type:"join",text:""}])});case"USER_LEAVE":return e.usersOnline.some((function(e){return e.id===t.user.id}))?e:me({},e,{typingUsers:e.typingUsers.filter((function(e){return e!==t.user.name})),messages:[].concat(Object(m.a)(e.messages),[{username:t.user.name,type:"leave",text:""}])});default:return e}},repl:fe.b,usersOnline:be.a})},KPrg:function(e,t,n){"use strict";n.r(t);var r,a,i,o=n("hfKm"),s=n.n(o),c=n("2Eek"),l=n.n(c),u=n("XoMD"),d=n.n(u),p=n("Jo+v"),f=n.n(p),b=n("4mXO"),h=n.n(b),g=n("pLtp"),m=n.n(g),v=n("vYYK"),x=n("0iUn"),w=n("sLSF"),y=n("MI3g"),k=n("a7VT"),E=n("Tit0"),j=n("dfwq"),O=n("q1tI"),_=n.n(O),C=n("/MKj"),N=n("ANjH"),T=n("b518"),S=n("3TIX"),I=n("0gYX"),R=n.n(I),L=n("TndZ"),A=function(e){var t=e.split("\n");if(0===t.length)return 0;var n,r=t[t.length-1].replace(/\s+$/,""),a=r.match(/^\s*/);return n=a?a[0]:"",":"===r[r.length-1]?1:!(!n.length||0===r[r.length-1].length)&&0},D=function(e){return!e.includes(":}")&&(!!e.includes(":{")&&0)},P=n("XXOK"),F=n.n(P),M=["begin","module","def","class","if","unless","case","for","while","until","do"],U=/\s+|\d+(?:\.\d*)?|"(?:[^"]|\\.)*"|'(?:[^']|\\.)*'|\/(?:[^/]|\\.)*\/|[-+/*]|[<>=]=?|:?[a-z@$][\w?!]*|[{}()[\]]|[^\w\s]+/gi,H=function(e){var t=0,n=0,r=0,a=0,i=0,o=e.split("\n"),s=!0,c=!1,l=void 0;try{for(var u,d=F()(o);!(s=(u=d.next()).done);s=!0){var p=u.value;i=0;var f=p.match(U)||[],b=void 0,h=!0,g=!1,m=void 0;try{for(var v,x=F()(f);!(h=(v=x.next()).done);h=!0){var w=v.value;if("."!==b||"class"!==w){if(b=w,M.includes(w)?(t++,i++):"("===w?(n++,i++):"{"===w?(r++,i++):"["===w?(a++,i++):"end"===w?(t--,i--):")"===w?(n--,i--):"]"===w?(r--,i--):"}"===w&&(a--,i--),t<0||n<0||r<0||a<0)return!1}else b=w}}catch(y){g=!0,m=y}finally{try{h||null==x.return||x.return()}finally{if(g)throw m}}}}catch(y){c=!0,l=y}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}return(t>0||n>0||r>0||a>0)&&(i>0?1:0)},G=/"(?:[^"]|\\.)*"|'(?:[^']|\\.)*'|\/(?:[^/]|\\.)*\/|[{}()[\]]/gi,B=function(e){var t=e.match(G)||[],n=0,r=0,a=0,i=!0,o=!1,s=void 0;try{for(var c,l=F()(t);!(i=(c=l.next()).done);i=!0){switch(c.value){case"(":r++;break;case")":r--;break;case"[":a++;break;case"]":a--;break;case"{":n++;break;case"}":n--}}}catch(u){o=!0,s=u}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return(r>0||n>0||a>0)&&1},K=n("VzbW"),z=_.a.createElement,V=function(e){var t=e.messages;return z("div",{style:{height:"100%",position:"relative",fontSize:"14px",padding:"15px",boxSizing:"border-box"}},t.map((function(e,t){return z("span",{key:t,style:{whiteSpace:"pre-wrap",fontSize:"14px",lineHeight:"1em",wordWrap:"break-word",fontFamily:"monospace",color:"error"===e.type?"#f06":"#fff",position:"relative",left:"error"===e.type?"-8px":"0px"}},e.data)})),z("div",{style:{marginLeft:"-8px",background:"url(/public/images/sprite.png) -13px -583px no-repeat",width:"24px",height:"16px"}}),z(K.a,{loading:!0}))},X=n("Qbrf"),W=n("lixr"),Y=n("OQjE");n.d(t,"setPromptValue",(function(){return ee})),n.d(t,"Component",(function(){return $})),n.d(t,"reducer",(function(){return re})),n.d(t,"reciever",(function(){return te})),n.d(t,"colors",(function(){return ne}));var q=O.createElement;function Q(e,t){var n=m()(e);if(h.a){var r=h()(e);t&&(r=r.filter((function(t){return f()(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):d.a?l()(e,d()(n)):Q(Object(n)).forEach((function(t){s()(e,t,f()(n,t))}))}return e}var Z=V;var $=Object(C.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.loadingEngine,a=n.consoleMessages,i=n.runstate,o=n.promptValue,s=n.replrun,c=n.repl,l=R.a.get(c.language),u=l.header,d=l.engine,p=Object(T.d)(c),f=!s||c.config.isServer||"goval"!==d,b=Object(j.a)(a);return u&&b.unshift({data:"".concat(u,"\n"),type:""}),{consoleMessages:b,loadingEngine:r,runstate:i,language:c.language,promptValue:o,termUrl:p,hideUrl:f}}),(function(e){return Object(N.b)({consoleInput:S.U,evalCode:S.W,clearConsole:S.T,setPromptValue:ee},e)}))((i=a=function(e){function t(){var e,n;Object(x.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(a)))).ConsoleComponent=Z,n.onConsoleInput=function(e){var t=n.props.wid;"stopping"!==n.props.runstate&&("running"!==n.props.runstate?n.props.evalCode({wid:t,clean:!1,code:e}):n.props.consoleInput({wid:t,input:e,kind:"console"}))},n}return Object(E.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.ConsoleComponent===V&&Promise.all([n.e(48),n.e(127)]).then(n.bind(null,"A1a/")).then((function(t){Z=t.default,e.ConsoleComponent=Z,e.forceUpdate()}))}},{key:"shouldComponentUpdate",value:function(e){return this.props.language!==e.language||this.props.runstate!==e.runstate||this.props.loadingEngine!==e.loadingEngine||this.props.consoleMessages.length!==e.consoleMessages.length||this.props.promptValue!==e.promptValue||this.props.style.width!==e.style.width||this.props.style.height!==e.style.height}},{key:"render",value:function(){var e=this,t=this.ConsoleComponent;return q("div",{style:J({},this.props.style,{backgroundColor:"var(--color-brand-dark-blue)",borderRadius:"var(--border-radius-1)"})},!this.props.hideUrl&&q(L.b,{url:this.props.termUrl,isReplRun:!0}),q("div",{style:{height:"calc(100% - ".concat(this.props.hideUrl?"0px":L.a,")")}},q(t,{messages:this.props.consoleMessages,showModal:function(){},clearConsole:function(){return e.props.clearConsole({wid:e.props.wid,pud:e.props.pud})},setPromptValue:function(t){return e.props.setPromptValue({wid:e.props.wid,pud:e.props.pud,promptValue:t})},onEval:this.onConsoleInput,promptState:"idle"!==this.props.runstate?"input":"prompt",checkLineEnd:function(t,n){return function(e,t,n){if(/\n\s*$/.test(t))n(!1);else switch(R.a.get(e).key.toLowerCase()){case"html":n(B(t));break;case"haskell":n(D(t));break;case"python_turtle":n(A(t));break;case"ruby":n(H(t));break;default:n(!1)}}(e.props.language,t,n)},promptValue:this.props.promptValue,loading:this.props.loadingEngine})))}}]),t}(O.Component),a.defaultProps={style:{}},r=i))||r;function ee(e){return{type:"SET_PROMPT_VALUE",wid:e.wid,pud:e.pud,promptValue:e.promptValue}}function te(e,t,n){switch(n.type){case"EVAL_SETUP":return function(e){var t=e.wid,n=e.pud;return function(e){e(Object(S.db)({wid:t,pud:n,alertStatus:"none"}))}}({wid:e,pud:t});case S.y:return function(e){var t=e.wid,n=e.pud,r=e.message;return function(e,a){var i=a().workspace[t].plugins[n].alertStatus;(r.type||r.data)&&"result"!==r.type&&"error"!==i&&("error"!==r.type?e(Object(S.db)({wid:t,pud:n,alertStatus:"warning"})):e(Object(S.db)({wid:t,pud:n,alertStatus:"error"})))}}({wid:e,pud:t,message:n.message})}return null}var ne={background:"#0e1628",activeBackground:"#0e1628",inactiveBackground:"#0e1628",activeText:"#6688c6",activeBorder:"#6688c6",inactiveText:"#777777",inactiveBorder:"#777777"},re=Object(X.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{consoleMessages:[],loadingEngine:!1,runstate:"idle",presetStdin:"",promptValue:"",replrun:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.q:return J({},e,{},t.initialState);case S.w:return J({},e,{loadingEngine:!0});case S.v:return J({},e,{loadingEngine:!1});case S.y:return"shell"===t.message.type?e:J({},e,{consoleMessages:e.consoleMessages.concat(t.message)});case S.N:var n=Object(S.V)("\nRepl.it: Stopping... please wait\n","error");return J({},e,{consoleMessages:e.consoleMessages.concat(n)});case"SET_PROMPT_VALUE":return J({},e,{promptValue:t.promptValue});case S.a:return J({},e,{consoleMessages:[]});case S.g:return J({},e,{consoleMessages:[Object(S.V)("\nRepl.it: starting debugger\n","")]});default:return e}},repl:W.b,runstate:Y.a})},"LCp+":function(e,t,n){"use strict";n.r(t),n.d(t,"reducer",(function(){return I})),n.d(t,"receiver",(function(){return S}));var r=n("ln6h"),a=n.n(r),i=n("XXOK"),o=n.n(i),s=n("jfjY"),c=n("nOHt"),l=n.n(c),u=n("EVOq"),d=n("h7rM"),p=n("CD53"),f=n("S6NQ"),b=n("NveQ"),h=n("Yk3a"),g=n("YtxT"),m=n("Qbrf"),v=n("YexM"),x=n("StYe"),w=n("MGJp"),y=n("dI/k"),k="deeplink",E=function(e){return function(t){return"DIRECTORY_LOADED"===t.type&&t.path===e}};function j(e){var t=e.wid,n=e.pud,r=e.path,i=e.wait;return function(e,s){var c,l,u,p,f,b,h,g,m,v,x,w;return a.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:c=Object(y.d)(r),l=c.split("/"),u="",p=!0,f=!1,b=void 0,j.prev=6,h=o()(l);case 8:if(p=(g=h.next()).done){j.next=21;break}if(m=g.value,v=Object(d.a)(s(),t,n,k),x=v.dirs,null===(w=x[u+=m])||void 0===w?void 0:w.loaded){j.next=17;break}return e({type:"LOAD_DIRECTORY",wid:t,path:u}),j.next=17,a.a.awrap(i(E(u)));case 17:u+="/";case 18:p=!0,j.next=8;break;case 21:j.next=27;break;case 23:j.prev=23,j.t0=j.catch(6),f=!0,b=j.t0;case 27:j.prev=27,j.prev=28,p||null==h.return||h.return();case 30:if(j.prev=30,!f){j.next=33;break}throw b;case 33:return j.finish(30);case 34:return j.finish(27);case 35:e({type:"SET_ACTIVE_FILE_TREE_NODE",wid:t,path:r}),e({type:"SET_EXPANDED_FILE_TREE_NODE",wid:t,path:c,isExpanded:!0});case 37:case"end":return j.stop()}}),null,null,[[6,23,27,35],[28,,30,34]])}}function O(e){var t=e.wid,n=e.pud,r=e.path,i=e.line,o=e.col,c=e.wait,u=e.action;return function(e,p){var f,b,h,g,m,v,w;return a.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:if(r){E.next=3;break}return e(Object(x.a)({wid:t,pud:n,action:u,pluginName:k})),E.abrupt("return");case 3:if(f=Object(d.a)(p(),t,n,k),b=f.aceEditSessionCreated,h=f.currentFile,g=f.dirs,h.path===r){E.next=12;break}if(v=Object(y.d)(r),!r.includes("/")||(null===(m=g[v])||void 0===m?void 0:m.loaded)){E.next=9;break}return E.next=9,a.a.awrap(e(j({wid:t,pud:n,path:r,wait:c})));case 9:return e({type:"OPEN_FILE",path:r,wid:t}),E.next=12,a.a.awrap(c((function(e){return("FILE_LOADED"===e.type||"FILE_CACHE_HIT"===e.type)&&e.path===r})));case 12:if(!i){E.next=19;break}if(w=l.a.query,!(w.mobile||!w.lite&&Object(s.isMobile)())||b){E.next=18;break}return E.next=18,a.a.awrap(c((function(e){return"ACE_EDIT_SESSION_CREATED"===e.type&&e.path===r})));case 18:e({type:"SELECT_EDITOR_POSITION",path:r,wid:t,position:{lineNumber:i,column:(o||0)+1}});case 19:case"end":return E.stop()}}))}}function _(e){var t=e.wid,n=e.pud,r=e.wait,i=e.action;return function(e){var o,s,c,l,d,p,f,b;return a.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if("OPEN_DEEP_LINK"!==i.type){h.next=5;break}o=i.path,s=i.line,c=i.col,e(O({wid:t,pud:n,path:o,line:s,col:c,wait:r,action:i})),h.next=16;break;case 5:if(!Object(w.b)()){h.next=16;break}return h.next=8,a.a.awrap(e(Object(u.a)({wid:t,service:"exec",wait:r})));case 8:return l=h.sent,h.next=11,a.a.awrap(Object(w.a)(l));case 11:d=h.sent,p=d.path,f=d.line,b=d.col,e(O({wid:t,pud:n,path:p,line:f,col:b,wait:r,action:i}));case 16:case"end":return h.stop()}}))}}var C=Object(h.a)((function(){return{isSettingHash:!1,handleHashChange:void 0,aceEditSessionCreated:!1}})),N=C.reducer,T=C.setState,S=Object(v.a)((function(e,t,n,r){switch(n.type){case"DIRECTORY_LOADED":return _({wid:e,pud:t,wait:r,action:n});case"WORKSPACE_MOUNTED":return function(e){var t=e.wid,n=e.pud,r=e.wait,i=e.action;return function(e,o){var s=function(){var s;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:s=Object(d.a)(o(),t,n,k),s.isSettingHash?T(t,n,e,{isSettingHash:!1}):e(_({wid:t,pud:n,wait:r,action:i}));case 2:case"end":return a.stop()}}))};T(t,n,e,{handleHashChange:s}),window.addEventListener("hashchange",s)}}({wid:e,pud:t,wait:r,action:n});case"WORKSPACE_WILL_UNMOUNT":return function(e,t){return function(n,r){var a=Object(d.a)(r(),e,t,k).handleHashChange;a&&window.removeEventListener("hashchange",a)}}(e,t);case"ACE_EDIT_SESSION_CREATED":return function(e,t){return function(n){T(e,t,n,{aceEditSessionCreated:!0})}}(e,t);case"OPEN_DEEP_LINK":return _({wid:e,pud:t,wait:r,action:n});case"OPEN_FILE":return function(e,t,n,r){return function(i){var o,s;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.a.awrap(i(Object(u.a)({wid:e,service:"exec",wait:r})));case 2:return o=c.sent,c.next=5,a.a.awrap(Object(w.a)(o));case 5:s=c.sent,s.path!==n&&(T(e,t,i,{isSettingHash:!0}),window.location.hash.length>0?window.location.hash="#".concat(n):l.a.replace({pathname:l.a.pathname,query:l.a.query},"".concat(l.a.asPath,"#").concat(n),{shallow:!0}));case 8:case"end":return c.stop()}}))}}(e,t,n.path,r);default:return null}})),I=Object(m.a)({primary:N,files:f.a,dirs:b.a,language:g.a,currentFile:p.a})},LtZI:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n("MX0m")),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=c(n("TSYQ"));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.isOn,n=e.onIcon,r=e.offIcon,s=e.onChange;return i.createElement("label",{htmlFor:"toggle",className:"jsx-272783818 "+((0,o.default)("toggle-label",{isOn:t})||"")},i.createElement("input",{checked:t,onChange:s,id:"toggle",type:"checkbox",className:"jsx-272783818 toggle-checkbox"}),i.createElement("span",{className:"jsx-272783818 toggle-button"},t&&n?n:r||null),i.createElement(a.default,{id:"272783818"},[".toggle-checkbox.jsx-272783818{height:0;width:0;visibility:hidden;}",".toggle-label.jsx-272783818{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer;width:40px;height:24px;background:var(--color-control-2);border:0.5px solid var(--color-border);border-radius:100px;position:relative;-webkit-transition:background-color 0.2s;transition:background-color 0.2s;}",".toggle-button.jsx-272783818{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;content:'';position:absolute;left:1px;width:22px;height:22px;border-radius:45px;-webkit-transition:0.2s;transition:0.2s;background:var(--color-white);box-shadow:var(--shadow-1);color:var(--color-foreground-2);}",".toggle-label.isOn.jsx-272783818{background-color:var(--color-primary-1);border-color:var(--color-primary-1);}",".toggle-checkbox.jsx-272783818:checked+.toggle-button.jsx-272783818{left:calc(100% - 1px);-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);color:var(--color-primary-1);}",".toggle-label.jsx-272783818:active .toggle-button.jsx-272783818{box-shadow:var(--shadow-3);}"]))};t.default=l},MGJp:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h}));var r=n("ln6h"),a=n.n(r),i=n("6BQ9"),o=n.n(i),s=/^\d+$/,c=function(e){return 0===e.length||e.startsWith("/")},l=function(e){return e.startsWith("./")?e.slice(2):e},u=function(e){if(e)return s.test(e)?o()(e,10):void 0},d=function(e){return e.split(":").length-1};function p(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return",!1);case 2:return r.next=4,a.a.awrap(e.request({exec:{args:["test","-f",t]}}));case 4:return n=r.sent,r.abrupt("return",Boolean(n.ok));case 6:case"end":return r.stop()}}))}function f(e,t){var n,r,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a.a.awrap(p(e,t));case 2:if(!o.sent){o.next=4;break}return o.abrupt("return",{path:t});case 4:if(0!==d(t)){o.next=6;break}return o.abrupt("return",{});case 6:return n=t.split(":"),r=u(n.pop()),t=n.join(":"),o.next=11,a.a.awrap(p(e,t));case 11:if(!o.sent){o.next=13;break}return o.abrupt("return",{path:t,line:r});case 13:if(0!==d(t)){o.next=15;break}return o.abrupt("return",{});case 15:return i=r,r=u(n.pop()),t=n.join(":"),o.next=20,a.a.awrap(p(e,t));case 20:if(!o.sent){o.next=22;break}return o.abrupt("return",{path:t,line:r,col:i});case 22:return o.abrupt("return",{});case 23:case"end":return o.stop()}}))}function b(){return window.location.hash.length>1}function h(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=window.location.hash.slice(1);try{t=window.decodeURI(t)}catch(a){}if(n=l(t),!c(n)){r.next=5;break}return r.abrupt("return",{});case 5:return r.abrupt("return",f(e,n));case 6:case"end":return r.stop()}}))}},NveQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("doui"),g=n("vYYK"),m=n("NuhN");function v(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):c.a?o()(e,c()(n)):v(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{"":{path:"",loaded:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIRECTORY_UNLOAD":var n=Object(m.d)(e,t.path);if(!n.length&&null==e[t.path])return e;var r=x({},e);return n.length&&n.forEach((function(e){r[e]={path:e,loaded:!1}})),r[t.path]={path:t.path,loaded:!1},r;case"LOAD_DIRECTORY":if(!e[t.path])throw new Error("Cannot load a directory that does not exist");return e;case"CREATE_CLIENT_DIRECTORY":return x({},e,Object(g.a)({},t.path,e[t.path]||x({loaded:!1,path:t.path},e[t.path])));case"DIRECTORY_LOADED":return x({},e,Object(g.a)({},t.path,{path:t.path,loaded:!0}));case"DELETE_FILE":var a=Object(m.d)(e,t.path);if(!a.length&&null==e[t.path])return e;var i=x({},e);return a.length&&a.forEach((function(e){delete i[e]})),delete i[t.path],i;case"MOVE_FILE":var o=Object(m.f)(e,t.path,t.to);if(!o.length)return e;var s=x({},e);return o.forEach((function(t){var n=Object(h.a)(t,2),r=n[0],a=n[1];delete s[r],s[a]=x({},e[r],{path:a})})),s;default:return e}}},PMgc:function(e,t,n){"use strict";function r(e){var t={};return e.lite&&(t.lite=e.lite),e.classroom_template&&(t.classroom_template=e.classroom_template),e.outputonly&&(t.outputonly=e.outputonly),e.fileName&&(t.fileName=e.fileName),e.debug&&(t.debug=e.debug),e.inspector&&(t.inspector=e.inspector),e.fallback&&(t.fallback=e.fallback),e.vcr&&(t.vcr=e.vcr),t}n.d(t,"a",(function(){return r}))},"Qv0/":function(e,t,n){"use strict";n.r(t),n.d(t,"createLanguageClient",(function(){return F})),n.d(t,"overrideLogger",(function(){return M})),n.d(t,"reciever",(function(){return G})),n.d(t,"reducer",(function(){return B}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("vYYK"),g=n("ln6h"),m=n.n(g),v=n("eVuF"),x=n.n(v),w=n("FzLU"),y=n("3TIX"),k=n("GnjG"),E=n("0gYX"),j=n.n(E),O=n("0Ct5"),_=n("tjxJ"),C=n("zoC5"),N=n("Qbrf"),T=n("lixr"),S=n("N9ih"),I=n("zgDP");function R(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):R(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var A="LSP_CONNECTION_STARTED",D="LSP_CONNECTION_ENDED",P="REGISTER_LSP_READER_HANDLE";function F(e,t){var r,a,i,o,s;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m.a.awrap(Promise.all([n.e(8),n.e(11),n.e(13),n.e(24)]).then(n.t.bind(null,"nwKM",7)));case 2:return r=c.sent,a=r.MonacoLanguageClient,i=r.createConnection,o=r.CloseAction,s=r.ErrorAction,c.abrupt("return",new a({name:"repl.it language client",clientOptions:{documentSelector:[{pattern:"**/*.".concat(t)}],errorHandler:{error:function(){return s.Continue},closed:function(){return o.DoNotRestart}}},connectionProvider:{get:function(t,n){return x.a.resolve(i(e,t,n))}}}));case 8:case"end":return c.stop()}}))}function M(e){e.error=function(){},e.info=function(){},e.warn=function(){},e.log=function(){}}function U(e){var t=e.wid,r=e.pud;return function(e,a){var i,o,s,c,l,u,d,p,f,b,h,g,v,x,k,E,C,N,T,S,R,L,D,U;return m.a.async((function(H){for(;;)switch(H.prev=H.next){case 0:if(i=a().workspace[t].plugins[r].state,o=i.editorHandle,s=i.langServerReady,c=i.lspConnectionStarted,l=i.preferences,u=i.repl,d=i.workingDirectory,l.codeIntelligence&&s&&o&&!c){H.next=3;break}return H.abrupt("return");case 3:if(!window.navigator.userAgent.match(/Trident\/7\./)){H.next=5;break}return H.abrupt("return");case 5:return H.next=7,m.a.awrap(Promise.all([n.e(8),n.e(11),n.e(13)]).then(n.t.bind(null,"C+6V",7)));case 7:return p=H.sent,f=p.createMessageConnection,b=p.NullLogger,H.next=12,m.a.awrap(Promise.all([n.e(8),n.e(11),n.e(13),n.e(24)]).then(n.t.bind(null,"nwKM",7)));case 12:if(h=H.sent,g=h.MonacoServices,v=h.MonacoLanguages,e({type:A,wid:t}),x=w.a.get(o)){H.next=19;break}throw new Error("No editor found during LSP init");case 19:return k=u.id,E=u.language,C=u.slug,v.prototype.registerCodeLensProvider=void 0,g.install(x,{rootUri:"file://".concat(d)}),N=new O.a((function(n){e({type:y.H,content:n,wid:t})})),T=new _.a,S=f(T,N,b),e({type:P,wid:t,readerHandle:w.a.getHandle(T)}),R=j.a.get(u.language),L=R.ext,H.next=29,m.a.awrap(F(S,L));case 29:M(D=H.sent),U=D.start(),S.onClose((function(){return U.dispose()})),Object(I.track)(I.events.LSP_CONNECTION_STARTED,{replId:k,language:E,slug:C,isService:!1});case 34:case"end":return H.stop()}}))}}function H(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state,i=a.readerHandle,o=a.repl,s=w.a.get(i),c=o.id,l=o.language,u=o.slug;Object(I.track)(I.events.LSP_CONNECTION_ENDED,{replId:c,language:l,slug:u,isService:!1,messageReaderExists:Boolean(s)}),s&&(s.fireClose(),e({type:P,wid:t,readerHandle:null})),e({type:D,wid:t})}}function G(e,t,n){return"LOADING_GOVAL_STARTED"===n.type?H({wid:e,pud:t}):n.type===y.s?function(n,r){var a=r().workspace[e].plugins[t].state,i=a.repl,o=a.disconnects,s=i.id,c=i.language,l=i.slug;Object(I.track)(I.events.LSP_SERVER_DIED,{replId:s,language:c,slug:l,disconnects:o,isService:!1}),n(H({wid:e,pud:t})),n(U({wid:e,pud:t}))}:"UPDATE_WORKING_DIRECTORY"===n.type?Object(k.a)(H({wid:e,pud:t}),U({wid:e,pud:t})):"LOADING_GOVAL_COMPLETE"===n.type||n.type===y.D?U({wid:e,pud:t}):n.type===y.A?function(e){var t=e.wid,n=e.pud,r=e.content;return function(e,a){var i=a().workspace[t].plugins[n].state,o=i.readerHandle,s=i.repl,c=s.id,l=s.language,u=s.slug,d=w.a.get(o);if(d){var p=d.readMessage(r);p||(Object(I.track)(I.events.LSP_MESSAGE_READ_FAILED,{replId:c,language:l,slug:u,success:p,isService:!1}),e({type:y.s,wid:t}))}}}({wid:e,pud:t,content:n.content}):n.type===y.P&&void 0!==n.updates.codeIntelligence?function(e){var t=e.wid,n=e.pud,r=e.codeIntelligence;return function(e,a){var i=a().workspace[t].plugins[n].state.lspConnectionStarted;r||!i?r&&!i&&e(U({wid:t,pud:n})):e(H({wid:t,pud:n}))}}({wid:e,pud:t,codeIntelligence:n.updates.codeIntelligence}):null}Promise.all([n.e(8),n.e(11),n.e(13),n.e(24)]).then(n.t.bind(null,"nwKM",7)).then((function(e){return e})),Promise.all([n.e(8),n.e(11),n.e(13)]).then(n.t.bind(null,"C+6V",7)).then((function(e){return e}));var B=Object(N.a)({primary:function(e,t){switch(t.type){case y.q:return L({},e,{},t.initialState);case A:return L({},e,{lspConnectionStarted:!0});case D:return L({},e,{lspConnectionStarted:!1});case"LOADING_GOVAL_COMPLETE":return L({},e,{langServerReady:!0});case"LOADING_GOVAL_STARTED":return L({},e,{langServerReady:!1});case y.s:return L({},e,{disconnects:(e.disconnects||0)+1,langServerReady:!1});case P:return L({},e,{readerHandle:t.readerHandle});case y.D:return L({},e,{editorHandle:t.editorHandle});default:return e}},preferences:C.b,repl:T.b,workingDirectory:S.b})},RrDl:function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("vYYK"),g=n("3TIX"),m=n("Qbrf"),v=n("lixr"),x=n("UO7Q"),w=n("h7rM");function y(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].layout,i=x.j(a,n),o=i.path,s=i.to;e(Object(g.gb)({wid:t,path:o,to:s,property:void 0}))}}var k=n("doui"),E=n("MX0m"),j=n.n(E),O=n("q1tI"),_=n.n(O),C=n("9vYF"),N=n("4JO1"),T=n("tZOq"),S=n("/MKj"),I=O.createElement;function R(e){return I("div",{onClick:function(){var t=document.createElement("div");t.innerHTML=e.code;var n=t.textContent||t.innerText||"";e.onSelectExample(n)},className:"jsx-1234292386 example"},I("div",{className:"jsx-1234292386 example-name"},e.name),I("code",{dangerouslySetInnerHTML:{__html:e.code},className:"jsx-1234292386"}),I(j.a,{id:"1234292386"},[".example.jsx-1234292386{padding:15px;cursor:pointer;border-radius:5px;min-width:250px;max-width:450px;}",".example.jsx-1234292386:hover{background:lightgray;}",".example-name.jsx-1234292386{font-size:20px;}","code.jsx-1234292386{display:block;white-space:pre-wrap;overflow-wrap:break-word;line-height:22px;padding:20px 0;}","@media screen and (min-width:800px){.example.jsx-1234292386{min-width:350px;}code.jsx-1234292386{padding:20px;}}"]))}var L=_.a.createElement;function A(e){var t=e.wid,n=e.pud,r=e.style,a=Object(w.b)(t,n,"examples"),i=Object(k.a)(a,1)[0].repl,o=Object(S.e)(),s=Object(T.hb)({variables:{id:i.language}}),c=s.data,l=s.loading,u=s.error;Object(O.useEffect)((function(){o({wid:t,type:"LOAD_EXAMPLES_REQUEST"})}),[]);var d=function(e){o(function(e){var t=e.wid,n=e.pud,r=e.code;return function(e,a){var i=a().workspace[t].activeFile,o=Object(w.a)(a(),t,n,"examples").path;e({wid:t,type:"OT_FILE_OP",op:[r],path:o||i,changeSource:"examples"})}}({wid:t,pud:n,code:e})),o(y({wid:t,pud:n}))};if(l)return L(N.a,null);var p=null;if(c&&!c.language)p=L(D,null,"Language not found");else if(c&&c.language&&!c.language.examples)p=L(D,null,"Sorry this language doesnt have any examples. We will add some in the future.");else if(c&&c.language&&c.language.examples){var f=c.language.examples;p=L("div",{style:r,className:"jsx-653915204 workspace-examples"},L("div",{className:"jsx-653915204"},f.slice(0,(f.length+1)/2).map((function(e){return L(R,{onSelectExample:d,name:e.name,code:e.code,key:e.name})}))),L("div",{className:"jsx-653915204"},f.slice((f.length+1)/2).map((function(e){return L(R,{onSelectExample:d,name:e.name,code:e.code,key:e.name})}))),L(j.a,{id:"1885751759"},[".workspace-examples.jsx-653915204{padding:40px 20px;}","@media screen and (min-width:800px){.workspace-examples.jsx-653915204{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:40px;}}"]),L(j.a,{id:"2242734050"},[".hljs{display:block;overflow-x:auto;padding:0.5em;background:white;color:black;}",".hljs-comment,.hljs-quote,.hljs-variable{color:#4c886b;}",".hljs-keyword,.hljs-selector-tag,.hljs-built_in,.hljs-name,.hljs-tag{color:#00f;}",".hljs-string,.hljs-title,.hljs-section,.hljs-attribute,.hljs-literal,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-addition{color:#036a07;}",".hljs-deletion,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-meta{color:#2b91af;}",".hljs-doctag{color:#808080;}",".hljs-attr{color:#f00;}",".hljs-symbol,.hljs-bullet,.hljs-link{color:#00b0e8;}",".hljs-emphasis{font-style:italic;}",".hljs-strong{font-weight:bold;}",".hljs-number{color:#0000cd;}"]))}return u&&(p=L(D,null,u.message)),L(C.default,{onRequestClose:function(){o(y({wid:t,pud:n}))}},p)}var D=function(e){var t=e.children;return L("div",{className:"jsx-1499834569"},t,L(j.a,{id:"1499834569"},["div.jsx-1499834569{padding:40px;}"]))};function P(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e,t,n){switch(n.type){case g.M:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].layout,i=x.h(a,n,"inside",x.d(),{once:!0}),o=i.path,s=i.to;e(Object(g.gb)({wid:t,path:o,to:s,property:void 0}))}}({wid:e,pud:t});default:return null}}n.d(t,"reducer",(function(){return M})),n.d(t,"reciever",(function(){return F})),n.d(t,"Component",(function(){return A}));var M=Object(m.a)({primary:function(e,t){switch(t.type){case"SET_EXAMPLES_PATH":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):P(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},e,{path:t.path});default:return e}},repl:v.b})},StYe:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("pLtp"),a=n.n(r),i=n("Hxkj"),o=n("h7rM"),s=n("+Y0W");function c(e){var t=e.wid,n=e.pud,r=e.action,c=e.pluginName;return function(e,l){if(""===r.path&&!l().workspace[t].activeFile){var u=Object(o.a)(l(),t,n,c),d=u.files,p=u.language,f=a()(d);if(0!==f.length){var b=Object(i.a)(f,p);b&&e({type:"OPEN_FILE",wid:t,path:b})}else e(Object(s.a)({wid:t}))}}}},TndZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n("TSYQ"),s=n.n(o),c=n("9ICu"),l=n.n(c),u=n("zgDP"),d=i.createElement,p="40px";function f(e){var t=e.url,n=e.isReplRun;return d("div",{className:"jsx-2618712838 "+(s()("webview-url-bar",{"is-repl-run":n})||"")},d("input",{value:t,type:"text",onClick:function(e){e.currentTarget.select(),Object(u.track)(u.events.WS_REPL_RUN_LINK_SELECTED,{url:t})},readOnly:!0,className:"jsx-2618712838"}),d("a",{href:t,role:"tooltip","data-microtip-position":"left","aria-label":"Open in a new tab",target:"_blank",className:"jsx-2618712838"},d(l.a,null)),d(a.a,{id:"2618712838"},[".webview-url-bar.jsx-2618712838{display:grid;grid-column-gap:var(--spacing-1);grid-template-columns:1fr auto;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:".concat(p,";padding:0 var(--spacing-1);background-color:var(--color-background-1);color:var(--color-foreground-1);border-top-left-radius:var(--border-radius-1);border-top-right-radius:var(--border-radius-1);}"),"input.jsx-2618712838{background-color:transparent;outline:none;padding:2px 4px;font-size:13px;border-radius:var(--border-radius-1);color:var(--color-foreground-2);border:1px solid var(--color-white-32);}","a.jsx-2618712838{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;color:var(--color-foreground-3);}","a.jsx-2618712838:hover{color:var(--color-foreground-1);}",".webview-url-bar.is-repl-run.jsx-2618712838{background:var(--color-brand-dark-blue);}",".is-repl-run.jsx-2618712838 input.jsx-2618712838{color:var(--color-white-64);}",".is-repl-run.jsx-2618712838 a.jsx-2618712838{color:var(--color-white-50);}",".is-repl-run.jsx-2618712838 a.jsx-2618712838:hover{color:var(--color-brand-gray);}"]))}},UMvL:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("0iUn"),a=n("sLSF"),i=n("MI3g"),o=n("a7VT"),s=n("Tit0"),c=n("MX0m"),l=n.n(c),u=n("q1tI"),d=n("TSYQ"),p=n.n(d),f=n("A3V5"),b=n.n(f),h=u.createElement,g=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={showSection:n.props.expanded},n.toggleSection=function(){if(n.props.manageOwnState){var e=!n.state.showSection;return n.setState({showSection:e}),void n.props.onChange(e)}n.props.onChange()},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.expandable,n=e.title,r=e.staticContent,a=e.children,i=e.expanded,o=e.manageOwnState,s=this.state.showSection,c=o?s:i;return h("div",{className:"jsx-2326302603 expandableSection-container"},h(l.a,{id:"1587951201"},[".expandableSection-container.jsx-2326302603{position:relative;}",".expandableSection-sectionTitle.jsx-2326302603{background-color:var(--color-background-3);color:var(--color-foreground-1);}",".expandableSection-sectionTitle.jsx-2326302603:hover{color:var(--color-white);}"]),h(l.a,{id:"1742150307"},[".expandableSection-container.jsx-2326302603{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;}",".expandableSection-sectionTitle.jsx-2326302603{font-size:15px;font-weight:400;margin:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-height:35px;}",".expandableSection-sectionTitle.jsx-2326302603 svg{margin-right:5px;}",".expandableSection-childrenWrapper.jsx-2326302603{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;overflow-wrap:break-word;-webkit-flex:1;-ms-flex:1;flex:1;}"]),this.props.scopedStyles,h("div",{style:t?{cursor:"pointer"}:{},onClick:t?this.toggleSection:void 0,className:"jsx-2326302603 "+(p()("expandableSection-sectionTitle",this.props.scopedClassName)||"")},t&&h(b.a,{size:this.props.arrowSize,color:this.props.fillArrow?"currentColor":"transparent",direction:c?"bottom":"right",borderWidth:this.props.arrowBorderWidth,borderColor:"currentColor",style:{marginLeft:"".concat(c?"0":"3","px"),marginRight:"".concat(c?"10.5":"14","px")}}),n),r,h("div",{className:"jsx-2326302603 "+(p()("expandableSection-childrenWrapper",this.props.scopedClassName)||"")},c&&a))}}]),t}(u.Component);g.defaultProps={expandable:!0,expanded:!0,onChange:function(){},scopedStyles:null,scopedClassName:"",arrowBorderWidth:1,arrowSize:5,manageOwnState:!0}},VhAj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("dI/k"),a=n("0gYX"),i=n.n(a),o=function(e,t){if(Object(r.h)(e))return null;if(s(e))return!0;var n=i.a.get(t);return!(!n.hasFormat&&!n.hasLanguageServer||Object(r.a)(e)!==n.ext)},s=function(e){var t=Object(r.a)(e);return!!["json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc","html","js","jsx","es6","ts","tsx"].includes(t)}},VwSA:function(e,t,n){"use strict";t.a={py:"#78ABC0",rb:"#DD646A",js:"#C5B007",java:"#84BEE2",html:"#F98545",css:"#28AAE6",cpp:"#659AD1",c:"#A8B9CB",default:{replitLight:"#808080",replitDark:"#E5E5E5"},selected:"#ffffff"}},VzbW:function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("vYYK"),g=n("q1tI"),m=g.createElement;function v(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):v(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var w={progress:{base:{position:"absolute",left:"25%",right:"25%",top:"47%",height:"7px",backgroundColor:"transparent",borderStyle:"solid",borderWidth:"1px",borderRadius:"10px",borderColor:"#fff",transition:"opacity 0.5s",zIndex:1},progressFiller:{width:"100%",height:"5px",backgroundColor:"#fff"},progressFill:{animation:"x 3s ease 0s infinite",animationName:"loader-fill-animation"}}};t.a=function(e){var t=w.progress;return m("div",{style:x({},t.base,{},e.loading?{}:{opacity:0})},m("div",{style:x({},t.progressFiller,{},e.loading?t.progressFill:{})}))}},W8YL:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"reducer",(function(){return dt})),n.d(r,"reciever",(function(){return pt}));var a={};n.r(a),n.d(a,"receiver",(function(){return kt})),n.d(a,"reducer",(function(){return Et}));var i={};n.r(i),n.d(i,"reciever",(function(){return jn})),n.d(i,"reducer",(function(){return On}));var o={};n.r(o),n.d(o,"reducer",(function(){return Nn})),n.d(o,"reciever",(function(){return Tn}));var s={};n.r(s),n.d(s,"reducer",(function(){return Rn})),n.d(s,"receiver",(function(){return Ln}));var c={};n.r(c),n.d(c,"receiver",(function(){return Mn})),n.d(c,"reducer",(function(){return Un}));var l={};n.r(l),n.d(l,"reducer",(function(){return er})),n.d(l,"Component",(function(){return tr}));var u=n("hfKm"),d=n.n(u),p=n("2Eek"),f=n.n(p),b=n("XoMD"),h=n.n(b),g=n("Jo+v"),m=n.n(g),v=n("4mXO"),x=n.n(v),w=n("dfwq"),y=n("vYYK"),k=n("ln6h"),E=n.n(k),j=n("pLtp"),O=n.n(j),_=n("34QA"),C=n("0gYX"),N=n.n(C),T=n("3TIX"),S=n("Qbrf"),I=n("GnjG"),R=n("FzLU"),L=n("YexM"),A=n("S6NQ"),D=n("h2o0"),P=n("lixr"),F=n("2wwy"),M=n.n(F),U=n("XXOK"),H=n.n(U),G=n("9Jkg"),B=n.n(G),K=n("eVuF"),z=n.n(K),V=n("g7Gn"),X=n("5/z4"),W=n("ArsQ"),Y=n("9PDL"),q=n("o40J"),Q=n("h7rM"),J=n("nOHt"),Z=n.n(J);function $(e){var t=e.wid,n=e.cmd;return function(e,r){if(!Object(Y.a)(r().user.userInfo,"flag-multiplayer-services"))switch(n.body){case"chatMessage":if(null==n.chatMessage)return;return void e({type:"RCV_CHAT_MESSAGE",wid:t,username:n.chatMessage.username,text:n.chatMessage.text});case"chatTyping":if(null==n.chatTyping)return;return void e({type:"RCV_USER_TYPING",wid:t,username:n.chatTyping.username,isTyping:n.chatTyping.typing});case"chatScrollback":if(null==n.chatScrollback)return;return void e({type:"CHAT_SCROLLBACK",wid:t,messages:n.chatScrollback.scrollback});default:V.c(new Error("Unknown chat command ".concat(n.body,". Expected file or error")))}}}var ee=n("gfZM");function te(e){var t=e.wid,n=e.pud,r=e.code,a=e.clean,i=e.wait;return function(e,o){var s,c,l,u,d,p,f,b,h,g,m;return E.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(s=Object(Q.a)(o(),t,n,"goval"),c=s.repl,l=s.dirs,"goval"===N.a.get(c.language).engine){v.next=3;break}return v.abrupt("return");case 3:if(u=function(){return Object(Q.a)(o(),t,n,"goval").files},d=null,r){v.next=16;break}if(l[""]&&l[""].loaded){v.next=9;break}return v.next=9,E.a.awrap(i((function(e){var t=e.type,n=e.path;return"DIRECTORY_LOADED"===t&&""===n})));case 9:if(p=u(),f=O()(p)){v.next=13;break}return v.abrupt("return");case 13:d=f.find((function(e){return e===N.a.getMainFileName(c.language)}))||f[0],(b=p[d])&&b.loaded?r=ee.a.from(b.content).toString():e({type:"LOAD_FILE",wid:t,path:d});case 16:if(h=e(Ze({wid:t,pud:n,name:"evaler",service:"eval"})),a&&h.send({clear:{}}),r){v.next=29;break}if(d){v.next=21;break}throw new Error("Expected to have main path");case 21:if((g=u()[d])&&g.loaded){v.next=25;break}return v.next=25,E.a.awrap(i((function(e){var t=e.type,n=e.path;return("FILE_CACHE_HIT"===t||"FILE_LOADED"===t)&&n===d})));case 25:if((m=u()[d])&&m.loaded){v.next=28;break}throw new Error("Main file should be loaded by now");case 28:r=ee.a.from(m.content).toString();case 29:e({type:Fe,wid:t}),h.send({eval:r});case 31:case"end":return v.stop()}}))}}function ne(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=r.body,a.next="output"===a.t0?3:"error"===a.t0?5:"result"===a.t0?8:"eval"===a.t0?11:"hint"===a.t0?13:"input"===a.t0?17:19;break;case 3:return e(Object(T.ab)({wid:t,message:r.output,type:"",raw:void 0})),a.abrupt("return");case 5:return e(Object(T.ab)({wid:t,message:r.error,type:"error",raw:void 0})),e({type:Me,wid:t,pud:n}),a.abrupt("return");case 8:return e(Object(T.ab)({wid:t,message:r.result,type:"result",raw:void 0})),e({type:Me,wid:t,pud:n}),a.abrupt("return");case 11:return e({type:Fe,wid:t}),a.abrupt("return");case 13:if(r.hint&&r.hint.text){a.next=15;break}return a.abrupt("return");case 15:return e(Object(T.ab)({wid:t,message:"\x1b[0m\x1b[33m".concat(r.hint.text,"\x1b[0m\r\n"),type:"",raw:!0})),a.abrupt("return");case 17:return e(Object(T.ab)({wid:t,message:r.output,type:"",raw:void 0})),a.abrupt("return");case 19:V.c(new Error("Unknown eval command ".concat(r.body,". Expected output, error, state or result")));case 20:case"end":return a.stop()}}))}}function re(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e,a){switch(r.body){case"output":if(null==r.output)return;e({type:"RCV_EXEC_COMMAND",output:r.output,wid:t});break;case"state":var i=a().workspace[t].plugins[n].state;r.state===X.api.State.Stopped?(i.isExecRunning&&(e({type:"EXIT_EXEC_COMMAND",output:i.execOutputBuffer,wid:t}),e({type:"CLEAR_EXEC_BUFFER",wid:t,pud:n})),e({type:"UPDATE_EXEC_RUNSTATE",state:!1,wid:t,pud:n})):r.state===X.api.State.Running&&e({type:"UPDATE_EXEC_RUNSTATE",state:!0,wid:t,pud:n});break;case"ok":case"error":return;default:V.c(new Error("Unknown exec command ".concat(r.body,". ")+"Expected state, ok, error, or output."))}}}function ae(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval").formatterHandle,i=a&&R.a.safeGet(a);return null===i&&(i=e(Je({wid:t,pud:n,service:"format"})),e({type:"SET_FORMATTER_HANDLE",handle:R.a.getHandle(i),wid:t,pud:n})),i}}function ie(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e,a){switch(r.body){case"file":if(!r.file||!r.file.path||!r.file.content)return;var i=ee.a.from(r.file.content).toString(),o=Object(Q.a)(a(),t,n,"goval").files[r.file.path];if(!o||!o.loaded)return;var s=ee.a.from(o.content).toString().length;return void e({type:"OT_FILE_OP",wid:t,path:r.file.path,op:[{d:s},i],changeSource:"goval"});case"error":return void e(Object(W.b)({content:"Failed to format file machine",type:"error",time:2e3}));default:V.c(new Error("Unknown format command ".concat(r.body,". Expected file or error")))}}}var oe=n("dI/k");function se(e){var t=e.language,n=e.files;return n.includes(".replit")?{name:"shellrunner",service:"shellrun"}:N.a.usesInterpreter(t)?{name:"interper",service:"interp2"}:function(e,t){return!0===N.a.usesRunProject(e)&&(!1===N.a.usesEval(e)||t.filter((function(t){return Object(oe.a)(t)===N.a.get(e).ext})).length>1)}(t,n)?{name:"shellrunner",service:"shellrun"}:{name:"evaler",service:"eval"}}function ce(e,t){return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new z.a((function(n){e.on("command",(function r(a){t(a)&&(e.off("command",r),n(a))}))})));case 1:case"end":return n.stop()}}))}function le(e){var t=e.wid,n=e.pud;return function(e){var r;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(r=e(Ze({wid:t,pud:n,name:"interper",service:"interp2"}))).send({runMain:{}}),a.next=4,E.a.awrap(ce(r,(function(e){return"state"===e.body})));case 4:case"end":return a.stop()}}))}}function ue(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e){switch(r.body){case"output":return void e(Object(T.ab)({wid:t,message:r.output,type:"interp",raw:!0}));case"error":return void e(Object(T.ab)({wid:t,message:r.error,type:"error",raw:!1}));case"state":return void(r.state===X.api.State.Stopped?e({type:He,wid:t,pud:n}):e({type:Ue,wid:t}));case"hint":if(!r.hint||!r.hint.text)return;return void e(Object(T.ab)({wid:t,message:"\x1b[0m\x1b[33m".concat(r.hint.text,"\x1b[0m\r\n"),type:"",raw:!0}));default:V.c(new Error("Unknown interp command ".concat(r.body,". Expected output, error, or state")))}}}function de(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval").lsperHandle,i=a&&R.a.safeGet(a);return null===i&&(i=e(Je({wid:t,pud:n,service:"lsp"})),e({type:"SET_LSPER_HANDLE",handle:R.a.getHandle(i),wid:t,pud:n})),i}}function pe(e){var t=e.wid,n=e.cmd;return function(e){switch(n.body){case"output":return void e({type:T.A,content:n.output,wid:t});case"state":return void(n.state===X.api.State.Stopped&&e({type:T.s,wid:t}));default:V.c(new Error("Unknown lsp command ".concat(n.body,". Expected output or state")))}}}function fe(e){var t=e.wid,n=e.cmd;return function(e){switch(n.body){case"output":return void e(Object(T.ab)({wid:t,message:n.output,type:"",raw:!1}));case"error":return void e(Object(T.ab)({wid:t,message:"\n\nRepl.it: package installation failed!\n\n",type:"error",raw:!1}));case"ok":return;case"state":return n.state===X.api.State.Running?(e({type:Ke,wid:t}),e(Object(W.b)({content:"Installing packages",type:"notice",time:3e3})),void e(Object(T.ab)({wid:t,message:"\n\nRepl.it: Installing fresh packages\n\n",type:"",raw:!1}))):void e({type:ze,wid:t});default:V.c(new Error("Unknown packager command ".concat(n.body,". Expected output, error, ok, or state")))}}}function be(e){var t=e.wid,n=e.pud;return function(e){var r;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e(Ze({wid:t,pud:n,name:"packager",service:"packager2"})),a.abrupt("return",r.request({ensurePackages:{install:!0}}));case 2:case"end":return a.stop()}}))}}var he=n("zgDP");function ge(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return m()(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):h.a?f()(e,h()(n)):ge(Object(n)).forEach((function(t){d()(e,t,m()(n,t))}))}return e}function ve(e){var t=e.wid,n=e.pud,r=e.request;return function(e){var a;return E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e(Ze({wid:t,pud:n,name:"packager",service:"packager3"})),i.abrupt("return",a.request(r));case 2:case"end":return i.stop()}}))}}function xe(e){var t=e.wid,n=e.pud,r=e.request;return function(e,a){var i,o,s,c;return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(Q.a)(a(),t,n,"goval"),o=i.clientHandle,s=R.a.safeGet(o),c=s.openChannel({service:"packager3"}),e.abrupt("return",c.request(r).finally((function(){c.close()})));case 4:case"end":return e.stop()}}))}}function we(e){var t=e.wid,n=e.cmd;return function(e,r){if(!Object(Y.a)(r().user.userInfo,"flag-packager-service"))switch(n.body){case"state":return n.state===X.api.State.Running?(e({type:Ke,wid:t}),void e(Object(T.ab)({wid:t,message:"\n\nRepl.it: Updating package configuration\n\n",type:"",raw:!1}))):void e({type:ze,wid:t});case"error":return void e(Object(T.ab)({wid:t,message:"\n\nRepl.it: Package operation failed.\n\n",type:"error",raw:!1}));case"output":return void e(Object(T.ab)({wid:t,message:n.output,type:"",raw:!1}));case"ok":case"packageSearchResp":case"packageInfoResp":case"packageListSpecfileResp":return;default:V.c(new Error("Unknown packager3 command ".concat(n.body,". ")+"Expected state, ok, error, output or packageSearchResp/packageInfoResp"))}}}function ye(e){var t=e.wid,n=e.pud;return function(e){var r;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(e(ve({wid:t,pud:n,request:{packageInstall:{}}})));case 2:if(r=a.sent,Object(he.track)(he.events.PACKAGES_INSTALLED,{isService:!1,success:Boolean(r.ok)&&!r.channelClosed}),!r.channelClosed){a.next=6;break}return a.abrupt("return",X.api.Command.fromObject({error:"channel closed"}));case 6:return r.ok&&e({type:"PERSIST_FILE",wid:t}),a.abrupt("return",r);case 8:case"end":return a.stop()}}))}}function ke(e){var t=e.wid,n=e.cmd;return function(e,r){if(!Object(Y.a)(r().user.userInfo,"flag-multiplayer-services"))switch(n.body){case"roster":return void e({type:"USERS_ROSTER",wid:t,users:n.roster.user});case"join":return void e({type:"USER_JOIN",wid:t,user:n.join});case"part":return void e({type:"USER_LEAVE",wid:t,user:n.part});default:V.c(new Error("Unknown presence command ".concat(n.body,". Expected roster, join, or part.")))}}}function Ee(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o;return E.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=Object(Q.a)(r(),t,n,"goval"),i=a.govalRunState,o=e(Ze({wid:t,pud:n,name:"shellrunner",service:"shellrun"})),!i.shellrunner){s.next=6;break}return o.send({clear:{}}),s.next=6,E.a.awrap(ce(o,(function(e){return"state"===e.body})));case 6:return o.send({runMain:{}}),s.next=9,E.a.awrap(ce(o,(function(e){return"state"===e.body})));case 9:case"end":return s.stop()}}))}}function je(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e){switch(r.body){case"input":return void e(Object(T.ab)({wid:t,message:r.input,type:"output",raw:!0}));case"output":return void e(Object(T.ab)({wid:t,message:r.output,type:"output",raw:!0}));case"state":return void(r.state===X.api.State.Stopped?e({type:Be,wid:t,pud:n}):(e({type:"CLEAR_CONSOLE",wid:t,pud:n}),e({type:Ge,wid:t})));default:V.c(new Error("Unknown run command ".concat(r.body,". Expected output or state")))}}}function Oe(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval").shellerHandle,i=a&&R.a.safeGet(a);return null===i&&(i=e(Je({wid:t,pud:n,service:"shell"})),e({type:"SET_SHELLER_HANDLE",handle:R.a.getHandle(i),wid:t,pud:n})),i}}function _e(e){var t=e.wid,n=e.cmd;return function(e){switch(n.body){case"output":return void e(Object(T.ab)({wid:t,message:n.output,type:"shell",raw:!0}));case"state":return void(n.state===X.api.State.Stopped&&e(Object(T.ab)({wid:t,message:"\n\nRepl.it: shell died, restarting...\n\n",type:"shell",raw:!1})));default:V.c(new Error("Unknown shell command ".concat(n.body,". Expected output, or state")))}}}var Ce=n("0iUn"),Ne=function(){},Te=function e(t){var n=this,r=t.client,a=t.code,i=t.onMessage;Object(Ce.a)(this,e),Object(y.a)(this,"channel",void 0),Object(y.a)(this,"code",void 0),Object(y.a)(this,"stack",void 0),Object(y.a)(this,"check",void 0),Object(y.a)(this,"onMessage",void 0),Object(y.a)(this,"stopped",void 0),Object(y.a)(this,"start",(function(){n.handleCommands(),n.channel.send({debuggerStart:n.code}),n.sendStep()})),Object(y.a)(this,"handleCommands",(function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n.channel.on("command",(function(e){n.stopped||("debuggerStatus"===e.body&&e.debuggerStatus&&(n.stack=e.debuggerStatus.stack,n.check(e.debuggerStatus)),n.onMessage(e))}));case 1:case"end":return e.stop()}}))})),Object(y.a)(this,"sendStep",(function(){n.channel.send({debuggerStep:{}})})),Object(y.a)(this,"stepInto",(function(){n.check=Ne,n.sendStep()})),Object(y.a)(this,"stepOver",(function(){if(0===n.stack.length)return n.sendStep();var e=n.stack.length;n.check=function(t){t.stack.length===e||t.stack.length<e||n.sendStep()},n.sendStep()})),Object(y.a)(this,"stepOut",(function(){var e=n.stack.length;n.check=function(t){t.stack.length<e||n.sendStep()},n.sendStep()})),Object(y.a)(this,"resume",(function(){n.check=n.sendStep,n.sendStep()})),Object(y.a)(this,"stop",(function(){n.stopped||(n.stopped=!0,n.channel.closed||n.channel.close())})),this.channel=r.openChannel({service:"eval"}),this.stack=[],this.check=Ne,this.code=a,this.onMessage=i,this.stopped=!1};function Se(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o;return E.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:a=Object(Q.a)(r(),t,n,"goval"),i=a.debuggerHandle,o=a.govalRunState,i&&(R.a.safeGet(i).stop(),e({type:De,wid:t,debuggerHandle:null})),o.debugger&&e({type:T.h,wid:t});case 3:case"end":return s.stop()}}))}}function Ie(e){var t=e.wid,n=e.pud,r=e.cmd;return function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=r.body,a.next="output"===a.t0?3:"error"===a.t0?5:"result"===a.t0?7:"debuggerStatus"===a.t0?9:14;break;case 3:return e(Object(T.ab)({wid:t,message:r.output,type:"",raw:!1})),a.abrupt("return");case 5:return e(Object(T.ab)({wid:t,message:r.error,type:"error",raw:!1})),a.abrupt("return");case 7:return e(Object(T.ab)({wid:t,message:r.result,type:"result",raw:!1})),a.abrupt("return");case 9:if(!r.debuggerStatus.done){a.next=12;break}return e(Se({wid:t,pud:n})),a.abrupt("return");case 12:return e({type:T.i,wid:t,stack:r.debuggerStatus.stack.map((function(e){return{functionName:e.function,lineno:e.line}}))}),a.abrupt("break",14);case 14:case"end":return a.stop()}}))}}function Re(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return m()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):h.a?f()(e,h()(n)):Re(Object(n)).forEach((function(t){d()(e,t,m()(n,t))}))}return e}var Ae="REGISTER_GOVAL_CHANNEL_HANDLE",De="REGISTER_DEBUGGER_HANDLE",Pe="REGISTER_CLEAR_NETWORK_LISTENERS_HANDLE",Fe="EVALER_STARTED",Me="EVALER_ENDED",Ue="INTERPER_STARTED",He="INTERPER_ENDED",Ge="SHELLRUNNER_STARTED",Be="SHELLRUNNER_ENDED",Ke="PACKAGER_STARTED",ze="PACKAGER_ENDED",Ve="OPTIMISTIC_RUN_STARTED",Xe="OPTIMISTIC_RUN_ENDED";function We(e){var t=e.wid,n=e.pud,r=e.actionType,a=e.prefetchedToken;return function(e,i){var o,s,c,l,u,d,p,f,b,h,g,m,v,x,w,y,k,j,C;return E.a.async((function(T){for(;;)switch(T.prev=T.next){case 0:if(o=Object(Q.a)(i(),t,n,"goval"),s=o.clientHandle,c=o.repl,l=o.files,u=o.workspaceMounted,d=o.didDispatchLoadingStarted,!Object(Y.a)(i().user.userInfo,"flag-goval-connect-sooner")||"WORKSPACE_MOUNTED"!==r){T.next=3;break}return T.abrupt("return");case 3:if(d||e({type:"LOADING_GOVAL_STARTED",wid:t}),u){T.next=6;break}return T.abrupt("return");case 6:if(e(Qe({wid:t,pud:n})),p=R.a.safeGet(s),f=null,b=function(t){1===t&&(f=e(Object(W.b)({content:"Failed to connect, retrying",type:"error",time:null})))},p.getChannel(0).on("command",(function(n){switch(n.body){case"bootStatus":if(!n.bootStatus)return;return n.bootStatus.stage||(n.bootStatus.stage=X.api.BootStatus.Stage.HANDSHAKE),void e(Le({type:"UPDATE_ENGINE_LOAD_STATUS",wid:t},n.bootStatus));case"portOpen":if(!n.portOpen)throw new Error("portOpen only handles portOpen commands");var r=n.portOpen,a=r.forwarded,i=r.port;if(!a)return;if(5901===i)return;return void e({type:"PORT_OPEN",wid:t,port:i});case"toast":if(!n.toast)return;var o=n.toast.text;if(o&&o.startsWith("PANIC:"))return V.m((function(e){e.setTag("source","goval"),/tried to attach(.*)multiple times/.test(o)?V.c(new Error("tried to attach to ot multiple times")):(o&&e.setExtra("message",o),V.c(new Error(o?"goval panic":"goval panic with no message")))})),void e(Object(W.b)({content:"We ran into an internal error, reloading your connection.",type:"error",time:5e3}));e(Object(W.b)({content:o||"The server tried to say something but had no words",type:"error",time:1e4}))}})),h=Object(Q.a)(i(),t,n,"goval"),g=h.gurl,Object(Y.a)(i().user.userInfo,"flag-goval-nextval")&&(g="wss://nextval.repl.it"),m=Boolean(i().user.userInfo.isLoggedIn),v=function(){var e=Object(Q.a)(i(),t,n,"goval").clientHandle;return R.a.safeGet(e)!==p},!Object(Y.a)(i().user.userInfo,"flag-noconnect-unfocused")){T.next=19;break}return T.next=19,E.a.awrap(rt());case 19:return T.next=21,E.a.awrap(Object(q.a)({client:p,repl:c,shouldAbort:v,onRetry:b,gurl:g,prefetchedToken:a,isLoggedIn:m}));case 21:if(!v()){T.next=23;break}return T.abrupt("return");case 23:e(Object(W.a)(f)),e(Object(W.b)({content:"Connected!",time:1500,type:"confirm"})),Math.random()>.99&&p.startPing(),"goval"===N.a.get(c.language).engine&&(e(Ze(Le({wid:t,pud:n},se({language:c.language,files:O()(l)})))),N.a.supportsPackager3(c.language)?e(Ze({wid:t,pud:n,name:"packager",service:"packager3"})):N.a.supportsPackager2(c.language)&&e(Ze({wid:t,pud:n,name:"packager",service:"packager2"}))),x=i().user.userInfo,Object(Y.a)(x,"flag-multiplayer-services")||e(Ze({wid:t,pud:n,service:"presence",name:"presencer"})),e(qe({wid:t,pud:n})),e({type:"LOADING_GOVAL_COMPLETE",wid:t}),w=p.getToken(),y=JSON.parse(window.atob(window.atob(w).split(":")[0])),k=y.user,j=y.path,C="wss://".concat(j,"--").concat(k,".repl.co"),e({type:"SET_VNC_URL",wid:t,vncUrl:C}),window.lastGovalTokenMeta=JSON.parse(window.atob(window.atob(w).split(":")[0])),e({wid:t,type:"GOVAL_TOKEN",token:w}),e(nt({wid:t,pud:n})),p.on("close",(function(r){var a=r.closeReason;window.disconnectedTaint=!0,a===_.Client.ClientCloseReason.Disconnected&&(window.unexpecteddisconnectTaint=!0,e(Ye({wid:t,pud:n})),e(We({wid:t,pud:n})))}));case 40:case"end":return T.stop()}}))}}function Ye(e){var t=e.wid,n=e.pud,r=e.actionType,a=e.keepNetworkHandler,i=void 0!==a&&a;return function(e,a){var o=Object(Q.a)(a(),t,n,"goval"),s=o.clientHandle,c=o.clearNetworkListenersHandle,l=o.didDispatchLoadingStarted;if((!Object(Y.a)(a().user.userInfo,"flag-goval-connect-sooner")||"WORKSPACE_MOUNTED"!==r)&&(e({type:"RESET_GOVAL",wid:t,pud:n}),e(tt({wid:t,pud:n})),l||e({type:"LOADING_GOVAL_STARTED",wid:t}),null!=s)){var u=R.a.get(s);null!=u&&(u.close(),!i&&c&&R.a.safeGet(c)())}}}function qe(e){var t=e.wid,n=e.pud;return function(e){var r=null,a=function(){o(),V.a({category:"redux",message:"onlineHandler fired. starting connection"}),e(We({wid:t,pud:n})),null!=r&&(e(Object(W.a)(r)),r=null)},i=function(){r=e(Object(W.b)({content:"Offline: trying to connect",type:"error",time:null})),V.a({category:"redux",message:"offlineHandler fired. closing connection"}),e(Ye({wid:t,pud:n,keepNetworkHandler:!0}))};window.addEventListener("online",a),window.addEventListener("offline",i);var o=function(){window.removeEventListener("online",a),window.removeEventListener("offline",i)};e({type:Pe,wid:t,clearNetworkListenersHandle:R.a.getHandle(o)})}}function Qe(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval").clientHandle;if(a){var i=R.a.get(a);if(i){var o=!0;if(i.setDebugFunc((function(a){switch(a.type){case"breadcrumb":return void V.a({category:"crosis",message:a.message,data:a.data});case"ping":var i=he.events.GOVAL2_PING;return o&&(i=he.events.GOVAL2_FIRST_PING,o=!1),void Object(he.track)(i,{latency:a.latency});case"log":if(!Object(Q.a)(r(),t,n,"goval").adminLogs)return;e({type:"CROSIS_ADMIN_LOG",wid:t,dir:a.log.direction,cmd:a.log.cmd,timestamp:window.performance.now()})}})),Object(Q.a)(r(),t,n,"goval").adminLogs&&(window.crosisclient=i),Z.a.query.vcr){var s,c=i.getChannel(0);c.on("command",(function(e){"VCRLog"===e.body&&s&&e.VCRLog&&s(e.VCRLog)})),c.send({startVCR:{}});var l=function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return c.send({readVCR:{}}),e.abrupt("return",new z.a((function(e){return s=e})));case 2:case"end":return e.stop()}}))};window.vcr={read:l,download:function(){var e,t,n,r;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(l());case 2:if(e=a.sent,(t=e.logfile)&&t.content&&t.path){a.next=6;break}return a.abrupt("return");case 6:n=B()({timestamp:"0",direction:"IN",command:{auth:{token:i.getToken()}}}),(r=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURI(n+"\n"+new TextDecoder("utf-8").decode(t.content))),r.setAttribute("download",t.path),document.body.appendChild(r),r.click(),document.body.removeChild(r);case 13:case"end":return a.stop()}}))}}}}}}}function Je(e){var t=e.wid,n=e.pud,r=e.service;return function(e,a){var i=Object(Q.a)(a(),t,n,"goval").clientHandle,o=R.a.safeGet(i).openChannel({service:r}),s=$e(r);return o.on("command",(function(r){"toast"===r.body&&r.toast?e(Object(W.b)({content:r.toast.text||"The server tried to say something but had no words",type:"error",time:1e4})):e(s({wid:t,pud:n,cmd:r}))})),o}}function Ze(e){var t=e.wid,n=e.pud,r=e.name,a=e.service;return function(e,i){var o=Object(Q.a)(i(),t,n,"goval").channels[a];return null==o?e(function(e){var t=e.wid,n=e.pud,r=e.name,a=e.service;return function(e,i){var o=Object(Q.a)(i(),t,n,"goval").clientHandle,s=R.a.safeGet(o).openChannel({name:r,service:a});void 0!==r&&e({type:Ae,wid:t,channelHandle:R.a.getHandle(s),service:a});var c=$e(a);return s.on("command",(function(r){"toast"===r.body&&r.toast?e(Object(W.b)({content:r.toast.text||"The server tried to say something but had no words",type:"error",time:1e4})):e(c({wid:t,pud:n,cmd:r}))})),s}}({wid:t,pud:n,name:r,service:a})):R.a.safeGet(o)}}var $e=function(e){switch(e){case"eval":return ne;case"format":return ie;case"interp2":return ue;case"lsp":return pe;case"shellrun":return je;case"shell":return _e;case"packager2":return fe;case"packager3":return we;case"chat":return $;case"presence":return ke;case"exec":return re;default:throw new Error("Can't handle command. Unknown service: ".concat(e))}};function et(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s;return E.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=Object(Q.a)(a(),t,n,"goval"),o=i.filestate,!M()(o).find((function(e){return e===D.a.Dirty||e===D.a.Syncing}))){c.next=6;break}return s=r((function(){return!M()(Object(Q.a)(a(),t,n,"goval").filestate).find((function(e){return e===D.a.Dirty||e===D.a.Syncing}))})),e({type:"FLUSH_FILES",wid:t}),c.next=6,E.a.awrap(s);case 6:case"end":return c.stop()}}))}}function tt(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval"),i=a.govalRunState,o=a.runstate,s=M()(i).includes(!0);"idle"===o&&s?e({type:"EVAL_STARTED",wid:t}):"idle"===o||s||e({type:"EVAL_ENDED",wid:t})}}function nt(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval"),i=a.channelRequests,o=a.clientHandle,s=R.a.safeGet(o);s.isConnected()&&i.forEach((function(n){var r=n.service,a=n.name,i=n.requestId,o=s.openChannel({name:a,service:r});e({type:"RESPOND_CHANNEL",wid:t,channelHandle:R.a.getHandle(o),requestId:i})}))}}function rt(){if(document.hidden)return new z.a((function(e){document.addEventListener("visibilitychange",(function t(){document.hidden||(document.removeEventListener("visibilitychange",t),e())}))}))}function at(e){var t=e.wid,n=e.pud,r=e.kind;return function(e,a){if("shell"===r)return e(Oe({wid:t,pud:n}));var i=Object(Q.a)(a(),t,n,"goval"),o=i.repl,s=i.files,c=se({language:o.language,files:O()(s)}),l=c.name,u=c.service;return e(Ze({wid:t,pud:n,name:l,service:u}))}}function it(e){var t=e.wid,n=e.pud,r=e.input,a=e.kind;return function(e,i){var o=Object(Q.a)(i(),t,n,"goval").debuggerHandle;o?R.a.safeGet(o).channel.send({input:r}):e(at({wid:t,pud:n,kind:a})).send({input:r})}}var ot=n("NveQ"),st=n("OQjE");function ct(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return m()(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):h.a?f()(e,h()(n)):ct(Object(n)).forEach((function(t){d()(e,t,m()(n,t))}))}return e}function ut(){return{clientHandle:R.a.getHandle(new _.Client),didDispatchLoadingStarted:!1,workspaceMounted:!1,filerHandle:null,shellerHandle:null,lsperHandle:null,formatterHandle:null,execerHandle:null,channels:{},clearNetworkListenersHandle:null,debuggerHandle:null,govalRunState:{interper:!1,evaler:!1,debugger:!1,shellrunner:!1,packager:!1,optimisticState:!1},isExecRunning:!1,execOutputBuffer:"",adminLogs:!1,gurl:"wss://eval.repl.it",channelRequests:[]}}var dt=Object(S.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.q:return lt({},e,{},t.initialState);case T.R:return e.workspaceMounted?e:lt({},ut(),{workspaceMounted:!0,gurl:e.gurl,adminLogs:e.adminLogs});case"GOVAL_CONNECT":return lt({},ut(),{workspaceMounted:!0,gurl:e.gurl,adminLogs:e.adminLogs});case"RESET_GOVAL":return lt({},ut(),{workspaceMounted:e.workspaceMounted,gurl:e.gurl,adminLogs:e.adminLogs,channelRequests:e.channelRequests});case"LOADING_GOVAL_STARTED":return lt({},e,{didDispatchLoadingStarted:!0});case"LOADING_GOVAL_COMPLETED":return lt({},e,{didDispatchLoadingStarted:!1});case"REQUEST_CHANNEL":return lt({},e,{channelRequests:[].concat(Object(w.a)(e.channelRequests),[{service:t.service,name:t.name,requestId:t.requestId}])});case"RESPOND_CHANNEL":return lt({},e,{channelRequests:e.channelRequests.filter((function(e){return e.requestId!==t.requestId}))});case T.S:return lt({},e,{workspaceMounted:!1});case Pe:return lt({},e,{clearNetworkListenersHandle:t.clearNetworkListenersHandle});case Ae:return lt({},e,{channels:lt({},e.channels,Object(y.a)({},t.service,t.channelHandle))});case De:return lt({},e,{debuggerHandle:t.debuggerHandle});case"SET_CUSTOM_GURL":return lt({},e,{gurl:t.gurl});case"RCV_EXEC_COMMAND":return lt({},e,{execOutputBuffer:e.execOutputBuffer+t.output});case"UPDATE_EXEC_RUNSTATE":return lt({},e,{isExecRunning:t.state});case"CLEAR_EXEC_BUFFER":return lt({},e,{execOutputBuffer:""});case Fe:return lt({},e,{govalRunState:lt({},e.govalRunState,{evaler:!0})});case Me:return lt({},e,{govalRunState:lt({},e.govalRunState,{evaler:!1})});case Ue:return lt({},e,{govalRunState:lt({},e.govalRunState,{interper:!0})});case He:return lt({},e,{govalRunState:lt({},e.govalRunState,{interper:!1})});case Ge:return lt({},e,{govalRunState:lt({},e.govalRunState,{shellrunner:!0})});case Be:return lt({},e,{govalRunState:lt({},e.govalRunState,{shellrunner:!1})});case Ke:return lt({},e,{govalRunState:lt({},e.govalRunState,{packager:!0})});case ze:return lt({},e,{govalRunState:lt({},e.govalRunState,{packager:!1})});case T.j:return lt({},e,{govalRunState:lt({},e.govalRunState,{debugger:!0})});case T.h:return lt({},e,{govalRunState:lt({},e.govalRunState,{debugger:!1})});case Ve:return lt({},e,{govalRunState:lt({},e.govalRunState,{optimisticState:!0})});case Xe:return lt({},e,{govalRunState:lt({},e.govalRunState,{optimisticState:!1})});case"SET_FILER_HANDLE":return lt({},e,{filerHandle:t.handle});case"SET_SHELLER_HANDLE":return lt({},e,{shellerHandle:t.handle});case"SET_LSPER_HANDLE":return lt({},e,{lsperHandle:t.handle});case"SET_FORMATTER_HANDLE":return lt({},e,{formatterHandle:t.handle});case"SET_EXECER_HANDLE":return lt({},e,{execerHandle:t.handle});case"START_CROSIS_ADMIN_LOGS":return lt({},e,{adminLogs:!0});default:return e}},repl:P.b,files:A.a,filestate:D.b,dirs:ot.a,runstate:st.a}),pt=Object(L.a)((function(e,t,n,r){switch(n.type){case T.S:return Ye({wid:e,pud:t});case T.R:case"GOVAL_CONNECT":case"USE_CUSTOM_TOKEN":case"SET_CUSTOM_GURL":return Object(I.a)(Ye({wid:e,pud:t,actionType:n.type}),We({wid:e,pud:t,prefetchedToken:n.customToken,actionType:n.type}));case"REPL_UPDATED":return function(r){n.updates&&0!==O()(n.updates).length&&(n.updates.id||n.updates.title||n.updates.isOwner||n.updates.slug||n.updates.userId||n.updates.language)&&(r(Ye({wid:e,pud:t})),r(We({wid:e,pud:t})))};case"UPLOAD_FILE":case"DELETE_FILE":case"MOVE_FILE":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(Q.a)(r(),t,n,"goval"),i=a.channels,o=a.clientHandle,s=a.repl,c=a.files,l=a.govalRunState;if("goval"===N.a.get(s.language).engine){var u=se({language:s.language,files:O()(c)}),d=u.service,p=u.name,f=[{service:"shellrun",wellknown:"shellrunner",stopActionType:Be},{service:"interp2",wellknown:"interper",stopActionType:He},{service:"eval",wellknown:"evaler",stopActionType:Me}].filter((function(e){return e.service!==d})),b=!0,h=!1,g=void 0;try{for(var m,v=H()(f);!(b=(m=v.next()).done);b=!0){var x=m.value,w=i[x.service];if(null!=w){var y=R.a.safeGet(w);y.closed||(l[x.wellknown]&&(y.send({clear:{}}),e({type:x.stopActionType,wid:t})),y.close(X.api.CloseChannel.Action.DISCONNECT),e({type:Ae,wid:t,channelHandle:null,service:x.service}))}}}catch(k){h=!0,g=k}finally{try{b||null==v.return||v.return()}finally{if(h)throw g}}R.a.safeGet(o).isConnected()&&null==i[d]&&e(Ze({wid:t,pud:n,name:p,service:d}))}}}({wid:e,pud:t});case T.E:return function(e){var t=e.wid,n=e.pud,r=e.kind,a=e.rows,i=e.cols;return function(e){e(at({wid:t,pud:n,kind:r})).send({resizeTerm:{cols:i,rows:a}})}}({wid:e,pud:t,kind:n.kind,rows:n.rows,cols:n.cols});case"RUN_REPL":return function(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s,c,l,u,d,p,f;return E.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(i=window.performance.now(),o=Object(Q.a)(a(),t,n,"goval"),s=o.repl,c=o.files,"goval"===N.a.get(s.language).engine){b.next=4;break}return b.abrupt("return");case 4:return l=se({language:s.language,files:O()(c)}),"eval"!==(u=l.service)&&"shellrun"!==u||e({type:"CLEAR_CONSOLE",wid:t,pud:n}),e({type:"EVAL_SETUP",wid:t}),e({type:Ve,wid:t}),d=function(){return!Object(Q.a)(a(),t,n,"goval").govalRunState.optimisticState},b.next=11,E.a.awrap(e(et({wid:t,pud:n,wait:r})));case 11:if(!d()){b.next=13;break}return b.abrupt("return");case 13:if(p=window.performance.now(),f={},!N.a.supportsPackager3(s.language)){b.next=27;break}if(Object(Y.a)(a().user.userInfo,"flag-packager-service")){b.next=22;break}return b.next=19,E.a.awrap(e(ye({wid:t,pud:n})));case 19:f=b.sent,b.next=25;break;case 22:return e({type:"PACKAGER_ENSURE",wid:t}),b.next=25,E.a.awrap(r((function(e){return"PACKAGER_ENSURE_COMPLETE"===e.type})));case 25:b.next=31;break;case 27:if(!N.a.supportsPackager2(s.language)){b.next=31;break}return b.next=30,E.a.awrap(e(be({wid:t,pud:n})));case 30:f=b.sent;case 31:if((f.ok||f.error)&&Object(he.track)(he.events.PERF_REPL_START_RUN_PACKAGER_TIME,{time:window.performance.now()-p,language:s.language}),!d()){b.next=34;break}return b.abrupt("return");case 34:if(!f.error){b.next=37;break}return e({type:Xe,wid:t}),b.abrupt("return");case 37:b.t0=u,b.next="eval"===b.t0?40:"interp2"===b.t0?43:"shellrun"===b.t0?46:49;break;case 40:return b.next=42,E.a.awrap(e(te({wid:t,pud:n,clean:!0,wait:r})));case 42:return b.abrupt("break",49);case 43:return b.next=45,E.a.awrap(e(le({wid:t,pud:n})));case 45:return b.abrupt("break",49);case 46:return b.next=48,E.a.awrap(e(Ee({wid:t,pud:n})));case 48:return b.abrupt("break",49);case 49:e({type:Xe,wid:t}),Object(he.track)(he.events.PERF_REPL_START_RUN_TIME,{time:window.performance.now()-i,language:s.language});case 51:case"end":return b.stop()}}))}}({wid:e,pud:t,wait:r});case T.l:return te({wid:e,pud:t,code:n.code,clean:n.clean,wait:r});case T.N:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o,s;return E.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(a=Object(Q.a)(r(),t,n,"goval"),i=a.debuggerHandle,o=a.repl,s=a.govalRunState,"goval"===N.a.get(o.language).engine){c.next=3;break}return c.abrupt("return");case 3:if(!i){c.next=6;break}return e(Se({wid:t,pud:n})),c.abrupt("return");case 6:s.packager&&e(Object(T.ab)({wid:t,message:"\n\nRepl.it: Packaging cannot be stopped, please wait...\n\n",type:"error",raw:!1})),e({type:Xe,wid:t}),["evaler","shellrunner","interper"].forEach((function(r){var a;s[r]&&e(Ze(Le({wid:t,pud:n},"interper"===(a=r)?{name:"interper",service:"interp2"}:"shellrunner"===a?{name:"shellrunner",service:"shellrun"}:{name:"evaler",service:"eval"}))).send({clear:{}})})),s.evaler&&e({type:Me,wid:t});case 11:case"end":return c.stop()}}))}}({wid:e,pud:t});case T.g:return function(e){var t=e.wid,n=e.pud,r=e.code,a=e.wait;return function(e,i){var o,s,c,l,u,d;return E.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return o=Object(Q.a)(i(),t,n,"goval"),s=o.clientHandle,c=o.repl,e({type:"EVAL_SETUP",wid:t}),e({type:T.j,wid:t}),l=new Te({client:R.a.safeGet(s),code:r,onMessage:function(r){return e(Ie({wid:t,pud:n,cmd:r}))}}),e({type:De,wid:t,debuggerHandle:R.a.getHandle(l)}),p.next=7,E.a.awrap(e(et({wid:t,pud:n,wait:a})));case 7:if(u=function(){return!Object(Q.a)(i(),t,n,"goval").govalRunState.optimisticState},d={},!N.a.supportsPackager3(c.language)){p.next=21;break}if(Object(Y.a)(i().user.userInfo,"flag-packager-service")){p.next=16;break}return p.next=13,E.a.awrap(e(ye({wid:t,pud:n})));case 13:d=p.sent,p.next=19;break;case 16:return e({type:"PACKAGER_ENSURE",wid:t}),p.next=19,E.a.awrap(a((function(e){return"PACKAGER_ENSURE_COMPLETE"===e.type})));case 19:p.next=25;break;case 21:if(!N.a.supportsPackager2(c.language)){p.next=25;break}return p.next=24,E.a.awrap(e(be({wid:t,pud:n})));case 24:d=p.sent;case 25:if(!d.error&&!u()){p.next=28;break}return e(Se({wid:t,pud:n})),p.abrupt("return");case 28:l.start();case 29:case"end":return p.stop()}}))}}({wid:e,pud:t,code:n.code,wait:r});case T.c:case T.f:case T.d:case T.e:return function(e){var t=e.wid,n=e.pud,r=e.action;return function(e,a){var i,o,s;return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(Q.a)(a(),t,n,"goval"),o=i.debuggerHandle,s=R.a.safeGet(o),e.t0=r,e.next=e.t0===T.c?5:e.t0===T.d?6:e.t0===T.e?7:e.t0===T.f?8:9;break;case 5:return e.abrupt("return",s.resume());case 6:return e.abrupt("return",s.stepInto());case 7:return e.abrupt("return",s.stepOut());case 8:return e.abrupt("return",s.stepOver());case 9:case"end":return e.stop()}}))}}({wid:e,pud:t,action:n.type});case T.H:return function(e){var t=e.wid,n=e.pud,r=e.input;return function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e(de({wid:t,pud:n})).send({input:r});case 2:case"end":return a.stop()}}))}}({wid:e,pud:t,input:n.content});case T.b:return function(r,a){var i,o;return E.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(i=Object(Q.a)(a(),e,t,"goval"),o=i.repl,"goval"===N.a.get(o.language).engine||"shell"===n.kind){s.next=3;break}return s.abrupt("return");case 3:r(it({wid:e,pud:t,input:n.input,kind:n.kind}));case 4:case"end":return s.stop()}}))};case"OPEN_SHELL":return Oe({wid:e,pud:t});case T.k:return function(e){var t=e.wid,n=e.pud,r=e.filePath;return function(e,a){var i,o,s,c,l;return E.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(i=Object(Q.a)(a(),t,n,"goval"),o=i.files,s=e(ae({wid:t,pud:n})),(c=o[r])&&c.loaded){u.next=5;break}throw new Error("Cannot format file before loading it");case 5:l=ee.a.from(c.content).toBuffer(),s.send({file:{path:r,type:X.api.File.Type.REGULAR,content:l}});case 7:case"end":return u.stop()}}))}}({wid:e,pud:t,filePath:n.filePath});case T.r:return function(n){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(n(et({wid:e,pud:t,wait:r})));case 2:return a.abrupt("return",be({wid:e,pud:t}));case 3:case"end":return a.stop()}}))};case"ADD_PACKAGES":return function(e){var t=e.wid,n=e.pud,r=e.names.map((function(e){return{name:e}}));return function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(e(ve({wid:t,pud:n,request:{packageAdd:{pkgs:r}}})));case 2:if(!a.sent.channelClosed){a.next=5;break}return a.abrupt("return");case 5:e({type:"LIST_SPECFILE_PACKAGES",wid:t});case 6:case"end":return a.stop()}}))}}({wid:e,pud:t,names:n.names});case"REMOVE_PACKAGES":return function(e){var t=e.wid,n=e.pud,r=e.names.map((function(e){return{name:e}}));return function(e){return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(e(ve({wid:t,pud:n,request:{packageRemove:{pkgs:r}}})));case 2:if(!a.sent.channelClosed){a.next=5;break}return a.abrupt("return");case 5:e({type:"LIST_SPECFILE_PACKAGES",wid:t});case 6:case"end":return a.stop()}}))}}({wid:e,pud:t,names:n.names});case"LIST_SPECFILE_PACKAGES":return function(e){var t=e.wid,n=e.pud;return function(e){var r,a;return E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,E.a.awrap(e(xe({wid:t,pud:n,request:{packageListSpecfile:{}}})));case 2:if(!(r=i.sent).channelClosed){i.next=5;break}return i.abrupt("return");case 5:a={type:"LIST_SPECFILE_RESPONSE",response:[],error:null,wid:t},i.t0=r.body,i.next="error"===i.t0?9:"packageListSpecfileResp"===i.t0?11:13;break;case 9:return e(me({},a,{error:"list specfile failed: ".concat(r.error)})),i.abrupt("return");case 11:return r.packageListSpecfileResp&&r.packageListSpecfileResp.pkgs?e(me({},a,{response:r.packageListSpecfileResp.pkgs})):e(me({},a,{error:"list specfile returned an empty response"})),i.abrupt("return");case 13:V.c(new Error("Unknown packager3 listSpecFile command ".concat(r.body,". ")+"Expected error or packageListSpecfileResp"));case 14:case"end":return i.stop()}}))}}({wid:e,pud:t});case"SEARCH_PACKAGES":return function(e){var t=e.wid,n=e.pud,r=e.query;return function(e){var a;return E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,E.a.awrap(e(xe({wid:t,pud:n,request:{packageSearch:{query:r}}})));case 2:if(!(a=i.sent).channelClosed){i.next=5;break}return i.abrupt("return");case 5:"packageSearchResp"===a.body&&a.packageSearchResp?e({type:"PACKAGE_SEARCH_RESPONSE",response:a.packageSearchResp.results,wid:t}):V.c(new Error("Unknown packager3 command ".concat(a.body,". ")+"Expected packageSearchResp"));case 6:case"end":return i.stop()}}))}}({wid:e,pud:t,query:n.query});case"FETCH_PACKAGE_INFO":return function(e){var t=e.wid,n=e.pud,r=e.name;return function(e){var a;return E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,E.a.awrap(e(xe({wid:t,pud:n,request:{packageInfo:{pkg:{name:r}}}})));case 2:if(!(a=i.sent).channelClosed){i.next=5;break}return i.abrupt("return");case 5:"packageInfoResp"===a.body&&a.packageInfoResp?e({type:"PACKAGE_INFO_RESPONSE",response:a.packageInfoResp.pkg,wid:t}):V.c(new Error("Unknown packager3 command ".concat(a.body,". ")+"Expected packageInfoResp"));case 6:case"end":return i.stop()}}))}}({wid:e,pud:t,name:n.name});case"REQUEST_CHANNEL":return nt({wid:e,pud:t});case Fe:case Me:case Ue:case He:case Ge:case Be:case T.j:case T.h:case Ke:case ze:case Ve:case Xe:return tt({wid:e,pud:t});case"START_CHAT":return function(e){var t=e.wid,n=e.pud;return function(e,r){if(Object(Y.a)(r().user.userInfo,"flag-multiplayer-services"))e({type:"CHAT_STARTED",wid:t});else{var a=e(Ze({wid:t,pud:n,name:"chatter",service:"chat"})),i=r().user.userInfo;Object(Y.a)(i,"flag-multiplayer-services")||e(Ze({wid:t,pud:n,name:"presencer",service:"presence"})),a.isOpen?e({type:"CHAT_STARTED",wid:t}):a.once("open",(function(){e({type:"CHAT_STARTED",wid:t})}))}}}({wid:e,pud:t});case"SEND_CHAT_MESSAGE":return function(e){var t=e.wid,n=e.pud,r=e.username,a=e.text;return function(e){e(Ze({wid:t,pud:n,name:"chatter",service:"chat"})).send({chatMessage:{username:r,text:a}})}}({wid:e,pud:t,username:n.username,text:n.text});case"SEND_USER_TYPING":return function(e){var t=e.wid,n=e.pud,r=e.username,a=e.typing;return function(e){e(Ze({wid:t,pud:n,name:"chatter",service:"chat"})).send({chatTyping:{username:r,typing:a}})}}({wid:e,pud:t,username:n.username,typing:n.typing});case"SEND_EXEC_COMMAND":return function(e){var t=e.wid,n=e.pud,r=e.args;return function(e,a){var i=Object(Q.a)(a(),t,n,"goval").execerHandle,o=i&&R.a.safeGet(i);return null===o&&(o=e(Je({wid:t,pud:n,service:"exec"})),e({type:"SET_EXECER_HANDLE",handle:R.a.getHandle(o),wid:t,pud:n})),o.send({exec:{args:r}}),o}}({wid:e,pud:t,args:n.args});default:return null}})),ft=n("Qv0/"),bt=n("gPGO"),ht=n("sLSF"),gt=function(){function e(){Object(Ce.a)(this,e)}return Object(ht.a)(e,null,[{key:"get",value:function(e){var t,n;try{t=window.sessionStorage.getItem(e)}catch(r){return null}if(null==t)return null;try{n=JSON.parse(t)}catch(r){return null}return n}},{key:"set",value:function(e,t){try{window.sessionStorage.setItem(e,B()(t))}catch(n){}}}]),e}(),mt=n("tZOq"),vt=n("nmgF");function xt(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return m()(e,t).enumerable}))),n.push.apply(n,r)}return n}var wt="session_id_achv_track";function yt(e,t,n){switch(e.type){case"TRACK_WS_EVENT":var r=he.track;e.trackOnce&&(r=he.trackOnce),r(he.events[e.eventKey],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):h.a?f()(e,h()(n)):xt(Object(n)).forEach((function(t){d()(e,t,m()(n,t))}))}return e}({wid:t,language:n},e.properties));break;case"WORKSPACE_MOUNTED":Object(he.track)(he.events.WS_WORKSPACE_MOUNTED,{wid:t,language:n});break;case"LOADING_ENGINE_COMPLETE":var a,i=R.a.get(e.engineHandle);if(!i)break;a=i.goval?"goval":"replbox",Object(he.track)(he.events.WS_ENGINE_LOADED,{wid:t,language:n,engineType:a});break;case"RUN_REPL":N.a.supportsFiles(n)?Object(he.track)(he.events.PROJECT_RAN,{wid:t,language:n}):Object(he.track)(he.events.CODE_RAN,{wid:t,language:n});break;case"CONSOLE_INPUT":"\r"===e.input&&Object(he.track)(he.events.CONSOLE_EVALED,{wid:t,language:n});break;case"STOP_EVAL":Object(he.track)(he.events.WS_EVAL_STOPPED,{wid:t,language:n});break;case"CREATE_FILE":Object(he.track)(he.events.PROJECT_MODE_FILE_CREATED,{wid:t,language:n});break;case"OPEN_FILE":e.newTab&&Object(he.track)(he.events.FILE_HEADER_TAB_OPENED,{wid:t,language:n,newTab:e.newTab}),e.tabIndex&&Object(he.track)(he.events.FILE_HEADER_TAB_REPLACED,{wid:t,language:n,tabIndex:e.tabIndex});break;case"MOVE_FILE":Object(he.track)(he.events.WS_FILE_RENAMED,{wid:t,language:n});break;case"DELETE_FILE":Object(he.track)(he.events.WS_FILE_DELETED,{wid:t,language:n});break;case"CLOSE_HEADER_TAB":Object(he.track)(he.events.FILE_HEADER_TAB_CLOSED,{wid:t,language:n});break;case"SET_SPLIT_POSITION":Object(he.track)(he.events.WS_LAYOUT_CHANGED,{wid:t,language:n});break;case"FORMAT_FILE":Object(he.track)(he.events.PRETTIERED,{wid:t,language:n});break;case"DEBUG_CODE":Object(he.track)(he.events.DEBUGGED,{wid:t,language:n});break;case"SHOW_LIBRARY_SEARCH":Object(he.track)(he.events.LIBRARIES_SEARCHED,{wid:t,language:n});break;case"SET_EXPANDED_FILE_TREE_NODE":Object(he.track)(he.events.WS_EXPANDED_FILE_TREE_NODE,{wid:t,language:n});break;case"SET_ACTIVE_FILE_TREE_NODE":Object(he.track)(he.events.WS_ACTIVATED_FILE_TREE_NODE,{wid:t,language:n});break;case"SET_IS_CREATING_FILE_TREE_NODE":Object(he.track)(he.events.WS_CREATED_FILE_TREE_NODE,{wid:t,language:n});break;case"CLOSE_CHAT_CLICKED":Object(he.track)(he.events.MP2_MINIMIZED_CHAT,{wid:t,language:n,replId:e.replId});break;case"OPENED_MP_ROSTER":Object(he.track)(he.events.MP2_VIEWED_ROSTER,{wid:t,language:n,replId:e.replId});break;case"MP2_VISITED_PROFILE":Object(he.track)(he.events.MP2_VISITED_PROFILE,{wid:t,language:n,replId:e.replId,from:e.from});break;case"MP2_OPENED_INVITE_MODAL":Object(he.track)(he.events.MP2_OPENED_INVITE_MODAL,{wid:t,language:n,replId:e.replId});break;case"SEND_CHAT_MESSAGE":Object(he.track)(he.events.MP2_CHAT_MESSAGE_SENT,{wid:t,language:n,replId:e.replId,username:e.username});break;case"MP2_CHAT_CHANGED_SIDES":Object(he.track)(he.events.MP2_CHAT_CHANGED_SIDES,{wid:t,language:n,replId:e.replId,newSide:e.newSide});break;case"SET_GIT_SIDEBAR_VISIBILITY":e.isSidebarVisible&&Object(he.track)(he.events.GIT_CLIENT_SIDEBAR_OPENED,{language:n,wid:t});break;case"HELP_OPENED":Object(he.track)(he.events.HELP_OPENED,{language:n,wid:t})}}function kt(e,t,n){return"FILE_LOADED"===n.type?function(n,r){var a=r().workspace[e].plugins[t].state.timeToCodeId;a&&Object(he.trackOnce)(he.events.TIME_TO_CODE_ENDED,{ttcid:a})}:function(r,a){if("WS_TYPED"===n.eventKey&&a().user&&a().user.userInfo&&Object(Y.a)(a().user.userInfo,"flag-achievements-v0")){var i=(new Date).toJSON().substring(0,10),o="".concat(a().user.userInfo.id,"_").concat(i);gt.get(wt)!==o&&(gt.set(wt,o),s="WS_TYPED",c=a().user,E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.userInfo||!c.userInfo.id){e.next=3;break}return e.next=3,E.a.awrap(vt.a.mutate({mutation:mt.G,variables:{userId:c.userInfo.id,event:s}}));case 3:case"end":return e.stop()}})))}var s,c;yt(n,e,a().workspace[e].plugins[t].state.repl&&a().workspace[e].plugins[t].state.repl.language)}}var Et=Object(S.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{timeToCodeId:null},t=arguments.length>1?arguments[1]:void 0;return"TIME_TO_CODE_ID"===t.type?{timeToCodeId:t.timeToCodeId}:e},repl:P.b});var jt=n("7r0u"),Ot=n("Rexj"),_t=n("9/5/"),Ct=n.n(_t),Nt=n("NuhN"),Tt=n("Hrer"),St=n("doui"),It=n("Cg2A"),Rt=n.n(It),Lt=n("MI3g"),At=n("a7VT"),Dt=n("AT/M"),Pt=n("Tit0"),Ft=n("+qE3"),Mt=n("cC09"),Ut=n("cHV+"),Ht=(n("Yk1I"),n("Z5Wq")),Gt=n("p0XB"),Bt=n.n(Gt),Kt=function(e){return e.length>0&&"number"===typeof e[e.length-1]&&e.pop(),e},zt=function(e){if(!Bt()(e))throw Error("Op must be an array of components");for(var t=null,n=0;n<e.length;n++){var r=e[n];switch(typeof r){case"object":if(!("number"===typeof r.d&&r.d>0))throw Error("Object components must be deletes of size > 0");break;case"string":if(!(r.length>0))throw Error("Inserts cannot be empty");break;case"number":if(!(r>0))throw Error("Skip components must be >0");if("number"===typeof t)throw Error("Adjacent skip components should be combined")}t=r}if("number"===typeof t)throw Error("Op has a trailing skip")},Vt=function(e){return"number"===typeof e?e:"string"===typeof e?e.length:e.d};function Xt(e,t){zt(e),zt(t);for(var n,r,a=[],i=(n=a,function(e){e&&0!==e.d&&(0===n.length?n.push(e):typeof e===typeof n[n.length-1]?"object"===typeof e?n[n.length-1].d+=e.d:n[n.length-1]+=e:n.push(e))}),o=function(e){var t=0,n=0;return[function(r,a){if(t===e.length)return-1===r?null:r;var i,o=e[t];return"number"===typeof o?-1===r||o-n<=r?(i=o-n,++t,n=0,i):(n+=r,r):"string"===typeof o?-1===r||"i"===a||o.length-n<=r?(i=o.slice(n),++t,n=0,i):(i=o.slice(n,n+r),n+=r,i):-1===r||"d"===a||o.d-n<=r?(i={d:o.d-n},++t,n=0,i):(n+=r,{d:r})},function(){return e[t]}]}(e)[0],s=0;s<t.length;s++){var c=t[s],l=void 0,u=void 0;switch(typeof c){case"number":for(l=c;l>0;)(u=o(l,"d"))&&i(u),"object"!==typeof u&&(l-=Vt(u));break;case"string":i(c);break;case"object":for(l=c.d;l>0;)switch(typeof(u=o(l,"d"))){case"number":i({d:u}),l-=u;break;case"string":l-=u.length;break;case"object":u&&i(u)}}}for(;r=o(-1);)i(r);return Kt(a)}function Wt(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return m()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):h.a?f()(e,h()(n)):Wt(Object(n)).forEach((function(t){d()(e,t,m()(n,t))}))}return e}var qt=function(e){function t(e,n){var r;return Object(Ce.a)(this,t),r=Object(Lt.a)(this,Object(At.a)(t).call(this)),Object(y.a)(Object(Dt.a)(r),"linkedFile",void 0),Object(y.a)(Object(Dt.a)(r),"channel",void 0),Object(y.a)(Object(Dt.a)(r),"pending",void 0),Object(y.a)(Object(Dt.a)(r),"inflight",void 0),Object(y.a)(Object(Dt.a)(r),"inflightOpsPromise",void 0),Object(y.a)(Object(Dt.a)(r),"version",void 0),Object(y.a)(Object(Dt.a)(r),"otContents",void 0),Object(y.a)(Object(Dt.a)(r),"pendingCursors",void 0),Object(y.a)(Object(Dt.a)(r),"flushedCursorIds",void 0),Object(y.a)(Object(Dt.a)(r),"user",void 0),Object(y.a)(Object(Dt.a)(r),"debounceSend",void 0),Object(y.a)(Object(Dt.a)(r),"debounceCommit",void 0),Object(y.a)(Object(Dt.a)(r),"isCommitting",void 0),Object(y.a)(Object(Dt.a)(r),"resolveStatusOp",void 0),Object(y.a)(Object(Dt.a)(r),"isReconnecting",void 0),Object(y.a)(Object(Dt.a)(r),"uncommittedOps",void 0),Object(y.a)(Object(Dt.a)(r),"hasUncommittedMultiplayerOps",void 0),Object(y.a)(Object(Dt.a)(r),"committedVersion",void 0),Object(y.a)(Object(Dt.a)(r),"committedContent",void 0),Object(y.a)(Object(Dt.a)(r),"bufferedReconnectingOps",void 0),Object(y.a)(Object(Dt.a)(r),"didEditOffline",void 0),Object(y.a)(Object(Dt.a)(r),"reconnectTrackedData",void 0),Object(y.a)(Object(Dt.a)(r),"timeDisconnected",void 0),Object(y.a)(Object(Dt.a)(r),"connect",(function(e){if(r.channel)throw new Error("Trying to reconnect while we already have a channel");r.channel=e,r.channel.on("command",(function(e){switch(e.body){case"ot":if(!e.ot||null==e.ot.ops||null==e.ot.version||null==e.ot.crc32)return void r.emit("error",new Error("OT Error: missing data in ot packet"),e.ot||{});var t={crc32:e.ot.crc32,ops:Qt(e.ot.ops),version:e.ot.version};return r.handlePacket(t,{overrideReconnectringBuffer:!1});case"otstatus":return r.handleStatus(e.otstatus);case"error":if(e.ref)return;return r.emit("error",new Error("Unkown protocol error OT channel"),{originalError:e.error||"Server error"});case"otNewCursor":return r.handleNewCursor(e.otNewCursor);case"otDeleteCursor":return r.handleDeleteCursor(e.otDeleteCursor)}})),r.channel.on("close",(function(){r.close()})),r.channel.on("error",(function(e){return r.emit("error",new Error("OT Error: channel error"),{originalError:e.message})}))})),Object(y.a)(Object(Dt.a)(r),"onChange",(function(e){if(!r.channel&&!r.isReconnecting)throw new Error("Trying to send changes before ever coming online");r.isReconnecting&&(r.didEditOffline=!0);var t="";try{t=r.getLocalContent()}catch(b){return void r.emit("error",new Error("OT Error: unable to get local content"),{originalError:b})}var n=[],a=0,i=!0,o=!1,s=void 0;try{for(var c,l=H()(e);!(i=(c=l.next()).done);i=!0){var u=c.value;switch(typeof u){case"number":a+=u;break;case"string":var d=Object(Ht.strPosToUni)(t,a);n=d>0?Ut.type.compose(n,[d,u]):Ut.type.compose(n,[u]),a+=u.length;break;case"object":var p=Object(Ht.strPosToUni)(t,a),f=Object(Ht.strPosToUni)(t,a+u.d)-p;n=p>0?Ut.type.compose(n,[p,{d:f}]):Ut.type.compose(n,[{d:f}]);break;default:return void r.emit("error",new Error("OT Error: unknown op type"))}}}catch(h){o=!0,s=h}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}r.pending=Ut.type.compose(r.pending,n),0!==r.pending.length?r.emit("fileDirty"):r.isCommitting&&r.emit("commitStart");try{r.getLocalContent()}catch(b){r.emit("error",new Error("OT Error: unable to get local content"),{originalError:b})}r.debounceSend()})),Object(y.a)(Object(Dt.a)(r),"updateCursors",(function(e){r.pendingCursors=e,r.debounceSend()})),Object(y.a)(Object(Dt.a)(r),"isClean",(function(){return r.committedVersion===r.version&&0===r.inflight.length&&0===r.pending.length})),Object(y.a)(Object(Dt.a)(r),"sendOps",(function(){if(r.channel&&!r.isReconnecting&&!(r.inflight.length>0)){if(0!==r.pending.length){var e=r.pending.map((function(e){return"object"===typeof e?{delete:e.d}:"number"===typeof e?{skip:e}:{insert:e}}));r.inflight=r.pending,r.pending=[],r.inflightOpsPromise=r.channel.request({ot:{version:r.version,ops:e}}),r.inflightOpsPromise.then((function(t){t.error&&r.emit("error",new Error("OT Error: error accepting packet"),{originalError:t.error,ops:e})}))}if(0!==r.pendingCursors.length){var t=!0,n=!1,a=void 0;try{for(var i,o=H()(r.flushedCursorIds);!(t=(i=o.next()).done);t=!0){var s=i.value;r.channel.send({otDeleteCursor:{id:s}})}}catch(h){n=!0,a=h}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}r.flushedCursorIds=[];var c=!0,l=!1,u=void 0;try{for(var d,p=H()(r.pendingCursors);!(c=(d=p.next()).done);c=!0){var f=d.value,b=Number(Math.random().toString().split(".")[1]).toString(36);r.flushedCursorIds.push(b),r.channel.send({otNewCursor:Yt({id:b,user:r.user},f)})}}catch(h){l=!0,u=h}finally{try{c||null==p.return||p.return()}finally{if(l)throw u}}r.pendingCursors=[]}}})),Object(y.a)(Object(Dt.a)(r),"handlePacket",(function(e,t){var n=e.ops,a=e.version,i=e.crc32,o=t.overrideReconnectringBuffer;if(r.resolveStatusOp)return r.resolveStatusOp({ops:n,version:a}),void(r.resolveStatusOp=null);if(!r.isReconnecting||o)if(-1!==r.version)if(r.version++,a===r.version){var s="";try{s=Ut.type.apply(r.otContents,n)}catch(E){return void r.emit("error",new Error("OT Error: unable to apply updated content"),{originalError:E,incomingOps:n})}var c=Mt.str(s)>>>0;if(c===i){if(r.uncommittedOps.push({version:a,crc32:i,ops:n}),B()(n)===B()(r.inflight))return r.debounceCommit(),r.inflight=[],r.inflightOpsPromise=null,r.otContents=s,r.debounceSend(),void r.debounceSend.flush();r.isCommitting||r.emit("fileDirty"),r.debounceCommit(),r.hasUncommittedMultiplayerOps=!0;var l="";try{l=r.getLocalContent()}catch(E){return void r.emit("error",new Error("OT Error: unable to get local content"),{originalError:E})}if(r.inflight.length){var u=Ut.type.transform(r.inflight,n,"right");n=Ut.type.transform(n,r.inflight,"left"),r.inflight=u}if(r.pending.length){var d=Ut.type.transform(r.pending,n,"right");n=Ut.type.transform(n,r.pending,"left"),r.pending=d}var p=[],f=0,b=!0,h=!1,g=void 0;try{for(var m,v=H()(n);!(b=(m=v.next()).done);b=!0){var x=m.value;switch(typeof x){case"number":f+=x;break;case"string":var w=Object(Ht.uniToStrPos)(l,f);p=Xt(p,w>0?[w,x]:[x]),f+=Object(Ht.strPosToUni)(x);break;case"object":var y=Object(Ht.uniToStrPos)(l,f),k=Object(Ht.uniToStrPos)(l,f+x.d)-y;p=Xt(p,y>0?[y,{d:k}]:[{d:k}]);break;default:return void r.emit("error",new Error("OT Error: unknown op type"))}}}catch(j){h=!0,g=j}finally{try{b||null==v.return||v.return()}finally{if(h)throw g}}r.otContents=s,r.emit("op",p)}else r.emit("error",new Error("OT Error: crc32 mismatch"),{server:i,client:c,incomingOps:n})}else r.emit("error",new Error("OT Error: invalid server version"),{expectedVersion:r.version,receievedVersion:a,incomingOps:n});else r.emit("error",new Error("Got packet while version is still -1, expected version to be set in handleStatus"));else r.bufferedReconnectingOps.push({crc32:i,ops:n,version:a})})),Object(y.a)(Object(Dt.a)(r),"handleNewCursor",(function(e){r.emit("cursor",e)})),Object(y.a)(Object(Dt.a)(r),"handleDeleteCursor",(function(e){var t=e.id;r.emit("removeCursor",t)})),Object(y.a)(Object(Dt.a)(r),"handleStatus",(function(e){var t,n,a,i,o,s;return E.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.channel){c.next=2;break}return c.abrupt("return");case 2:if(!e.linkedFile){c.next=23;break}if(null!=e.contents){c.next=6;break}return r.emit("error",new Error("expected status contents,  got null or undefined")),c.abrupt("return");case 6:if(null!=e.cursors){c.next=9;break}return r.emit("error",new Error("expected status cursors, got null or undefined")),c.abrupt("return");case 9:if(null!=e.version){c.next=12;break}return r.emit("error",new Error("expected status version, got null or undefined")),c.abrupt("return");case 12:if(!r.isReconnecting){c.next=15;break}return r.handleReconnect(e.contents,e.version),c.abrupt("return");case 15:return r.otContents=e.contents,r.version=e.version,r.emit("firstConnect"),r.emit("op",[r.otContents]),e.cursors.forEach(r.handleNewCursor),r.emit("fileDirty"),r.debounceCommit(),c.abrupt("return");case 23:return t=new z.a((function(e){return r.resolveStatusOp=e})),c.next=26,E.a.awrap(r.channel.request({otLinkFile:{file:{path:r.linkedFile},highConsistency:Boolean(window["flag-ot-high-consitency"]),useModTime:!0}}));case 26:if(!(n=c.sent).channelClosed){c.next=29;break}return c.abrupt("return");case 29:if(!n.error){c.next=32;break}return r.emit("error",new Error("link file error "+n.error)),c.abrupt("return");case 32:return c.next=34,E.a.awrap(t);case 34:if(a=c.sent,i=a.ops,o=a.version,!(i.length>1)){c.next=40;break}return r.emit("error",new Error("Expected a single status op")),c.abrupt("return");case 40:if("string"===typeof(s=i[0]||"")){c.next=44;break}return r.emit("error",new Error("Expected a status op to be an insert or empty")),c.abrupt("return");case 44:if(!r.isReconnecting){c.next=47;break}return r.handleReconnect(s,o),c.abrupt("return");case 47:r.otContents=s,r.version=o,r.committedVersion=o,r.committedContent=r.otContents,r.emit("firstConnect"),r.emit("op",i);case 53:case"end":return c.stop()}}))})),Object(y.a)(Object(Dt.a)(r),"handleReconnect",(function(e,t){var n,a,i,o,s,c,l,u,d,p,f,b,h,g,m,v,x,w,y,k,j,O,_,C,N,T,S,I,R,L,A,D,P,F,M,U,G,B,K,z,V,X,W,Y,q,Q,J,Z,$;return E.a.async((function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(r.timeDisconnected){ee.next=2;break}throw new Error("wat");case 2:if(n=Rt()()-r.timeDisconnected,a=function(a){r.reconnectTrackedData=Yt({},a,{serverVersion:t,ourVersion:r.version,ourCommittedVersion:r.committedVersion,areContentsEqual:r.otContents===e,areCommittedContentsEqual:r.committedContent===e,didReceiveOpsWhileReconnecting:Boolean(r.bufferedReconnectingOps),didEditOffline:r.didEditOffline,hasPendingOps:Boolean(r.pending.length),disconnectDuration:n})},i=function(){r.isReconnecting=!1,r.bufferedReconnectingOps=[],r.didEditOffline=!1,r.timeDisconnected=null,r.debounceSend(),r.debounceCommit(),r.emit("reconnected")},!r.inflight.length){ee.next=26;break}if(t!==r.version||r.otContents!==e){ee.next=14;break}return a({case:"has_inflight_happy_path_ops_unreached",prompted:!1}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.pending=Ut.type.compose(r.inflight,r.pending),r.inflight=[],r.inflightOpsPromise=null,i(),ee.abrupt("return");case 14:o=!1,s=r.otContents;try{s=Ut.type.apply(e,r.inflight)}catch(te){o=!0}if(o||r.version+1!==t||s!==e){ee.next=22;break}return a({case:"has_inflight_happy_path_ops_reached",prompted:!0}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 22:return a({case:"has_inflight",prompted:!0}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 26:if(!r.hasUncommittedMultiplayerOps){ee.next=31;break}return a({case:"multiplayer",prompted:!0}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 31:if(r.version!==t){ee.next=41;break}if(e!==r.otContents){ee.next=37;break}return a({case:"happy_path",prompted:!1}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),i(),ee.abrupt("return");case 37:return a({case:"same_version_different_content",prompted:!0}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 41:if(r.committedVersion!==t){ee.next=104;break}for(c=e,ee.prev=43,l=!0,u=!1,d=void 0,ee.prev=47,p=H()(r.uncommittedOps);!(l=(f=p.next()).done);l=!0)b=f.value.ops,c=Ut.type.apply(c,b);ee.next=55;break;case 51:ee.prev=51,ee.t0=ee.catch(47),u=!0,d=ee.t0;case 55:ee.prev=55,ee.prev=56,l||null==p.return||p.return();case 58:if(ee.prev=58,!u){ee.next=61;break}throw d;case 61:return ee.finish(58);case 62:return ee.finish(55);case 63:ee.next=71;break;case 65:return ee.prev=65,ee.t1=ee.catch(43),a({case:"same_committed_version_unable_to_apply_ops",prompted:!0}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 71:if(c!==r.otContents){ee.next=100;break}for(a({case:"happy_path_uncommitted",prompted:!1}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),h=[],g=!0,m=!1,v=void 0,ee.prev=78,x=H()(r.uncommittedOps);!(g=(w=x.next()).done);g=!0)y=w.value.ops,h=Ut.type.compose(h,y);ee.next=86;break;case 82:ee.prev=82,ee.t2=ee.catch(78),m=!0,v=ee.t2;case 86:ee.prev=86,ee.prev=87,g||null==x.return||x.return();case 89:if(ee.prev=89,!m){ee.next=92;break}throw v;case 92:return ee.finish(89);case 93:return ee.finish(86);case 94:return r.pending=Ut.type.compose(h,r.pending),r.uncommittedOps=[],r.version=t,r.otContents=e,i(),ee.abrupt("return");case 100:return a({case:"same_committed_version_different_content_fixed",prompted:!0}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect"),ee.abrupt("return");case 104:if(!(r.version<t)){ee.next=211;break}return ee.next=107,E.a.awrap(r.fetchOps(r.version+1,t));case 107:for(k=ee.sent,j=!1,O=r.otContents,ee.prev=110,_=!0,C=!1,N=void 0,ee.prev=114,T=H()(k);!(_=(S=T.next()).done);_=!0)I=S.value.ops,O=Ut.type.apply(O,I);ee.next=122;break;case 118:ee.prev=118,ee.t3=ee.catch(114),C=!0,N=ee.t3;case 122:ee.prev=122,ee.prev=123,_||null==T.return||T.return();case 125:if(ee.prev=125,!C){ee.next=128;break}throw N;case 128:return ee.finish(125);case 129:return ee.finish(122);case 130:ee.next=135;break;case 132:ee.prev=132,ee.t4=ee.catch(110),j=!0;case 135:if(j||O!==e){ee.next=178;break}for(a({case:"happy_path_server_ahead",prompted:!1}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),R=!0,L=!1,A=void 0,ee.prev=141,D=H()(k);!(R=(P=D.next()).done);R=!0)F=P.value,r.handlePacket(F,{overrideReconnectringBuffer:!0});ee.next=149;break;case 145:ee.prev=145,ee.t5=ee.catch(141),L=!0,A=ee.t5;case 149:ee.prev=149,ee.prev=150,R||null==D.return||D.return();case 152:if(ee.prev=152,!L){ee.next=155;break}throw A;case 155:return ee.finish(152);case 156:return ee.finish(149);case 157:for(M=!0,U=!1,G=void 0,ee.prev=160,B=H()(r.bufferedReconnectingOps);!(M=(K=B.next()).done);M=!0)z=K.value,r.handlePacket(z,{overrideReconnectringBuffer:!0});ee.next=168;break;case 164:ee.prev=164,ee.t6=ee.catch(160),U=!0,G=ee.t6;case 168:ee.prev=168,ee.prev=169,M||null==B.return||B.return();case 171:if(ee.prev=171,!U){ee.next=174;break}throw G;case 174:return ee.finish(171);case 175:return ee.finish(168);case 176:return i(),ee.abrupt("return");case 178:return ee.next=180,E.a.awrap(r.fetchOps(r.committedVersion+1,t));case 180:for(V=ee.sent,X=!1,W=r.committedContent,ee.prev=183,Y=!0,q=!1,Q=void 0,ee.prev=187,J=H()(V);!(Y=(Z=J.next()).done);Y=!0)$=Z.value.ops,W=Ut.type.apply(W,$);ee.next=195;break;case 191:ee.prev=191,ee.t7=ee.catch(187),q=!0,Q=ee.t7;case 195:ee.prev=195,ee.prev=196,Y||null==J.return||J.return();case 198:if(ee.prev=198,!q){ee.next=201;break}throw Q;case 201:return ee.finish(198);case 202:return ee.finish(195);case 203:ee.next=208;break;case 205:ee.prev=205,ee.t8=ee.catch(183),X=!0;case 208:return X||W!==e||(a({case:"happy_path_uncommitted_server_ahead",prompted:!0}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData)),r.emit("promptUserReconnect"),ee.abrupt("return");case 211:a({case:"other",prompted:!0}),Object(he.track)(he.events.FILE_RECONNECTED_STATUS2,r.reconnectTrackedData),r.emit("promptUserReconnect");case 214:case"end":return ee.stop()}}),null,null,[[43,65],[47,51,55,63],[56,,58,62],[78,82,86,94],[87,,89,93],[110,132],[114,118,122,130],[123,,125,129],[141,145,149,157],[150,,152,156],[160,164,168,176],[169,,171,175],[183,205],[187,191,195,203],[196,,198,202]])})),Object(y.a)(Object(Dt.a)(r),"getLocalContent",(function(){var e=Object(Dt.a)(r),t=e.inflight,n=e.otContents,a=e.pending,i=n;return t.length&&(i=Ut.type.apply(i,t)),a.length&&(i=Ut.type.apply(i,a)),i})),Object(y.a)(Object(Dt.a)(r),"fetchOps",(function(e,t){var n;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.channel){a.next=2;break}throw new Error("No cahnnel, cannot fetch");case 2:return a.next=4,E.a.awrap(r.channel.request({otFetchRequest:{versionFrom:e,versionTo:t}}));case 4:if(!(n=a.sent).channelClosed){a.next=7;break}throw new Error("Channel closed while requesting");case 7:if(!n.error){a.next=9;break}throw new Error("Fetch ops returned an error"+n.error);case 9:if(n.otFetchResponse){a.next=11;break}throw new Error("Expected otFetchResponse");case 11:if(n.otFetchResponse.packets){a.next=13;break}throw new Error("Expected otFetchResponse.packets");case 13:return a.abrupt("return",n.otFetchResponse.packets.map((function(e){var t=e.crc32,n=e.ops,r=e.version;if(null==t)throw new Error("Expected crc32 in packet");if(null==n)throw new Error("Expected ops in packet");if(null==r)throw new Error("Expected version in packet");return{crc32:t,version:r,ops:Qt(n)}})));case 14:case"end":return a.stop()}}))})),r.linkedFile=e,r.channel=null,r.inflight=[],r.inflightOpsPromise=null,r.uncommittedOps=[],r.hasUncommittedMultiplayerOps=!1,r.committedVersion=-1,r.isReconnecting=!1,r.bufferedReconnectingOps=[],r.didEditOffline=!1,r.pending=[],r.version=-1,r.otContents="",r.committedContent="",r.flushedCursorIds=[],r.pendingCursors=[],r.user=n,r.debounceSend=Ct()((function(){return r.sendOps()}),20,{maxWait:60}),r.debounceCommit=Ct()((function(){return r.commitToDisk()}),1e3,{maxWait:3e3}),r.resolveStatusOp=null,r.isCommitting=!1,r.timeDisconnected=null,r}return Object(Pt.a)(t,e),Object(ht.a)(t,[{key:"commitToDisk",value:function(){var e,t,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.channel){r.next=2;break}throw new Error("Tryna commit while offline");case 2:if(!this.isReconnecting){r.next=4;break}throw new Error("Committing while reconnecting");case 4:if(!this.isClean()){r.next=6;break}return r.abrupt("return");case 6:if(!this.isCommitting){r.next=9;break}return this.debounceCommit(),r.abrupt("return");case 9:if(this.isCommitting=!0,!this.inflightOpsPromise){r.next=17;break}return r.next=13,E.a.awrap(this.inflightOpsPromise);case 13:if(!r.sent.channelClosed){r.next=17;break}return this.isCommitting=!1,r.abrupt("return");case 17:if(!(this.pending.length>0)){r.next=30;break}if(this.debounceSend(),this.debounceSend.flush(),this.inflightOpsPromise){r.next=24;break}return this.isCommitting=!1,this.emit("error",new Error("expected inflight promise")),r.abrupt("return");case 24:return r.next=26,E.a.awrap(this.inflightOpsPromise);case 26:if(!r.sent.channelClosed){r.next=30;break}return this.isCommitting=!1,r.abrupt("return");case 30:return this.emit("commitStart"),e=this.version,t=this.otContents,r.next=35,E.a.awrap(this.channel.request({flush:{}}));case 35:if(!(n=r.sent).channelClosed){r.next=39;break}return this.isCommitting=!1,r.abrupt("return");case 39:if("ok"===n.body){r.next=43;break}return this.isCommitting=!1,this.emit("error",new Error("OT Error: unable to flush"),{originalError:n.error||n.toString()}),r.abrupt("return");case 43:return this.uncommittedOps=[],this.hasUncommittedMultiplayerOps=!1,this.committedVersion=e,this.committedContent=t,this.isClean()&&this.emit("commitClean"),this.isCommitting=!1,r.abrupt("return",n);case 50:case"end":return r.stop()}}),null,this)}},{key:"close",value:function(){this.isReconnecting=!0,this.debounceSend.cancel(),this.debounceCommit.cancel(),this.timeDisconnected||(this.timeDisconnected=Rt()()),this.channel&&(this.channel.closed?this.channel=null:(this.channel.close(),this.channel=null))}}]),t}(Ft.EventEmitter);function Qt(e){return e.map((function(e){if("delete"in e&&e.delete)return{d:e.delete};if("skip"in e&&e.skip)return e.skip;if("insert"in e&&"string"===typeof e.insert)return e.insert;throw new Error("Unexpected op type")}))}var Jt=n("N9ih"),Zt=n("EVOq"),$t=n("Yk3a"),en=n("CD53"),tn=n("XE6U");function nn(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return m()(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):h.a?f()(e,h()(n)):nn(Object(n)).forEach((function(t){d()(e,t,m()(n,t))}))}return e}var an=Object($t.a)((function(){return{loadingFiles:[],otClients:{},pendingOps:[],inflightOp:null,filer:null,fsevents:null,lastSnapshotTimestamp:0,engineLoaded:!1,isForking:!1}})),on=an.reducer,sn=an.setState,cn=function(e,t){return!!e.startsWith("node_modules")||!!N.a.isLangFileBinary(t,e)};function ln(e,t,n,r){return function(a,i){var o,s,c,l,u,d,p,f,b,h,g,m,v,x,w,y,k,j,O,_,C,N,T,S,I;return E.a.async((function(R){for(;;)switch(R.prev=R.next){case 0:if(!Object(Q.a)(i(),e,t,"containerfs3").dirs[r].loaded){R.next=4;break}return a(mn(e,t,n)),R.abrupt("return");case 4:return a(En(e,t,""===r?".":"./".concat(r),n)),R.next=8,E.a.awrap(a(dn(e,t,n)));case 8:return s=R.sent,R.next=11,E.a.awrap(s.request({readdir:{path:"./".concat(r)}}));case 11:if(!(c=R.sent).channelClosed){R.next=14;break}return R.abrupt("return");case 14:if(!c.error){R.next=16;break}return R.abrupt("return");case 16:if((l=null===(o=c.files)||void 0===o?void 0:o.files)&&0!==l.length){R.next=21;break}return a({type:"DIRECTORY_LOADED",wid:e,path:r}),a(mn(e,t,n)),R.abrupt("return");case 21:u=Object(Q.a)(i(),e,t,"containerfs3"),d=u.dirs,p=u.files,f=u.repl,b=!0,h=!1,g=void 0,R.prev=25,m=H()(l);case 27:if(b=(v=m.next()).done){R.next=41;break}if(x=v.value,w=x.path,y=x.type,w){R.next=32;break}return R.abrupt("continue",38);case 32:if(k="".concat(Object(Nt.a)(r)).concat(w),!d[k]&&!p[k]){R.next=35;break}return R.abrupt("continue",38);case 35:if(!cn(w,f.language)){R.next=37;break}return R.abrupt("continue",38);case 37:a({type:y===X.api.File.Type.DIRECTORY?"CREATE_CLIENT_DIRECTORY":"CREATE_FILE",wid:e,path:k});case 38:b=!0,R.next=27;break;case 41:R.next=47;break;case 43:R.prev=43,R.t0=R.catch(25),h=!0,g=R.t0;case 47:R.prev=47,R.prev=48,b||null==m.return||m.return();case 50:if(R.prev=50,!h){R.next=53;break}throw g;case 53:return R.finish(50);case 54:return R.finish(47);case 55:j=Object(Nt.b)(rn({},p,{},d),r).map(oe.b),O=l.map((function(e){return e.path})),_=!0,C=!1,N=void 0,R.prev=60,T=H()(j);case 62:if(_=(S=T.next()).done){R.next=70;break}if(I=S.value,!O.includes(I)){R.next=66;break}return R.abrupt("continue",67);case 66:a({type:"DELETE_FILE",wid:e,path:"".concat(Object(Nt.a)(r)).concat(I),changeSource:"containerfs"});case 67:_=!0,R.next=62;break;case 70:R.next=76;break;case 72:R.prev=72,R.t1=R.catch(60),C=!0,N=R.t1;case 76:R.prev=76,R.prev=77,_||null==T.return||T.return();case 79:if(R.prev=79,!C){R.next=82;break}throw N;case 82:return R.finish(79);case 83:return R.finish(76);case 84:a({type:"DIRECTORY_LOADED",wid:e,path:r}),a(mn(e,t,n));case 86:case"end":return R.stop()}}),null,null,[[25,43,47,55],[48,,50,54],[60,72,76,84],[77,,79,83]])}}function un(e,t,n){return function(r,a){var i,o,s,c,l;return E.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(i=Object(Q.a)(a(),e,t,"containerfs3"),!(o=i.fsevents)){u.next=3;break}return u.abrupt("return",o);case 3:return s=r(Object(Zt.a)({wid:e,service:"fsevents",wait:n})),sn(e,t,r,{fsevents:s}),u.next=7,E.a.awrap(s);case 7:return c=u.sent,sn(e,t,r,{fsevents:c}),l=function(){return sn(e,t,r,{fsevents:null})},c.once("close",l),c.once("error",l),c.on("command",(function(n){kn(e,t,r,a,n)})),u.abrupt("return",c);case 14:case"end":return u.stop()}}))}}function dn(e,t,n){return function(r,a){var i,o,s,c,l,u,d,p,f;return E.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(i=Object(Q.a)(a(),e,t,"containerfs3"),o=i.filer,s=i.repl,!o){b.next=3;break}return b.abrupt("return",o);case 3:return c=function(){},l=new z.a((function(e){return c=e})),sn(e,t,r,{filer:l}),b.next=8,E.a.awrap(r(Object(Zt.a)({wid:e,service:s.isOwner?"gcsfiles":"file",wait:n})));case 8:if(u=b.sent,d=function(){return sn(e,t,r,{filer:null})},u.once("close",d),p=null,!s.isOwner){b.next=16;break}return b.next=15,E.a.awrap(r(Object(Zt.a)({wid:e,service:"snapshot",wait:n})));case 15:p=b.sent;case 16:return f=Ct()((function(){var n,i,o;return E.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(sn(e,t,r,{lastSnapshotTimestamp:window.performance.now()}),n=!1,!p){s.next=5;break}return s.next=5,E.a.awrap(p.request({fsSnapshot:{}}).then((function(a){a.ok||(n=!0,a.channelClosed||(p&&p.send({fsSnapshot:{}}),r({type:"BSOD",wid:e,crasherPud:t,originalError:a.error}),V.m((function(e){e.setTag("source","containerfs3"),e.setTag("errorType",a.error),V.c(new Error("snapshot error: "+a.error))}))))})));case 5:if(!n){s.next=8;break}return f(),s.abrupt("return");case 8:for(i=Object(Q.a)(a(),e,t,"containerfs3"),o=i.fsclean.waiting;o-- >0;)r({type:"FILE_PERSISTED",wid:e});case 10:case"end":return s.stop()}}))}),5e3,{maxWait:1e4}),sn(e,t,r,{debouncePersist:f,filer:u}),c(u),b.abrupt("return",u);case 20:case"end":return b.stop()}}))}}function pn(e){var t=e.wid,n=e.pud,r=e.path,a=e.wait;return function(e,i){var o,s,c,l,u,d;return E.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(!(o=function(){return Object(Q.a)(i(),t,n,"containerfs3")})().loadingFiles.includes(r)&&!o().otClients[r]){p.next=4;break}return e(mn(t,n,a)),p.abrupt("return");case 4:return sn(t,n,e,{loadingFiles:[].concat(Object(w.a)(o().loadingFiles),[r])}),p.next=7,E.a.awrap(e(dn(t,n,a)));case 7:if(s=p.sent,!Object(oe.h)(r)){p.next=25;break}return p.next=11,E.a.awrap(s.request({read:{path:r,type:X.api.File.Type.REGULAR}}));case 11:if(c=p.sent,sn(t,n,e,{loadingFiles:o().loadingFiles.filter((function(e){return e!==r}))}),!c.channelClosed){p.next=15;break}return p.abrupt("return");case 15:if(!c.error){p.next=19;break}throw e({type:"FILE_ERROR",wid:t,path:r,error:c.error}),e({type:"BSOD",wid:t,crasherPud:n,originalError:c.error}),new tn.a("unable to load file").setExtra("error",c.error);case 19:if(c.file&&c.file.content){p.next=21;break}throw new Error("Expected file or error");case 21:return o().filestate[r]===D.a.Syncing?e({type:"FILE_CLEAN",wid:t,path:r}):o().filestate[r]===D.a.Loading&&e({type:"FILE_LOADED",wid:t,path:r,file:{path:r,content:ee.a.from(c.file.content),loaded:!0}}),e(En(t,n,r,a)),e(mn(t,n,a)),p.abrupt("return");case 25:return p.next=27,E.a.awrap(e(Object(Zt.a)({wid:t,service:"ot",name:"ot:"+r,wait:a})));case 27:l=p.sent,u=i().user.userInfo,xn(l,e,t),(d=new qt(r,{name:u.username,id:u.id})).connect(l),d.on("reconnected",(function(){0})),d.on("fileDirty",(function(){e({type:"FILE_DIRTY",wid:t,path:r})})),d.on("commitClean",(function(){e({type:"PERSIST_FILE",wid:t}),e({type:"FILE_CLEAN",wid:t,path:r})})),d.on("commitStart",(function(){o().filestate[r]!==D.a.Syncing&&e({type:"FILE_SYNCING",wid:t,path:r})})),d.once("error",(function(a,o){d.close();var s=Object(Q.a)(i(),t,n,"containerfs3"),c=s.otClients,l=s.workingDirectory,u=s.files,p=rn({},o);if(c[r]){var f=rn({},c);if(delete f[r],sn(t,n,e,{otClients:f}),(p=rn({},p,{},JSON.parse(B()(c[r])))).filePath=r,window.monaco){var b=window.monaco.Uri.from({scheme:"file",path:"".concat(l,"/").concat(r)}),h=window.monaco.editor.getModel(b);p.monacoContent=h?B()(h.getValue()):"model not found"}else p.monacoContent="monaco not loaded"}u[r]&&e({type:"FILE_UNLOAD",wid:t,path:r}),V.m((function(r){r.setExtras(p),r.setTag("source","ot");var i=V.c(a);e({type:"BSOD",wid:t,sentryEventId:i,crasherPud:n,originalError:a})}))})),d.on("cursor",(function(n){e({wid:t,type:"ADD_FILE_CURSOR",cursor:n,path:r})})),d.on("removeCursor",(function(n){e({wid:t,type:"REMOVE_FILE_CURSOR",id:n,path:r})})),d.on("op",(function(n){e({wid:t,type:"OT_FILE_OP",path:r,changeSource:"containerfs",op:n})})),d.on("promptUserReconnect",(function(){e({wid:t,type:"PROMPT_FILE_RECONNECT_FALLBACK_CHOICE",path:r})})),d.once("firstConnect",(function(){sn(t,n,e,{loadingFiles:o().loadingFiles.filter((function(e){return e!==r}))}),sn(t,n,e,{otClients:rn({},o().otClients,Object(y.a)({},r,d))}),e({type:"FILE_LOADED",wid:t,path:r,file:{path:r,content:ee.a.from(""),loaded:!0}}),e(mn(t,n,a))}));case 42:case"end":return p.stop()}}))}}function fn(e,t,n,r){return function(a){var i,o,s,c;return E.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return i=n.path,o=n.content,l.next=3,E.a.awrap(a(dn(e,t,r)));case 3:return s=l.sent,l.next=6,E.a.awrap(s.request({write:{path:i,content:ee.a.from(o).toBuffer()}}));case 6:if(!(c=l.sent).channelClosed){l.next=9;break}return l.abrupt("return");case 9:if(c.ok){l.next=12;break}throw a({type:"FILE_ERROR",wid:e,path:i,error:c.error}),new Error("file upload error "+c.error);case 12:a({type:"PERSIST_FILE",wid:e}),a(pn({wid:e,pud:t,path:i,wait:r}));case 14:case"end":return l.stop()}}))}}function bn(e){var t=e.wid,n=e.pud,r=e.action,a=e.wait;return function(e,i){var o,s,c,l,u,d,p,f,b,h,g,m,v,x,w,y,k,j,_,C,N,T;return E.a.async((function(S){for(;;)switch(S.prev=S.next){case 0:o=r.path,s=r.to,l=(c=function(){return Object(Q.a)(i(),t,n,"containerfs3")})(),u=l.otClients,d=O()(u).includes(o)?[o]:Object(Nt.d)(u,o),p=[],f=!0,b=!1,h=void 0,S.prev=8,g=function(){var n,r=v.value,a=u[r];return a.isClean()?"continue":(null===(n=a.channel)||void 0===n?void 0:n.isOpen)?(a.debounceCommit(),a.debounceCommit.flush(),void p.push(new z.a((function(n,r){var i=!1,c=setTimeout((function(){i=!0;var n="Failed to flush otClient for ".concat(a.linkedFile," in time while moving from ").concat(o," to ").concat(s);e({type:"FILE_ERROR",wid:t,path:a.linkedFile,error:n}),r(n)}),5e3);a.once("commitClean",(function(){i||(a.close(),clearTimeout(c),n())}))})))):(V.c(new Error("Found an unclean otClient with no open channel while moving")),"continue")},m=H()(d);case 11:if(f=(v=m.next()).done){S.next=18;break}if("continue"!==g()){S.next=15;break}return S.abrupt("continue",15);case 15:f=!0,S.next=11;break;case 18:S.next=24;break;case 20:S.prev=20,S.t0=S.catch(8),b=!0,h=S.t0;case 24:S.prev=24,S.prev=25,f||null==m.return||m.return();case 27:if(S.prev=27,!b){S.next=30;break}throw h;case 30:return S.finish(27);case 31:return S.finish(24);case 32:return S.next=34,E.a.awrap(z.a.all(p));case 34:for(x=rn({},u),w=!0,y=!1,k=void 0,S.prev=38,j=H()(d);!(w=(_=j.next()).done);w=!0)C=_.value,u[C].close(),delete x[C];S.next=46;break;case 42:S.prev=42,S.t1=S.catch(38),y=!0,k=S.t1;case 46:S.prev=46,S.prev=47,w||null==j.return||j.return();case 49:if(S.prev=49,!y){S.next=52;break}throw k;case 52:return S.finish(49);case 53:return S.finish(46);case 54:return sn(t,n,e,{otClients:x}),S.next=57,E.a.awrap(e(dn(t,n,a)));case 57:return N=S.sent,S.next=60,E.a.awrap(N.request({move:{oldPath:o,newPath:s}}));case 60:if(!(T=S.sent).channelClosed){S.next=63;break}return S.abrupt("return");case 63:if(T.ok){S.next=67;break}throw(O()(c().files).includes(s)?[s]:Object(Nt.d)(c().files,s)).forEach((function(n){e({type:"FILE_ERROR",wid:t,path:n,error:T.error})})),new Error("unable to move file: "+T.error);case 67:e({type:"PERSIST_FILE",wid:t}),e(mn(t,n,a));case 69:case"end":return S.stop()}}),null,null,[[8,20,24,32],[25,,27,31],[38,42,46,54],[47,,49,53]])}}function hn(e,t,n,r){return function(a,i){var o,s,c,l,u,d;return E.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(o=n.path,s=Object(Q.a)(i(),e,t,"containerfs3"),c=s.loadingFiles,l=function(e){return Object(Nt.c)(o,e)||e===o},!c.some(l)){p.next=5;break}throw new Error("TODO(turbio): handle deleting a file while load in progress");case 5:return p.next=7,E.a.awrap(a(dn(e,t,r)));case 7:return u=p.sent,p.next=10,E.a.awrap(u.request({remove:{path:o}}));case 10:if(!(d=p.sent).channelClosed){p.next=13;break}return p.abrupt("return");case 13:if(d.ok){p.next=17;break}if("persist delete failed: 404 Not Found"!==d.error){p.next=16;break}return p.abrupt("return");case 16:a({type:"FILE_ERROR",wid:e,path:o,error:d.error});case 17:a({type:"PERSIST_FILE",wid:e}),a(mn(e,t,r));case 19:case"end":return p.stop()}}))}}function gn(e,t,n,r){return function(a){var i,o;return E.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,E.a.awrap(a(dn(e,t,r)));case 2:return i=s.sent,s.next=5,E.a.awrap(i.request({mkdir:{path:n.path}}));case 5:if(!(o=s.sent).channelClosed){s.next=8;break}return s.abrupt("return");case 8:if(!o.error){s.next=10;break}throw new Error("unable to mkdir: "+o.error);case 10:a({type:"PERSIST_FILE",wid:e}),a(mn(e,t,r));case 12:case"end":return s.stop()}}))}}function mn(e,t,n){return function(r){sn(e,t,r,{inflightOp:null}),r(vn(e,t,n))}}function vn(e,t,n){return function(r,a){var i,o,s,c;return E.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(i=Object(Q.a)(a(),e,t,"containerfs3")).inflightOp&&0!==i.pendingOps.length&&i.engineLoaded){l.next=3;break}return l.abrupt("return");case 3:if(o=Object(w.a)(i.pendingOps),s=o.shift()){l.next=7;break}throw new Error("poped an op but it was nil???");case 7:sn(e,t,r,{pendingOps:o,inflightOp:s}),l.t0=s.type,l.next="LOAD_DIRECTORY"===l.t0?11:"CREATE_DIRECTORY"===l.t0?13:"LOAD_FILE"===l.t0?15:"UPLOAD_FILE"===l.t0?17:"MOVE_FILE"===l.t0?19:"DELETE_FILE"===l.t0?21:23;break;case 11:return c=ln(e,t,n,s.path),l.abrupt("break",24);case 13:return c=gn(e,t,s,n),l.abrupt("break",24);case 15:return c=pn({wid:e,pud:t,path:s.path,wait:n}),l.abrupt("break",24);case 17:return c=fn(e,t,s,n),l.abrupt("break",24);case 19:return c=bn({wid:e,pud:t,action:s,wait:n}),l.abrupt("break",24);case 21:return c=hn(e,t,s,n),l.abrupt("break",24);case 23:throw new Error("unexpected OP ".concat(s.type," ").concat(B()(s)));case 24:return l.prev=24,l.next=27,E.a.awrap(r(c));case 27:l.next=32;break;case 29:l.prev=29,l.t1=l.catch(24),V.m((function(n){n.setExtra("containerfsState",Object(Q.a)(a(),e,t,"containerfs3")),n.setTags({pluginType:"containerfs3",workspaceError:"true"});var i=V.c(l.t1);r({type:"BSOD",wid:e,sentryEventId:i,crasherPud:t,originalError:l.t1})}));case 32:case"end":return l.stop()}}),null,null,[[24,29]])}}function xn(e,t,n){e.on("command",(function(e){if(e.error){var r=e.error.toLowerCase();(r.includes("disk quota exceeded")||r.includes("EDQUOT"))&&(t({type:"TRACK_WS_EVENT",eventKey:"DISK_QUOTA_EXCEEDED",wid:n}),t({type:"PROMPT_HACKER_UPGRADE",wid:n,title:"Space jam",trackingCtx:"workspace-disk-quota",message:"\ud83e\udd26 You've run out of free disk space",closable:!1}))}}))}function wn(e,t,n){return function(r,a){var i,o,s,c,l,u,d,p,f,b,h;return E.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:for(i=Object(Q.a)(a(),e,t,"containerfs3"),o=i.pendingOps,s=i.otClients,c=O()(s).includes(n)?[n]:Object(Nt.d)(s,n),l=rn({},s),u=!0,d=!1,p=void 0,g.prev=6,f=H()(c);!(u=(b=f.next()).done);u=!0)h=b.value,s[h]&&(s[h].close(),delete l[h]);g.next=14;break;case 10:g.prev=10,g.t0=g.catch(6),d=!0,p=g.t0;case 14:g.prev=14,g.prev=15,u||null==f.return||f.return();case 17:if(g.prev=17,!d){g.next=20;break}throw p;case 20:return g.finish(17);case 21:return g.finish(14);case 22:sn(e,t,r,{pendingOps:o.filter((function(e){return e.path!==n&&!Object(Nt.c)(n,e.path)})),otClients:l});case 23:case"end":return g.stop()}}),null,null,[[6,10,14,22],[15,,17,21]])}}function yn(e,t,n,r){return function(a,i){var o=Object(Q.a)(i(),e,t,"containerfs3"),s=n.path;if(s.startsWith("/")&&V.m((function(e){e.setExtra("path",s),e.setExtra("actiontype",n.type),"changeSource"in n&&e.setExtra("changeSource",n.changeSource),V.c(new Error("Absolute path caught"))})),o.repl.isOwner||"LOAD_FILE"===n.type||"LOAD_DIRECTORY"===n.type){if("UPLOAD_FILE"===n.type)a({type:"CREATE_FILE",wid:e,path:s}),a({type:"FILE_LOADING",wid:e,path:s});else if("LOAD_FILE"===n.type){if(o.otClients[s])return a({type:"FILE_CACHE_HIT",wid:e,path:s,file:{loaded:!0,path:s,content:ee.a.from(o.otClients[s].otContents)}}),void a(vn(e,t,r));var c=o.files[s];if(c&&c.loaded)return a({type:"FILE_CACHE_HIT",wid:e,path:s,file:c}),void a(vn(e,t,r));o.files[s]?o.filestate[s]!==D.a.Loading&&a({type:"FILE_LOADING",wid:e,path:s}):(a({type:"CREATE_FILE",wid:e,path:s,changeSource:"containerfs"}),a({type:"FILE_LOADING",wid:e,path:s}))}else"CREATE_DIRECTORY"===n.type&&a({type:"CREATE_CLIENT_DIRECTORY",wid:e,path:s});sn(e,t,a,{pendingOps:[].concat(Object(w.a)(o.pendingOps),[n])}),a(vn(e,t,r))}}}function kn(e,t,n,r,a){var i=Object(Q.a)(r(),e,t,"containerfs3"),o=i.otClients,s=i.files,c=i.repl,l=i.dirs;if(a.fileEvent){window.inotifiedTaint=!0;var u=a.fileEvent,d=u.file,p=u.dest,f=u.op;if(d){var b=d.path,h=d.type;if(null!=b&&null!=f&&(c.isOwner&&n({type:"PERSIST_FILE",wid:e}),!cn(b,c.language)))switch(f){case X.api.FileEvent.Op.Create:if(!s[b]&&!l[b])return void n({type:h===X.api.File.Type.DIRECTORY?"CREATE_CLIENT_DIRECTORY":"CREATE_FILE",wid:e,path:b,changeSource:"containerfs"});if(o[b])return;return void n({type:h===X.api.File.Type.DIRECTORY?"DIRECTORY_UNLOAD":"FILE_UNLOAD",wid:e,path:b,changeSource:"containerfs"});case X.api.FileEvent.Op.Modify:if(d.type===X.api.File.Type.DIRECTORY)return;if(!s[b])return void n({type:"CREATE_FILE",wid:e,path:b,changeSource:"containerfs"});if(o[b])return;return void n({type:"FILE_UNLOAD",wid:e,path:b,changeSource:"containerfs"});case X.api.FileEvent.Op.Move:if(null==p||null==p.path)throw new Error("Got move op, but dest was null or undefined");return s[b]&&l[b]?void n({type:"MOVE_FILE",wid:e,path:b,to:p.path,changeSource:"containerfs"}):void n({type:h===X.api.File.Type.DIRECTORY?"CREATE_CLIENT_DIRECTORY":"CREATE_FILE",wid:e,path:p.path,changeSource:"containerfs"});case X.api.FileEvent.Op.Remove:if(!s[b]&&!l[b])return;return void n({type:"DELETE_FILE",wid:e,path:b,changeSource:"containerfs"})}}}}function En(e,t,n,r){return function(a){return E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!n.startsWith("/")){i.next=3;break}return V.m((function(e){e.setExtras({path:n}),V.c(new Error("Cannot subscribe to file starting with /"))})),i.abrupt("return");case 3:return i.next=5,E.a.awrap(a(un(e,t,r)));case 5:i.sent.send({subscribeFile:{files:[{path:n}]}});case 7:case"end":return i.stop()}}))}}var jn=Object(L.a)((function(e,t,n,r){return function(a,i){switch(n.type){case"OT_FILE_OP":if("containerfs"===n.changeSource)return;var o=Object(Q.a)(i(),e,t,"containerfs3"),s=o.otClients,c=o.repl;if(!s[n.path])throw new Error("Got OT_FILE_OP without an otClient");if(!c.isOwner)return;return s[n.path].onChange(n.op),void a({type:"FILE_OP_DONE",wid:e,path:n.path});case"CREATE_DIRECTORY":case"LOAD_FILE":case"UPLOAD_FILE":case"LOAD_DIRECTORY":if("containerfs"===n.changeSource)return;return a(yn(e,t,n,r));case"DELETE_FILE":if(a(wn(e,t,n.path)),"containerfs"===n.changeSource)return;return a(yn(e,t,n,r));case"MOVE_FILE":if("containerfs"===n.changeSource){var l,u=Object(Q.a)(i(),e,t,"containerfs3").filestate;a(wn(e,t,n.path)),l=O()(u).includes(n.to)?[n.to]:Object(Nt.d)(u,n.to);var d=!0,p=!1,f=void 0;try{for(var b,h=H()(l);!(d=(b=h.next()).done);d=!0){var g=b.value;a({type:"FILE_UNLOAD",wid:e,path:g})}}catch(q){p=!0,f=q}finally{try{d||null==h.return||h.return()}finally{if(p)throw f}}return}return a(function(e,t,n,r){return function(a,i){var o=Object(Q.a)(i(),e,t,"containerfs3"),s=o.files,c=o.pendingOps,l=o.otClients,u=n.path,d=n.to;if(O()(l).includes(n.path))l[n.path].removeAllListeners();else{var p=!0,f=!1,b=void 0;try{for(var h,g=H()(Object(Nt.d)(l,n.path));!(p=(h=g.next()).done);p=!0){l[h.value].removeAllListeners()}}catch(q){f=!0,b=q}finally{try{p||null==g.return||g.return()}finally{if(f)throw b}}}var m=rn({},n),v=c.reduce((function(e,t){return u===t.path?"MOVE_FILE"===t.type?(m.path=t.path,e):[].concat(Object(w.a)(e),[rn({},t,{path:n.to})]):Object(Nt.c)(u,t.path)?[].concat(Object(w.a)(e),[rn({},t,{path:Object(Nt.e)(u,n.to,t.path)})]):e}),[]);v.push(m),sn(e,t,a,{pendingOps:v}),(O()(s).includes(d)?[d]:Object(Nt.d)(s,d)).forEach((function(t){a({type:"FILE_UNLOAD",wid:e,path:t})})),a(vn(e,t,r))}}(e,t,n,r));case"PERSIST_FILE":return a(dn(e,t,r)).then((function(){var r=Object(Q.a)(i(),e,t,"containerfs3"),a=r.debouncePersist,o=r.fsclean,s=r.lastSnapshotTimestamp;if(!a)throw new Error("trying to PersistMirror without debouncer");var c=a.flush;a(),(n.flush||1===o.waiting&&window.performance.now()-s>5e3)&&c()}));case"FILE_UNLOAD":var m=Object(Q.a)(i(),e,t,"containerfs3").otClients;m[n.path]&&m[n.path].close();break;case"LOADING_GOVAL_COMPLETE":sn(e,t,a,{engineLoaded:!0});var v=Object(Q.a)(i(),e,t,"containerfs3").otClients;a({type:"LOAD_DIRECTORY",wid:e,path:""});var x=M()(v)[0];if(!x)return;return void a(Object(Zt.a)({wid:e,service:"ot",name:"ot:"+x.linkedFile,wait:r})).then((function(e){x.connect(e)}));case"FORK_WORKSPACE_START":return void sn(e,t,a,{isForking:!0});case"FORK_WORKSPACE_END":return void sn(e,t,a,{isForking:!1});case"LOADING_GOVAL_STARTED":var k=Object(Q.a)(i(),e,t,"containerfs3"),j=k.otClients,_=k.files,C=k.debouncePersist,N=k.dirs,T=k.isForking,S=k.currentFile,I={totalFiles:0,totalFilesLikelyLostData:0,totalFilesConfirmedLostData:0};for(var R in j){var L=j[R];L&&(S.path!==R&&(I.totalFiles++,L.uncommittedOps.length&&I.totalFilesLikelyLostData++,(L.pending.length||L.inflight.length)&&I.totalFilesConfirmedLostData++),L.close())}T||Object(he.track)(he.events.FILE_RECONNECT_IGNORED,I);var A=S.path&&j[S.path]&&!T;sn(e,t,a,{loadingFiles:[],otClients:A&&S.path?Object(y.a)({},S.path,j[S.path]):{},pendingOps:[],inflightOp:null,engineLoaded:!1});for(var D=0,P=M()(_);D<P.length;D++){var F=P[D];F&&F.loaded&&(A&&S.path==F.path||a({type:"FILE_UNLOAD",wid:e,path:F.path}))}for(var U=0,G=M()(N);U<G.length;U++){var B=G[U];B&&B.loaded&&a({type:"DIRECTORY_UNLOAD",wid:e,path:B.path})}if(C)(0,C.cancel)();break;case"FLUSH_FILES":return a(function(e,t){return function(n,r){var a,i,o,s,c;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:for(a=Object(Q.a)(r(),e,t,"containerfs3"),i=a.otClients,o=0,s=M()(i);o<s.length;o++)(c=s[o]).debounceCommit(),c.debounceCommit.flush();case 2:case"end":return n.stop()}}))}}(e,t));case"UPDATE_FILE_CURSORS":var K=Object(Q.a)(i(),e,t,"containerfs3").otClients;if(!K[n.path])return;K[n.path].updateCursors(n.selections);break;case"DOWNLOAD_FILE_CONTENT_REQUEST":return a(dn(e,t,r)).then((function(e){return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request({read:{path:n.path,type:X.api.File.Type.REGULAR}}));case 1:case"end":return t.stop()}}))})).then((function(t){a({type:"DOWNLOAD_FILE_CONTENT_SUCCESS",wid:e,path:n.path,content:ee.a.from(t.file&&t.file.content?t.file.content:"")})})).catch((function(t){a({type:"DOWNLOAD_FILE_CONTENT_FAILURE",wid:e,path:n.path,error:t})}));case"FILE_RECONNECT_FALLBACK_CHOSEN":var z=n.choice,V=n.path,W=Object(Q.a)(i(),e,t,"containerfs3").otClients;W[V].close();var Y=rn({},W);return delete Y[V],sn(e,t,a,{otClients:Y}),"remote"===z?(Object(he.track)(he.events.FILE_RECONNECT_FALLBACK_CHOSEN,rn({choice:"remote"},W[V].reconnectTrackedData,{didReceiveOpsWhilePrompting:Boolean(W[V].bufferedReconnectingOps)})),void a({wid:e,type:"FILE_UNLOAD",path:V})):(Object(he.track)(he.events.FILE_RECONNECT_FALLBACK_CHOSEN,rn({choice:"local"},W[V].reconnectTrackedData,{didReceiveOpsWhilePrompting:Boolean(W[V].bufferedReconnectingOps)})),a({wid:e,type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Please wait while we save your file"}),a(dn(e,t,r)).then((function(n){var r,o,s,c;return E.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(r=Object(Q.a)(i(),e,t,"containerfs3"),o=r.files,null===(s=o[V])||void 0===s?void 0:s.loaded){l.next=4;break}throw new Error("Oh no, user chose local content but file was missing");case 4:return l.next=6,E.a.awrap(n.request({write:{path:V,content:ee.a.from(s.content).toBuffer()}}));case 6:if(!(c=l.sent).channelClosed){l.next=9;break}throw new Error("Channel closed while overwriting");case 9:if(c.ok){l.next=12;break}throw a({type:"FILE_ERROR",wid:e,path:V,error:c.error}),new Error("file overwrite error "+c.error);case 12:a({type:"PERSIST_FILE",wid:e}),a({wid:e,type:"FILE_UNLOAD",path:V}),a({wid:e,type:"UNLOCK_WORKSPACE"});case 15:case"end":return l.stop()}}))})))}}})),On=Object(S.a)({primary:on,repl:P.b,files:A.a,fsclean:Tt.a,filestate:D.b,workingDirectory:Jt.b,dirs:ot.a,currentFile:en.a});function _n(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return m()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):h.a?f()(e,h()(n)):_n(Object(n)).forEach((function(t){d()(e,t,m()(n,t))}))}return e}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loadingReplbox:!1,loadingGoval:!1,loadingEngine:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.q:return Cn({},e,{},t.initialState);case T.v:return Cn({},e,{loadingEngine:!1});case T.w:return Cn({},e,{loadingEngine:!0});case"LOADING_REPLBOX_STARTED":return Cn({},e,{loadingReplbox:!0});case"LOADING_REPLBOX_ENDED":return Cn({},e,{loadingReplbox:!1});case"LOADING_GOVAL_STARTED":return Cn({},e,{loadingGoval:!0});case"LOADING_GOVAL_COMPLETE":return Cn({},e,{loadingGoval:!1});default:return e}}function Tn(e,t,n){switch(n.type){case"LOADING_REPLBOX_STARTED":case"LOADING_GOVAL_STARTED":return function(n,r){Object(Q.a)(r(),e,t,"loadingresolver").loadingEngine||n({type:T.w,wid:e})};case"LOADING_REPLBOX_ENDED":case"LOADING_GOVAL_COMPLETE":return function(n,r){var a=Object(Q.a)(r(),e,t,"loadingresolver"),i=a.loadingEngine,o=a.loadingGoval,s=a.loadingReplbox;i&&!1===o&&!1===s&&n({type:T.v,wid:e})};default:return null}}function Sn(e,t){var n=O()(e);if(x.a){var r=x()(e);t&&(r=r.filter((function(t){return m()(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):h.a?f()(e,h()(n)):Sn(Object(n)).forEach((function(t){d()(e,t,m()(n,t))}))}return e}var Rn=Object(S.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{unsavedRepl:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@INIT":return In({},e,{},t.initialState);case"SAVE_CLICKED":return In({},e,{unsavedRepl:!1});default:return e}},fileState:D.b,clean:Tt.a});function Ln(e,t,n){switch(n.type){case"WORKSPACE_MOUNTED":case"DELETE_FILE":case"MOVE_FILE":case"CREATE_FILE":case"FILE_UNLOAD":case"FILE_LOADING":case"FILE_LOADED":case"FILE_SYNCING":case"FILE_DIRTY":case"FILE_CLEAN":case"FILE_ERROR":case"SAVE_CLICKED":case"PERSIST_FILE":case"FILE_PERSISTED":return function(n,r){var a=Object(Q.a)(r(),e,t,"unloadhandler"),i=a.unsavedRepl,o=a.fileState,s=a.clean,c=!!M()(o).find((function(e){return e===D.a.Dirty||e===D.a.Syncing||e===D.a.Loading}));i||c||!s.status?window.onbeforeunload!==Dn&&(An=window.onbeforeunload,window.onbeforeunload=Dn):Pn()};case"WORKSPACE_WILL_UNMOUNT":return function(){Pn()};default:return null}}var An=null;function Dn(){return"You have unsaved changes"}function Pn(){window.onbeforeunload===Dn&&(window.onbeforeunload=An)}var Fn=n("82Ve"),Mn=Object(L.a)((function(e,t,n,r){return"LOADING_GOVAL_COMPLETE"===n.type?function(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s,c,l,u;return E.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,E.a.awrap(e(Object(Zt.a)({wid:t,service:"exec",wait:r})));case 2:return i=d.sent,o="",i.on("command",(function(e){e.output&&(o+=e.output)})),d.next=7,E.a.awrap(i.request({exec:{args:["pwd"]}}));case 7:if(!(s=d.sent).error&&!s.channelClosed){d.next=10;break}return d.abrupt("return");case 10:i.close(),c=o.replace("\n",""),l=Object(Q.a)(a(),t,n,"cwd"),u=l.workingDirectory,c!==u&&e({type:"UPDATE_WORKING_DIRECTORY",wid:t,path:c});case 14:case"end":return d.stop()}}))}}({wid:e,pud:t,wait:r}):null}));var Un=Object(S.a)({workingDirectory:Jt.b}),Hn=n("MX0m"),Gn=n.n(Hn),Bn=n("q1tI"),Kn=n.n(Bn),zn=n("/MKj"),Vn=n("8Vt8"),Xn=n("irrw"),Wn=n.n(Xn),Yn=n("dwxc"),qn=n.n(Yn),Qn=n("7FmB"),Jn=n.n(Qn),Zn=n("nGMS"),$n=Kn.a.createElement;function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showPrompt:!1,filePath:""},t=arguments.length>1?arguments[1]:void 0;return"PROMPT_FILE_RECONNECT_FALLBACK_CHOICE"===t.type?{showPrompt:!0,filePath:t.path}:"FILE_RECONNECT_FALLBACK_CHOSEN"===t.type?{showPrompt:!1,filePath:""}:e}var tr=function(e){var t=e.wid,n=e.pud,r=Object(Q.b)(t,n,"reconnectprompt"),a=Object(St.a)(r,1)[0],i=a.showPrompt,o=a.filePath,s=Object(zn.e)();return $n(Vn.a,{preventClose:!0,isOpen:i,onRequestClose:function(){}},$n("div",{className:Gn.a.dynamic([["774147454",[Zn.BREAKPOINTS.mobileMax]]])+" modal"},$n(Wn.a,{level:3},o," contents diverged"),$n(qn.a,null,"We had a hard time resolving differences between your content and server content while you were disconnected."),$n(qn.a,null,"What would you like to do?"),$n("div",{className:Gn.a.dynamic([["774147454",[Zn.BREAKPOINTS.mobileMax]]])+" buttons"},$n(Jn.a,{onClick:function(){return s({wid:t,type:"FILE_RECONNECT_FALLBACK_CHOSEN",choice:"local",path:o})},color:"positive"},"Choose my changes"),$n(Jn.a,{onClick:function(){return s({wid:t,type:"FILE_RECONNECT_FALLBACK_CHOSEN",choice:"remote",path:o})},color:"negative"},"Choose server changes")),$n(Gn.a,{id:"774147454",dynamic:[Zn.BREAKPOINTS.mobileMax]},[".modal.__jsx-style-dynamic-selector{display:grid;padding:var(--spacing-4);grid-row-gap:var(--spacing-2);}",".buttons.__jsx-style-dynamic-selector{display:grid;grid-row-gap:var(--spacing-2);}","@media screen and (min-width:".concat(Zn.BREAKPOINTS.mobileMax,"px){.buttons.__jsx-style-dynamic-selector{grid-column-gap:var(--spacing-2);grid-auto-flow:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}.buttons.__jsx-style-dynamic-selector button:first-child{-webkit-order:1;-ms-flex-order:1;order:1;}}")])))};function nr(e){e.register("goval",r),e.register("langserver",ft),e.register("replbox",bt),e.register("analytics",a),e.register("cursorstyles",jt),e.register("infoprovider",Ot),e.register("containerfs3",i),e.register("loadingresolver",o),e.register("unloadhandler",s),e.register("formatter",Fn),e.register("cwd",c),e.register("reconnectprompt",l)}n.d(t,"a",(function(){return nr}))},YexM:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("LX0d"),a=n.n(r),i=n("ln6h"),o=n.n(i),s=n("eVuF"),c=n.n(s),l=n("doui"),u=n("XXOK"),d=n.n(u),p=n("0iUn"),f=n("vYYK"),b=function e(){var t=this;Object(p.a)(this,e),Object(f.a)(this,"waits",void 0),Object(f.a)(this,"rcv",(function(e){var n=!0,r=!1,a=void 0;try{for(var i,o=d()(t.waits.entries());!(n=(i=o.next()).done);n=!0){var s=Object(l.a)(i.value,2),c=s[0],u=s[1],p=void 0;try{p=c(e)}catch(f){return t.waits.delete(c),void u.reject(f)}if("boolean"!==typeof p){t.waits.delete(c);var f=new Error("Your wait callback must return a boolean");return void u.reject(f)}p&&(t.waits.delete(c),u.resolve(e))}}catch(b){r=!0,a=b}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}})),Object(f.a)(this,"wait",(function(e){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new c.a((function(n,r){t.waits.set(e,{resolve:n,reject:r})})));case 1:case"end":return n.stop()}}))})),this.waits=new a.a};function h(e){var t={};return function(n,r,a){return t[n+r]||(t[n+r]=new b),t[n+r].rcv(a),e(n,r,a,t[n+r].wait)}}},Yk1I:function(e,t){var n=-1,r=1,a=0;function i(e,t,l,u){if(e===t)return e?[[a,e]]:[];if(null!=l){var b=function(e,t,n){var r="number"===typeof n?{index:n,length:0}:n.oldRange,a="number"===typeof n?null:n.newRange,i=e.length,o=t.length;if(0===r.length&&(null===a||0===a.length)){var s=r.index,c=e.slice(0,s),l=e.slice(s),u=a?a.index:null,d=s+o-i;if((null===u||u===d)&&!(d<0||d>o)){var p=t.slice(0,d);if((w=t.slice(d))===l){var b=Math.min(s,d),h=c.slice(0,b),g=p.slice(0,b);if(h===g){var m=c.slice(b),v=p.slice(b);return f(h,m,v,l)}}}if(null===u||u===s){var x=s,w=(p=t.slice(0,x),t.slice(x));if(p===c){var y=Math.min(i-x,o-x),k=l.slice(l.length-y),E=w.slice(w.length-y);if(k===E){m=l.slice(0,l.length-y),v=w.slice(0,w.length-y);return f(c,m,v,k)}}}}if(r.length>0&&a&&0===a.length){h=e.slice(0,r.index),k=e.slice(r.index+r.length),b=h.length,y=k.length;if(!(o<b+y)){g=t.slice(0,b),E=t.slice(o-y);if(h===g&&k===E){m=e.slice(b,i-y),v=t.slice(b,o-y);return f(h,m,v,k)}}}return null}(e,t,l);if(b)return b}var h=s(e,t),g=e.substring(0,h);h=c(e=e.substring(h),t=t.substring(h));var m=e.substring(e.length-h),v=function(e,t){var l;if(!e)return[[r,t]];if(!t)return[[n,e]];var u=e.length>t.length?e:t,d=e.length>t.length?t:e,p=u.indexOf(d);if(-1!==p)return l=[[r,u.substring(0,p)],[a,d],[r,u.substring(p+d.length)]],e.length>t.length&&(l[0][0]=l[2][0]=n),l;if(1===d.length)return[[n,e],[r,t]];var f=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function a(e,t,n){for(var r,a,i,o,l=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!==(u=t.indexOf(l,u+1));){var p=s(e.substring(n),t.substring(u)),f=c(e.substring(0,n),t.substring(0,u));d.length<f+p&&(d=t.substring(u-f,u)+t.substring(u,u+p),r=e.substring(0,n-f),a=e.substring(n+p),i=t.substring(0,u-f),o=t.substring(u+p))}return 2*d.length>=e.length?[r,a,i,o,d]:null}var i,o,l,u,d,p=a(n,r,Math.ceil(n.length/4)),f=a(n,r,Math.ceil(n.length/2));if(!p&&!f)return null;i=f?p&&p[4].length>f[4].length?p:f:p;e.length>t.length?(o=i[0],l=i[1],u=i[2],d=i[3]):(u=i[0],d=i[1],o=i[2],l=i[3]);var b=i[4];return[o,l,u,d,b]}(e,t);if(f){var b=f[0],h=f[1],g=f[2],m=f[3],v=f[4],x=i(b,g),w=i(h,m);return x.concat([[a,v]],w)}return function(e,t){for(var a=e.length,i=t.length,s=Math.ceil((a+i)/2),c=s,l=2*s,u=new Array(l),d=new Array(l),p=0;p<l;p++)u[p]=-1,d[p]=-1;u[c+1]=0,d[c+1]=0;for(var f=a-i,b=f%2!==0,h=0,g=0,m=0,v=0,x=0;x<s;x++){for(var w=-x+h;w<=x-g;w+=2){for(var y=c+w,k=(C=w===-x||w!==x&&u[y-1]<u[y+1]?u[y+1]:u[y-1]+1)-w;C<a&&k<i&&e.charAt(C)===t.charAt(k);)C++,k++;if(u[y]=C,C>a)g+=2;else if(k>i)h+=2;else if(b){if((O=c+f-w)>=0&&O<l&&-1!==d[O]){var E=a-d[O];if(C>=E)return o(e,t,C,k)}}}for(var j=-x+m;j<=x-v;j+=2){for(var O=c+j,_=(E=j===-x||j!==x&&d[O-1]<d[O+1]?d[O+1]:d[O-1]+1)-j;E<a&&_<i&&e.charAt(a-E-1)===t.charAt(i-_-1);)E++,_++;if(d[O]=E,E>a)v+=2;else if(_>i)m+=2;else if(!b){if((y=c+f-j)>=0&&y<l&&-1!==u[y]){var C=u[y];k=c+C-y;if(C>=(E=a-E))return o(e,t,C,k)}}}}return[[n,e],[r,t]]}(e,t)}(e=e.substring(0,e.length-h),t=t.substring(0,t.length-h));return g&&v.unshift([a,g]),m&&v.push([a,m]),function e(t,i){t.push([a,""]);var o,l=0,u=0,f=0,b="",h="";for(;l<t.length;)if(l<t.length-1&&!t[l][1])t.splice(l,1);else switch(t[l][0]){case r:f++,h+=t[l][1],l++;break;case n:u++,b+=t[l][1],l++;break;case a:var g=l-f-u-1;if(i){if(g>=0&&p(t[g][1])){var m=t[g][1].slice(-1);if(t[g][1]=t[g][1].slice(0,-1),b=m+b,h=m+h,!t[g][1]){t.splice(g,1),l--;var v=g-1;t[v]&&t[v][0]===r&&(f++,h=t[v][1]+h,v--),t[v]&&t[v][0]===n&&(u++,b=t[v][1]+b,v--),g=v}}if(d(t[l][1])){m=t[l][1].charAt(0);t[l][1]=t[l][1].slice(1),b+=m,h+=m}}if(l<t.length-1&&!t[l][1]){t.splice(l,1);break}if(b.length>0||h.length>0){b.length>0&&h.length>0&&(0!==(o=s(h,b))&&(g>=0?t[g][1]+=h.substring(0,o):(t.splice(0,0,[a,h.substring(0,o)]),l++),h=h.substring(o),b=b.substring(o)),0!==(o=c(h,b))&&(t[l][1]=h.substring(h.length-o)+t[l][1],h=h.substring(0,h.length-o),b=b.substring(0,b.length-o)));var x=f+u;0===b.length&&0===h.length?(t.splice(l-x,x),l-=x):0===b.length?(t.splice(l-x,x,[r,h]),l=l-x+1):0===h.length?(t.splice(l-x,x,[n,b]),l=l-x+1):(t.splice(l-x,x,[n,b],[r,h]),l=l-x+2)}0!==l&&t[l-1][0]===a?(t[l-1][1]+=t[l][1],t.splice(l,1)):l++,f=0,u=0,b="",h=""}""===t[t.length-1][1]&&t.pop();var w=!1;l=1;for(;l<t.length-1;)t[l-1][0]===a&&t[l+1][0]===a&&(t[l][1].substring(t[l][1].length-t[l-1][1].length)===t[l-1][1]?(t[l][1]=t[l-1][1]+t[l][1].substring(0,t[l][1].length-t[l-1][1].length),t[l+1][1]=t[l-1][1]+t[l+1][1],t.splice(l-1,1),w=!0):t[l][1].substring(0,t[l+1][1].length)==t[l+1][1]&&(t[l-1][1]+=t[l+1][1],t[l][1]=t[l][1].substring(t[l+1][1].length)+t[l+1][1],t.splice(l+1,1),w=!0)),l++;w&&e(t,i)}(v,u),v}function o(e,t,n,r){var a=e.substring(0,n),o=t.substring(0,r),s=e.substring(n),c=t.substring(r),l=i(a,o),u=i(s,c);return l.concat(u)}function s(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,i=0;n<a;)e.substring(i,a)==t.substring(i,a)?i=n=a:r=a,a=Math.floor((r-n)/2+n);return l(e.charCodeAt(a-1))&&a--,a}function c(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,i=0;n<a;)e.substring(e.length-a,e.length-i)==t.substring(t.length-a,t.length-i)?i=n=a:r=a,a=Math.floor((r-n)/2+n);return u(e.charCodeAt(e.length-a))&&a--,a}function l(e){return e>=55296&&e<=56319}function u(e){return e>=56320&&e<=57343}function d(e){return u(e.charCodeAt(0))}function p(e){return l(e.charCodeAt(e.length-1))}function f(e,t,i,o){return p(e)||d(o)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[a,e],[n,t],[r,i],[a,o]])}function b(e,t,n){return i(e,t,n,!0)}b.INSERT=r,b.DELETE=n,b.EQUAL=a,e.exports=b},Yk3a:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("vYYK");function g(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{reducer:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(),r=arguments.length>1?arguments[1]:void 0;if("SET_STATE"===r.type){if(!r.pud)throw new Error("SET_STATE action should be namespaced");return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?o()(e,c()(n)):g(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},n,{},r.state)}return t(n,r)},setState:function(e,t,n,r){n({type:"SET_STATE",wid:e,pud:t,state:r})}}}},YtxT:function(e,t,n){"use strict";function r(e,t){switch(t.type){case"REPL_UPDATED":return t.updates.language||e;default:return e}}n.d(t,"a",(function(){return r}))},Z5Wq:function(e,t,n){"use strict";n("hfKm")(t,"__esModule",{value:!0}),t.strPosToUni=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=0,r=0;r<t;r++){var a=e.charCodeAt(r);a>=55296&&a<=57343&&(n++,r++)}if(r!==t)throw Error("Invalid offset - splits unicode bytes");return r-n},t.uniToStrPos=function(e,t){for(var n=0;t>0;t--){var r=e.charCodeAt(n);n+=r>=55296&&r<=57343?2:1}return n}},cC09:function(e,t,n){var r;r=function(e){e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();e.table=t,e.bstr=function(e,n){for(var r=-1^n,a=e.length-1,i=0;i<a;)r=(r=r>>>8^t[255&(r^e.charCodeAt(i++))])>>>8^t[255&(r^e.charCodeAt(i++))];return i===a&&(r=r>>>8^t[255&(r^e.charCodeAt(i))]),-1^r},e.buf=function(e,n){if(e.length>1e4)return function(e,n){for(var r=-1^n,a=e.length-7,i=0;i<a;)r=(r=(r=(r=(r=(r=(r=(r=r>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])];for(;i<a+7;)r=r>>>8^t[255&(r^e[i++])];return-1^r}(e,n);for(var r=-1^n,a=e.length-3,i=0;i<a;)r=(r=(r=(r=r>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])])>>>8^t[255&(r^e[i++])];for(;i<a+3;)r=r>>>8^t[255&(r^e[i++])];return-1^r},e.str=function(e,n){for(var r,a,i=-1^n,o=0,s=e.length;o<s;)(r=e.charCodeAt(o++))<128?i=i>>>8^t[255&(i^r)]:r<2048?i=(i=i>>>8^t[255&(i^(192|r>>6&31))])>>>8^t[255&(i^(128|63&r))]:r>=55296&&r<57344?(r=64+(1023&r),a=1023&e.charCodeAt(o++),i=(i=(i=(i=i>>>8^t[255&(i^(240|r>>8&7))])>>>8^t[255&(i^(128|r>>2&63))])>>>8^t[255&(i^(128|a>>6&15|(3&r)<<4))])>>>8^t[255&(i^(128|63&a))]):i=(i=(i=i>>>8^t[255&(i^(224|r>>12&15))])>>>8^t[255&(i^(128|r>>6&63))])>>>8^t[255&(i^(128|63&r))];return-1^i}},"undefined"===typeof DO_NOT_EXPORT_CRC?r(t):r({})},"cHV+":function(e,t,n){"use strict";var r=n("Qetd"),a=n("hfKm"),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};a(t,"__esModule",{value:!0});var o=n("Z5Wq"),s=i(n("HtvZ")),c=i(n("qpVQ")),l={create:function(e){return e},toString:function(e){return e},builder:function(e){if("string"!==typeof e)throw Error("Invalid document snapshot: "+e);var t=[];return{skip:function(n){var r=o.uniToStrPos(e,n);if(r>e.length)throw Error("The op is too long for this document");t.push(e.slice(0,r)),e=e.slice(r)},append:function(e){t.push(e)},del:function(t){e=e.slice(o.uniToStrPos(e,t))},build:function(){return t.join("")+e}}}},u=r({},s.default(l),{api:c.default});t.type=u;var d=n("HtvZ");t.makeType=d.default},d76n:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return z})),n.d(t,"reducer",(function(){return Y}));var r,a=n("hfKm"),i=n.n(a),o=n("2Eek"),s=n.n(o),c=n("XoMD"),l=n.n(c),u=n("Jo+v"),d=n.n(u),p=n("4mXO"),f=n.n(p),b=n("pLtp"),h=n.n(b),g=n("vYYK"),m=n("0iUn"),v=n("sLSF"),x=n("MI3g"),w=n("a7VT"),y=n("Tit0"),k=n("MX0m"),E=n.n(k),j=n("q1tI"),O=n("/MKj"),_=n("ANjH"),C=n("8Fln"),N=n("cR/2"),T=n("ArsQ"),S=n("G5Ub"),I=n("3TIX"),R=n("UO7Q"),L=n("igIU"),A=n("0gYX"),D=n.n(A),P=n("zoC5"),F=n("Qbrf"),M=n("lPwP"),U=n.n(M),H=n("lixr"),G=n("hEBX"),B=j.createElement;function K(e,t){var n=h()(e);if(f.a){var r=f()(e);t&&(r=r.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,r)}return n}var z=Object(O.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.repl;return{preferences:n.preferences,language:r.language,user:e.user.userInfo}}),(function(e){return Object(_.b)({switchLayout:W,updateWorkspacePreferences:V,updateWorkspaceTheme:X,showMessage:T.b,trackWsEvent:I.fb},e)}))(r=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(x.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).handleChangeTheme=function(e){var t=e.value;Object(G.d)(t),n.props.updateWorkspaceTheme({updates:N.a[t],wid:n.props.wid}),n.updatePreference("theme",t)},n.handleChangeFontSize=function(e){var t=e.value;n.updatePreference("fontSize",t)},n.handleChangeIndentChar=function(e){var t="spaces"===e.value;n.updatePreference("indentIsSpaces",t)},n.handleChangeIndentSize=function(e){var t=e.value;n.updatePreference("indentSize",t)},n.handleChangeKeyboardHandler=function(e){var t=e.value,r="default"===t?null:t;n.updatePreference("keyboardHandler",r)},n.handleChangeWrapping=function(e){var t="soft"===e.value;n.updatePreference("wrapping",t)},n.handleChangeCodeIntelligence=function(e){var t="enabled"===e.value;n.updatePreference("codeIntelligence",t)},n.handleChangeLayout=function(e){var t="stacked"===e.value;n.updatePreference("isLayoutStacked",t),n.props.switchLayout(n.props.wid,t)},n.handleChangeInfiniteLoopProtection=function(e){var t="enabled"===e.value;n.updatePreference("infiniteLoopProtection",t)},n}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.trackWsEvent({wid:this.props.wid,eventKey:"PREFERENCES_OPENED"})}},{key:"updatePreference",value:function(e,t){var n=this;this.props.updateWorkspacePreferences({wid:this.props.wid,updates:Object(g.a)({},e,t)}),this.props.user.isLoggedIn&&Object(S.d)("/data/user/editor_preferences/update",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):l.a?s()(e,l()(n)):K(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}({},this.props.preferences,Object(g.a)({},e,t))).catch((function(e){throw n.props.showMessage({content:"Error saving preferences",type:"error",time:2e3}),e}))}},{key:"render",value:function(){var e=this.props,t=e.preferences,n=e.language,r=e.style;return B("div",{style:r,className:"jsx-2209561899 workspace-preferences"},B(L.a,null),B(E.a,{id:"1785149281"},[".workspace-preferences.jsx-2209561899{background:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".workspace-preferences.jsx-2209561899::-webkit-scrollbar{background-color:var(--color-background-1);width:14px;}",".workspace-preferences.jsx-2209561899::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".preference.jsx-2209561899 .label.jsx-2209561899{color:var(--color-foreground-1);}",".codeIntelligenceInfoBox.jsx-2209561899{background:var(--color-background-1);color:var(--color-foreground-1);border:1px solid var(--color-foreground-1);}"]),B(E.a,{id:"1108099459"},[".workspace-preferences.jsx-2209561899{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:auto;}",".workspace-preferences.jsx-2209561899::-webkit-scrollbar{width:5px;}",".workspace-preferences.jsx-2209561899::-webkit-scrollbar-thumb{background-color:rgba(119,119,119,0.5);}",".preference.jsx-2209561899{padding:var(--spacing-2);}",".preference.jsx-2209561899:last-child{padding-bottom:5em;}",".preferences-header.jsx-2209561899{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".preferences-heading.jsx-2209561899{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}",".preference.jsx-2209561899 .label.jsx-2209561899{font-size:1em;margin-bottom:8px;position:relative;}",".codeIntelligenceInfo.jsx-2209561899{margin-left:8px;}",".codeIntelligenceInfoBox.jsx-2209561899{opacity:0;pointer-events:none;position:absolute;bottom:calc(100% + 6px);left:0;-webkit-transform:translate(0,6px);-ms-transform:translate(0,6px);transform:translate(0,6px);width:200px;padding:12px;z-index:10;line-height:1.4em;-webkit-transition:opacity 0.2s,-webkit-transform 0.2s;-webkit-transition:opacity 0.2s,transform 0.2s;transition:opacity 0.2s,transform 0.2s;}",".codeIntelligenceInfoBox.jsx-2209561899::after{content:'';display:block;position:absolute;top:100%;left:0;right:0;height:16px;}",".codeIntelligenceInfo.jsx-2209561899:hover .codeIntelligenceInfoBox.jsx-2209561899{opacity:1;pointer-events:all;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);}"]),B("div",{className:"jsx-2209561899 preferences-header"},B("div",{className:"jsx-2209561899 preferences-heading"},"Settings")),B("div",{className:"jsx-2209561899 preference"},B("div",{className:"jsx-2209561899 label"},"Layout"),B(C.a,{searchable:!1,clearable:!1,value:t.isLayoutStacked?"stacked":"side-by-side",onChange:this.handleChangeLayout,options:[{value:"side-by-side",label:"side-by-side"},{value:"stacked",label:"stacked"}]})),B("div",{className:"jsx-2209561899 preference"},B("div",{className:"jsx-2209561899 label"},"Theme"),B(C.a,{searchable:!1,clearable:!1,value:t.theme,onChange:this.handleChangeTheme,options:[{value:"replitLight",label:"light"},{value:"replitDark",label:"dark"}]})),B("div",{className:"jsx-2209561899 preference"},B("div",{className:"jsx-2209561899 label"},"Font size"),B(C.a,{searchable:!1,clearable:!1,value:t.fontSize,onChange:this.handleChangeFontSize,options:[{value:10,label:"Tiny"},{value:14,label:"Normal"},{value:18,label:"Large"},{value:24,label:"Huge"}]})),B("div",{className:"jsx-2209561899 preference"},B("div",{className:"jsx-2209561899 label"},"Indent type"),B(C.a,{searchable:!1,clearable:!1,value:t.indentIsSpaces?"spaces":"tabs",onChange:this.handleChangeIndentChar,options:[{value:"spaces",label:"spaces"},{value:"tabs",label:"tabs"}]})),B("div",{className:"jsx-2209561899 preference"},B("div",{className:"jsx-2209561899 label"},"Indent size"),B(C.a,{searchable:!1,clearable:!1,value:t.indentSize,onChange:this.handleChangeIndentSize,options:[{value:2,label:"2"},{value:4,label:"4"},{value:8,label:"8"}]})),B("div",{className:"jsx-2209561899 preference"},B("div",{className:"jsx-2209561899 label"},"Keybinds"),B(C.a,{searchable:!1,clearable:!1,value:null===t.keyboardHandler?"default":t.keyboardHandler,onChange:this.handleChangeKeyboardHandler,options:[{value:"default",label:"default"},{value:"emacs",label:"emacs"},{value:"vim",label:"vim"}]})),B("div",{className:"jsx-2209561899 preference"},B("div",{className:"jsx-2209561899 label"},"Wrapping"),B(C.a,{searchable:!1,clearable:!1,value:t.wrapping?"soft":"none",onChange:this.handleChangeWrapping,options:[{value:"none",label:"none"},{value:"soft",label:"soft wrap"}]})),B("div",{className:"jsx-2209561899 preference"},B("div",{className:"jsx-2209561899 label"},"Code intelligence",B("span",{className:"jsx-2209561899 codeIntelligenceInfo"},B(U.a,null),B("div",{className:"jsx-2209561899 codeIntelligenceInfoBox"},B("p",{className:"jsx-2209561899"},"Code intelligence gives you autocomplete, helpful info, and hints as you type. See more"," ",B("a",{href:"https://repl.it/site/blog/intel",target:"_blank",rel:"noreferrer noopener",className:"jsx-2209561899"},"here."))))),B(C.a,{searchable:!1,clearable:!1,value:t.codeIntelligence?"enabled":"disabled",onChange:this.handleChangeCodeIntelligence,options:[{value:"disabled",label:"disabled"},{value:"enabled",label:"enabled"}]})),n&&D.a.isWebLanguage(n)&&B("div",{className:"jsx-2209561899 preference"},B("div",{className:"jsx-2209561899 label"},"Infinite loop protection"),B(C.a,{searchable:!1,clearable:!1,value:t.infiniteLoopProtection?"enabled":"disabled",onChange:this.handleChangeInfiniteLoopProtection,options:[{value:"disabled",label:"disabled"},{value:"enabled",label:"enabled"}]})))}}]),t}(j.Component))||r;function V(e){var t=e.updates,n=e.wid;return{type:I.P,updates:t,wid:n}}function X(e){return{type:"UPDATE_WORKSPACE_THEME",updates:e.updates,wid:e.wid}}function W(e,t){return function(n,r){var a=r().workspace[e],i=a.layout,o=a.plugins,s=R.b(i,o,"editor")||R.b(i,o,"blank")||R.b(i,o,"markdownviewer")||R.b(i,o,"mediaview"),c=R.b(i,o,"console")||R.b(i,o,"terminal2");if(c&&s){var l=R.c(s,c);if(l){n(Object(I.gb)({wid:e,path:l,property:"stacked",to:t}));var u=R.b(i,o,"webview")||R.b(i,o,"replboxdisplay");if(u){var d=R.c(u,c);d&&n(Object(I.gb)({wid:e,path:d,property:"stacked",to:!t}))}}}}}var Y=Object(F.a)({preferences:P.b,repl:H.b})},dCwI:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"m",(function(){return u})),n.d(t,"o",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"p",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return v})),n.d(t,"i",(function(){return x})),n.d(t,"h",(function(){return w}));var r=n("dI/k"),a=n("h7rM"),i="SET_EXPANDED_FILE_TREE_NODE",o="SET_ACTIVE_FILE_TREE_NODE",s="SET_IS_CREATING_FILE_TREE_NODE",c="SET_SHOW_FILE_TREE_DROP_TOOLTIP",l="SET_FILE_TREE_SCROLL_TOP";function u(e){var t=e.wid,n=e.path;return{type:o,wid:t,path:n}}function d(e){var t=e.wid,n=e.creatingNodeType;return{type:s,wid:t,creatingNodeType:n}}function p(e){var t=e.wid,n=e.pud,r=e.path,o=e.isExpanded;return function(e,s){(e({type:i,wid:t,path:r,isExpanded:o}),o)&&(Object(a.a)(s(),t,n,"filetree").dirs[r].loaded||e({type:"LOAD_DIRECTORY",wid:t,path:r}))}}function f(e){var t=e.wid,n=e.pud,a=e.nodeType,i=e.targetNodePath;return function(e,o){var s=o().workspace[t].plugins[n].state.tree[i],c=s.path;s.isFolder||(c=Object(r.d)(c)),e(u({wid:t,pud:n,path:c})),e(p({wid:t,pud:n,path:c,isExpanded:!0})),e(d({wid:t,pud:n,creatingNodeType:a}))}}function b(e){var t=e.wid,n=e.pud,r=e.scrollTop;return{type:l,wid:t,pud:n,scrollTop:r}}var h=function(e){return{type:"CREATE_DIRECTORY",wid:e.wid,path:e.path}},g=function(e){return{type:"UPLOAD_FILE",wid:e.wid,path:e.path,content:e.content,create:!0}},m=function(e){return{type:"MOVE_FILE",wid:e.wid,path:e.path,to:e.to,changeSource:"filetree"}},v=function(e){return{type:"MOVE_FILE",wid:e.wid,path:e.path,to:e.to,changeSource:"filetree"}},x=function(e){return{type:"DELETE_FILE",wid:e.wid,path:e.path,changeSource:"filetree"}},w=function(e){return{type:"DELETE_FILE",wid:e.wid,path:e.path,changeSource:"filetree"}}},dXu1:function(e,t,n){"use strict";n.r(t);var r=n("doui"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n.n(o),c=n("/MKj"),l=n("TSYQ"),u=n.n(l),d=n("9ylw");var p,f,b=n("h7rM"),h=n("Qbrf"),g=n("lixr"),m=n("XLFt"),v=n("ln6h"),x=n.n(v),w=n("eVuF"),y=n.n(w),k=n("dfwq"),E=n("hfKm"),j=n.n(E),O=n("2Eek"),_=n.n(O),C=n("XoMD"),N=n.n(C),T=n("Jo+v"),S=n.n(T),I=n("4mXO"),R=n.n(I),L=n("pLtp"),A=n.n(L),D=n("ttDY"),P=n.n(D),F=n("d04V"),M=n.n(F),U=n("Acjn"),H=n("XXOK"),G=n.n(H),B=n("6BQ9"),K=n.n(B),z=n("vYYK"),V=n("zgDP");!function(e){e[e.UNTRACKED=0]="UNTRACKED",e[e.MODIFIED=1]="MODIFIED",e[e.MOVED=2]="MOVED",e[e.DELETED=3]="DELETED"}(p||(p={})),function(e){e[e.NONE=0]="NONE",e[e.PUSH=1]="PUSH",e[e.CLONE=2]="CLONE",e[e.FETCH=3]="FETCH",e[e.GITHUB_CREATE=4]="GITHUB_CREATE",e[e.GITHUB_GET_INFO=5]="GITHUB_GET_INFO"}(f||(f={}));var X=n("7+UY");function W(e,t){var n=A()(e);if(R.a){var r=R()(e);t&&(r=r.filter((function(t){return S()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(z.a)(e,t,n[t])})):N.a?_()(e,N()(n)):W(Object(n)).forEach((function(t){j()(e,t,S()(n,t))}))}return e}var q="git symbolic-ref HEAD --short",Q="git log -0 2>/dev/null && ".concat(q," || echo 'HEAD'");function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return["bash","-c",t.join("&&")]}function Z(e){var t=e.remote,n=void 0===t?"":t,a=e.remoteToken;if(!a)return n;var i=n.match(/(https:\/\/)(.*)/)||["","",""],o=Object(r.a)(i,3),s=o[1],c=o[2];return"".concat(s).concat(a||"",":x-oauth-basic@").concat(c)}function $(e){return null!==new RegExp(/(^|\n)fatal: Authentication failed/g).exec(e)||null!==new RegExp(/(^|\n)fatal: unable to access/g).exec(e)||null!==new RegExp(/(^|\n)fatal: repository.*not found/g).exec(e)||null!==new RegExp(/(^|\n)fatal: Could not read from remote repository/g).exec(e)}function ee(e){return e.includes("index.lock")}function te(e){var t=e.split(/ /g);if("1"===t[0]){var n=t[1],a=t.slice(8).join(" ");return"D"===n[1]?{change:p.DELETED,targetPath:a,origPath:a}:{change:p.MODIFIED,targetPath:a,origPath:a}}if("2"===t[0]){var i=t.slice(9).join(" ").split("\t"),o=Object(r.a)(i,2),s=o[0],c=o[1];return{change:p.MOVED,targetPath:s,origPath:c}}if("?"===t[0]){var l=t.slice(1).join(" ");return{change:p.UNTRACKED,targetPath:l,origPath:null}}if("u"===t[0]){var u=t[2];return{change:p.MODIFIED,targetPath:u,origPath:u}}throw new Error("Unrecognized git status entry: ".concat(e))}var ne={format:function(){return J('[ ! -d ".git" ]',"git init","git config core.fileMode false",'git config user.name "repl.it user"','git config user.email "replituser@example.com"',"touch .git/branches/.keep","touch .git/info/.keep","touch .git/objects/.keep","touch .git/refs/.keep")}},re={format:function(e,t){return["git","rev-list","--left-right","--count","".concat(t,"...origin/").concat(t)]},parse:function(e,t){var n=t.split(/\s+/),a=Object(r.a)(n,2),i=a[0],o=a[1];return Y({},e,{commitsAhead:K()(i)||0,commitsBehind:K()(o)||0})}},ae={format:function(e){return["git","status","--branch","--porcelain=v2"]},parse:function(e,t){if(t.startsWith("fatal"))return e;if(""===t.trim())return Y({},e,{changedFiles:[]});var n=t.split("\n").filter((function(e){return""!==e.trim()})),a=e.branch,i=!0,o=[],s=!0,c=!1,l=void 0;try{for(var u,d=G()(n);!(s=(u=d.next()).done);s=!0){var p=u.value;if(p.startsWith("#")){var f=p.split(/\s+/),b=Object(r.a)(f,3),h=(b[0],b[1]),g=b[2];switch(h){case"branch.head":a=g;break;case"branch.oid":i=!g.includes("(initial)")}}else o.push(te(p))}}catch(m){c=!0,l=m}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}return i||(a=""),Y({},e,{branch:a,changedFiles:o})}},ie={format:function(e){var t=Z(e);return J("git push ".concat(t," $(").concat(q,")"))},parse:function(e,t){return $(t)?Y({},e,{authError:f.PUSH}):e}},oe={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z(e);return J("git fetch ".concat(n,t?" --progress --deepen=10":" +refs/heads/*:refs/remotes/origin/* --progress --depth=10"))},parse:function(e,t){return $(t)?Y({},e,{authError:f.FETCH}):e}},se={format:function(){return J("git fetch origin --progress")},parse:function(e,t){return $(t)?Y({},e,{authError:f.FETCH}):e}},ce={format:function(e){return 0===e.commits.length?["true"]:J('[ "git remote get-url origin" ]',["git merge-tree $(git merge-base origin/$(".concat(q,") $(").concat(q,")) origin/$(").concat(q,") $(").concat(q,")"),"grep '^changed in both'","wc -l"].join(" | "))},parse:function(e,t){return Y({},e,{hasConflictsWithFetchedRemote:0!==e.commits.length&&!isNaN(+t.trim())&&"0"!==t.trim()})}},le={format:function(e){return J("git reset --hard origin/$(".concat(q,")"))}},ue={format:function(e){var t=Z(e);return["git push ".concat(t," $(").concat(q,") --force")]}},de={format:function(){return J('[ "git remote get-url origin" ]',"git merge origin/$(".concat(q,")"))},parse:function(e,t){return null!==new RegExp(/(^|\n)error: Your local changes to the following files would be overwritten by merge/g).exec(t)?Y({},e,{hasConflictsWithFetchedRemote:!0}):e}},pe={format:function(e){return["git","remote","get-url","origin"]},parse:function(e,t){return t.includes("No such remote")||t.startsWith("fatal")?Y({},e,{remote:""}):Y({},e,{remote:t.trim()})}},fe={format:function(e,t){return e.remote?J("git remote remove origin; git remote add origin ".concat(t)):J("git remote add origin ".concat(t))}},be={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r="HEAD";t&&e.commits.length>0&&(r=e.commits[e.commits.length-1].hash);var a=["%D","%H","%an","%ae","%aI","%cn","%ce","%cI","%P","%B"];return["git","log","--pretty=".concat(a.join("%x00"),"%x00%x00"),"-".concat(n+1),r,"--"]},parse:function(e,t){if(t.startsWith("fatal"))return Y({},e,{commits:[]});var n=t.split("\0\0\n").filter((function(e){return""!==e})).map((function(e){return e.split("\0")})),r=!!n[0][0];n.map((function(e){return e.shift()}));var a=!1;0===e.commits.length||r||e.commits[e.commits.length-1].hash!==n[0][0]||(a=!0,n.shift());var i=a?e.commits:[];return Y({},e,{commits:i=i.concat(n.map((function(e){var t=Object(U.a)(e),n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],c=t[6];return{hash:n,parentHash:t[7],message:t.slice(8).join("\n"),authorName:r,authorEmail:a,authorDate:new Date(i.trim()),committerName:o,committerEmail:s,committerDate:new Date(c.trim())}})))})}},he={format:function(){return J("git add -A")}},ge={format:function(e,t){return J("git add ".concat(t))}},me={format:function(e,t,n){var r;r=e.gitHubName?e.gitHubName:n.firstName&&n.lastName?"".concat(n.firstName," ").concat(n.lastName):n.username;var a=e.gitHubEmail||n.email,i='-c user.name="'.concat(r,'" -c user.email="').concat(a,'"'),o=t.replace(/"/g,'\\"');return J("git ".concat(i,' commit -m "').concat(o,'"'))},parse:function(e,t){return ee(t)&&Object(V.trackOnce)(V.events.GIT_CLIENT_ERROR_INDEX_LOCK,{action:"commit",remote:e.remote}),e}},ve={format:function(e,t){return e.branches.includes(t)?["git","checkout",t,"--"]:["git","checkout","-b",t,"--"]}},xe={format:function(e){var t=Z(e);return J("git remote show ".concat(t," | grep 'HEAD branch'"))},parse:function(e,t){var n=t.split(":"),a=Object(r.a)(n,2);a[0];return Y({},e,{defaultBranch:a[1].trim()})}},we={format:function(e){return J("git checkout ".concat(e.defaultBranch))}},ye={format:function(e,t){return J("git revert ".concat(t,"..$(").concat(Q,") --no-commit"))}},ke={format:function(e){return J("git reset $(".concat(Q,") --"))},parse:function(e,t){return ee(t)&&Object(V.trackOnce)(V.events.GIT_CLIENT_ERROR_INDEX_LOCK,{action:"reset",remote:e.remote}),e}},Ee={format:function(e){return J("git rev-parse --is-inside-work-tree")},parse:function(e,t){return Y({},e,{isInitialized:t.startsWith("true")})}},je={format:function(e){return J("git add -A","git reset --hard $(".concat(Q,") --"))}},Oe={format:function(e){return["git","branch","-a","--no-color"]},parse:function(e,t){if(t.startsWith("fatal"))return e;var n=t.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return e.startsWith("* ")?e.replace(/^\*\s+/,""):e})).map((function(e){return e.trim()})).map(X.c);return Y({},e,{branches:M()(new P.a(n))})}},_e=n("9Jkg"),Ce=n.n(_e),Ne=n("0iUn"),Te=n("MI3g"),Se=n("a7VT"),Ie=n("Tit0"),Re=n("8otX"),Le=n("XWHH"),Ae=n.n(Le);function De(e,t){var n=A()(e);if(R.a){var r=R()(e);t&&(r=r.filter((function(t){return S()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Object(z.a)(e,t,n[t])})):N.a?_()(e,N()(n)):De(Object(n)).forEach((function(t){j()(e,t,S()(n,t))}))}return e}var Fe="https://api.github.com",Me=function(e){function t(){var e;return Object(Ne.a)(this,t),(e=Object(Te.a)(this,Object(Se.a)(t).call(this))).message="GitHub Auth Error",e}return Object(Ie.a)(t,e),t}(Object(Re.a)(Error));function Ue(e){var t,n,r;return x.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}throw Object(V.track)(V.events.GITHUB_API_ERROR_BAD_CREDENTIALS),new Error("GitHub Auth Error");case 3:return t={cache:"no-store"},e&&(t.headers={Authorization:"Bearer ".concat(e)}),a.next=7,x.a.awrap(Ae()("".concat(Fe,"/user"),{headers:{Authorization:"Bearer ".concat(e)}}));case 7:return n=a.sent,a.next=10,x.a.awrap(Ke(n));case 10:return r=a.sent,a.abrupt("return",Pe({},r));case 12:case"end":return a.stop()}}))}function He(e,t){var n,a,i,o,s,c,l;return x.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=Object(X.b)(t),a=Object(r.a)(n,2),i=a[0],o=a[1],s={cache:"no-store"},e&&(s.headers={Authorization:"Bearer ".concat(e)}),u.next=5,x.a.awrap(Ae()("".concat(Fe,"/repos/").concat(i,"/").concat(o),s));case 5:return c=u.sent,u.next=8,x.a.awrap(Ke(c));case 8:return l=u.sent,u.abrupt("return",Pe({},l));case 10:case"end":return u.stop()}}))}function Ge(e){var t,n,r,a,i;return x.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.token,n=e.owner,r=e.ownerType,a=e.repoData,t){o.next=4;break}throw Object(V.track)(V.events.GITHUB_API_ERROR_BAD_CREDENTIALS),new Error("Unable to create repository");case 4:if("User"!==r){o.next=10;break}return o.next=7,x.a.awrap(Ae()("".concat(Fe,"/user/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:Ce()(a)}));case 7:i=o.sent,o.next=13;break;case 10:return o.next=12,x.a.awrap(Ae()("".concat(Fe,"/orgs/").concat(n,"/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),Accept:"application/vnd.github.nebula-preview+json"},body:Ce()(a)}));case 12:i=o.sent;case 13:return o.abrupt("return",Ke(i));case 14:case"end":return o.stop()}}))}function Be(e,t){var n,a,i,o,s;return x.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e){c.next=3;break}throw Object(V.track)(V.events.GITHUB_API_ERROR_BAD_CREDENTIALS),new Error("Unable to create fork");case 3:return n=Object(X.b)(t),a=Object(r.a)(n,2),i=a[0],o=a[1],c.next=6,x.a.awrap(Ae()("".concat(Fe,"/repos/").concat(i,"/").concat(o,"/forks"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)}}));case 6:return s=c.sent,c.abrupt("return",Ke(s));case 8:case"end":return c.stop()}}))}function Ke(e){var t;return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.ok){n.next=2;break}return n.abrupt("return",e.json());case 2:t=new Error("Bad GitHub Response"),n.t0=e.status,n.next=401===n.t0?6:404===n.t0?6:9;break;case 6:return Object(V.track)(V.events.GITHUB_API_ERROR_BAD_CREDENTIALS),t=new Me,n.abrupt("break",10);case 9:Object(V.track)(V.events.GITHUB_API_ERROR_GENERAL);case 10:throw t;case 11:case"end":return n.stop()}}))}var ze=n("G5Ub");function Ve(e){var t=e.cmd,n=e.args,r=void 0===n?[]:n,a=e.wid,i=e.pud,o=t.format,s=t.parse;return function(e,n){var c,l,u,d;return x.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(c=Object(b.a)(n(),a,i,"git"),l=c.gitState,u=c.isExecInProgress,d=c.execQueue,u||e({type:"SEND_EXEC_COMMAND",args:o.apply(void 0,[l].concat(Object(k.a)(r))),wid:a}),0!==d.length&&!u){p.next=4;break}return p.abrupt("return",new y.a((function(n,o){e({type:"QUEUE_GIT_EXEC",cmd:t,args:r,parser:void 0!==s?s:function(e){return e},callback:n,wid:a,pud:i})})));case 4:case"end":return p.stop()}}))}}function Xe(e){var t=e.history,n=void 0!==t&&t,r=e.write,a=void 0!==r&&r,i=e.persist,o=void 0!==i&&i,s=e.prefer,c=void 0===s?null:s,l=e.wid,u=e.pud;return function(e,t){var r,i,s,d,p,f,h,g,m,v,w,y;return x.a.async((function(k){for(;;)switch(k.prev=k.next){case 0:return r=function(t,n){return e(Ve({cmd:t,wid:l,pud:u,args:n}))},k.next=3,x.a.awrap(r(Ee));case 3:if(i=Object(b.a)(t(),l,u,"git"),s=i.gitState,d=s.isInitialized,p=s.remote,f=s.gitHubLogin,!(h=s.remoteToken)||f){k.next=15;break}return k.prev=5,k.next=8,x.a.awrap(qe(l,u,h));case 8:return g=k.sent,k.next=11,x.a.awrap(e(g));case 11:k.next=15;break;case 13:k.prev=13,k.t0=k.catch(5);case 15:if(d){k.next=17;break}return k.abrupt("return");case 17:return k.next=19,x.a.awrap(r(ke));case 19:return k.next=21,x.a.awrap(r(pe));case 21:if(!a||!p){k.next=49;break}if(null!==c){k.next=25;break}return k.next=25,x.a.awrap(r(ce));case 25:if(m=Object(b.a)(t(),l,u,"git"),!m.gitState.hasConflictsWithFetchedRemote&&null===c){k.next=43;break}if("remote"!==c){k.next=34;break}return k.next=30,x.a.awrap(r(le));case 30:return k.next=32,x.a.awrap(r(ie));case 32:k.next=41;break;case 34:if("repl"!==c){k.next=41;break}return k.next=37,x.a.awrap(r(ue));case 37:return k.next=39,x.a.awrap(r(ie));case 39:k.next=41;break;case 41:k.next=47;break;case 43:return k.next=45,x.a.awrap(r(de));case 45:return k.next=47,x.a.awrap(r(ie));case 47:k.next=52;break;case 49:if(!n||!p){k.next=52;break}return k.next=52,x.a.awrap(r(de));case 52:if((a||n||o)&&e({type:"PERSIST_FILE",path:".git",wid:l}),v=Object(b.a)(t(),l,u,"git"),!v.gitState.remote){k.next=57;break}return k.next=57,x.a.awrap(r(oe));case 57:return r(Oe),r(be),k.next=61,x.a.awrap(r(ae));case 61:w=Object(b.a)(t(),l,u,"git"),y=w.gitState.branch,r(re,[y]);case 63:case"end":return k.stop()}}),null,null,[[5,13]])}}function We(e){var t=e.wid,n=e.pud,r=e.remote;return function(e,a){var i,o,s,c,l,u;return x.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return i=function(r,a){return e(Ve({cmd:r,args:a,wid:t,pud:n}))},d.next=3,x.a.awrap(e({type:"START_GIT_CLONE",wid:t}));case 3:if(o=Object(b.a)(a(),t,n,"git"),s=o.gitState.remoteToken,c=!!r.match(/^https?:\/\/github\.com/i),l=!!r.match(/^https?:\/\/api\.glitch\.com/i),!c){d.next=17;break}return d.prev=7,d.next=10,x.a.awrap(qe(t,n,s));case 10:return u=d.sent,d.next=13,x.a.awrap(e(u));case 13:d.next=17;break;case 15:d.prev=15,d.t0=d.catch(7);case 17:return d.next=19,x.a.awrap(i(ne,[a().user.userInfo]));case 19:return d.next=21,x.a.awrap(i(fe,[r]));case 21:return d.next=23,x.a.awrap(i(pe));case 23:return d.next=25,x.a.awrap(e({type:"START_CLONE_PROGRESS",wid:t,pud:n}));case 25:return d.next=27,x.a.awrap(i(l?se:oe));case 27:return d.next=29,x.a.awrap(i(xe));case 29:return d.next=31,x.a.awrap(i(we));case 31:return d.next=33,x.a.awrap(e({type:"END_CLONE_PROGRESS",wid:t,pud:n}));case 33:if(l){d.next=38;break}return d.next=36,x.a.awrap(e(Xe({wid:t,pud:n,history:!0})));case 36:d.next=42;break;case 38:return d.next=40,x.a.awrap(i(ae));case 40:return d.next=42,x.a.awrap(new y.a((function(e){return setTimeout(e,1e3)})));case 42:(function r(){var i=Object(b.a)(a(),t,n,"git"),o=i.execQueue,s=i.isExecInProgress;0!==o.length||s?setTimeout(r,1e3):e({type:"END_GIT_CLONE",wid:t})})();case 44:case"end":return d.stop()}}),null,null,[[7,15]])}}function Ye(e,t){return function(n,r){var a;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=function(r,a){return n(Ve({cmd:r,args:a,wid:e,pud:t}))},i.next=3,x.a.awrap(a(he));case 3:return i.next=5,x.a.awrap(a(me,["Initial commit",r().user.userInfo]));case 5:return i.next=7,x.a.awrap(n(Xe({wid:e,pud:t,write:!0})));case 7:case"end":return i.stop()}}))}}function qe(e,t,n){return x.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new y.a((function(r,a){var i;return x.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,x.a.awrap(Ue(n));case 3:i=o.sent,r((function(n){return x.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:n({type:"UPDATE_GIT_STATE",updates:{gitHubName:i.name,gitHubEmail:i.email,gitHubAvatarUrl:i.avatar_url,gitHubLogin:i.login,authError:f.NONE},wid:e,pud:t});case 1:case"end":return r.stop()}}))})),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),a(o.t0);case 10:case"end":return o.stop()}}),null,null,[[0,7]])})));case 1:case"end":return r.stop()}}))}function Qe(e){var t=e.wid,n=e.pud;return function(e,r){var a,i,o,s,c,l,u,d,p,f,h,g;return x.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,x.a.awrap(e(Ve({cmd:pe,wid:t,pud:n})));case 2:if(a=Object(b.a)(r(),t,n,"git"),i=a.gitState,o=i.remote,s=i.remoteToken,c=i.installations,s){m.next=17;break}return m.prev=4,m.next=7,x.a.awrap(Object(ze.b)("/data/user_auth/github_info"));case 7:return l=m.sent,s=l.token,c=l.installations,m.next=12,x.a.awrap(e({type:"UPDATE_GIT_STATE",pud:n,wid:t,updates:{remoteToken:s,installations:c}}));case 12:m.next=17;break;case 14:m.prev=14,m.t0=m.catch(4),s=null;case 17:if(u=!!c.find((function(e){return"User"===e.type})),d=!1,!o||!s){m.next=34;break}return m.prev=20,m.next=23,x.a.awrap(He(s,o));case 23:return p=m.sent,f=p.permissions,h=p.id,g=p.owner,d=f&&f.push,m.next=30,x.a.awrap(e({type:"UPDATE_GIT_STATE",pud:n,wid:t,updates:{repoId:h,ownerId:g.id}}));case 30:m.next=34;break;case 32:m.prev=32,m.t1=m.catch(20);case 34:e({type:"GIT_REMOTE_CHECKED",wid:t,canFork:u,canPush:d,remote:o});case 35:case"end":return m.stop()}}),null,null,[[4,14],[20,32]])}}function Je(e){var t=e.wid,n=e.pud,r=e.canPush,a=e.readmePath;return function(e,i){var o,s,c,l,u,d,p,f,h,g,m,v;return x.a.async((function(w){for(;;)switch(w.prev=w.next){case 0:return o=function(r,a){return e(Ve({cmd:r,args:a,wid:t,pud:n}))},s="replit-readme",c=Object(b.a)(i(),t,n,"git"),l=c.gitState,u=l.remote,d=l.remoteToken,p=l.branch,w.next=5,x.a.awrap(o(ve,[s]));case 5:return w.next=7,x.a.awrap(o(ge,[a]));case 7:return w.next=9,x.a.awrap(o(ge,[".replit"]));case 9:if(f="",r){w.next=30;break}return w.prev=11,w.next=14,x.a.awrap(Be(d,u));case 14:return h=w.sent,g=h.html_url,m=h.owner.login,w.next=19,x.a.awrap(o(fe,[g]));case 19:return w.next=21,x.a.awrap(o(pe));case 21:f="".concat(u,"/compare/").concat(p,"...").concat(m,":").concat(s),w.next=28;break;case 24:return w.prev=24,w.t0=w.catch(11),Object(V.track)(V.events.GITHUB_FORK_FAILURE),w.abrupt("return");case 28:w.next=31;break;case 30:f="".concat(u,"/compare/").concat(p,"...").concat(s);case 31:return"Add run on repl.it badge to README","This pull request adds a `Run on Repl.it` badge to the `README`. This will allow users to easily run this repository in their browser, without having to set up an environment. You can learn more about Repl.it [here](https://repl.it).",v="".concat("Add run on repl.it badge to README","\n\n").concat("This pull request adds a `Run on Repl.it` badge to the `README`. This will allow users to easily run this repository in their browser, without having to set up an environment. You can learn more about Repl.it [here](https://repl.it)."),w.next=36,x.a.awrap(o(me,[v,i().user.userInfo]));case 36:return w.next=38,x.a.awrap(o(ie));case 38:return w.next=40,x.a.awrap(o(fe,[u]));case 40:return w.next=42,x.a.awrap(o(pe));case 42:e({type:"BADGE_PR_CREATED",url:f,wid:t});case 43:case"end":return w.stop()}}),null,null,[[11,24]])}}var Ze=n("3TIX"),$e=n("FzLU");function et(e,t){var n=A()(e);if(R.a){var r=R()(e);t&&(r=r.filter((function(t){return S()(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){Object(z.a)(e,t,n[t])})):N.a?_()(e,N()(n)):et(Object(n)).forEach((function(t){j()(e,t,S()(n,t))}))}return e}function nt(e,t,n){switch(n.type){case"LOADING_GOVAL_COMPLETE":return function(n,r){var a,i,o;return x.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a=Object(b.a)(r(),e,t,"git"),i=a.repl,a.gitState.remoteToken){s.next=4;break}return s.next=4,x.a.awrap(n(Qe({wid:e,pud:t})));case 4:if(i.config.gitRemoteUrl){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,x.a.awrap(n(Ve({cmd:Ee,wid:e,pud:t})));case 8:o=Object(b.a)(r(),e,t,"git"),o.gitState.isInitialized||(n(Object(Ze.ab)({wid:e,message:"cloning into ".concat(i.config.gitRemoteUrl,"...\n"),type:"interp",raw:!1})),n({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_CLONED",wid:e}),n(We({remote:i.config.gitRemoteUrl,wid:e,pud:t})));case 10:case"end":return s.stop()}}))};case"FILE_CLEAN":return function(n,r){var a=Object(b.a)(r(),e,t,"git"),i=a.gitState,o=a.hasOpened;i.isInitialized&&o&&n(Ve({cmd:ae,wid:e,pud:t}))};case"EXIT_EXEC_COMMAND":return function(r,a){var i,o,s,c,l,u;return x.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return i=Object(b.a)(a(),e,t,"git"),o=i.execQueue[0],s=$e.a.safeGet(o.parser),c=$e.a.safeGet(o.callback),d.next=6,x.a.awrap(r({type:"DEQUEUE_GIT_EXEC",wid:e,pud:t}));case 6:return d.next=8,x.a.awrap(r({type:"UPDATE_GIT_STATE",updates:tt({},s(i.gitState,n.output)),wid:e,pud:t}));case 8:c(),(l=Object(b.a)(a(),e,t,"git")).execQueue.length>0&&(u=l.execQueue[0],r(Ve({cmd:u.cmd,args:u.args,wid:e,pud:t})));case 11:case"end":return d.stop()}}))};case"RCV_EXEC_COMMAND":return function(r,a){var i;return x.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:i=Object(b.a)(a(),e,t,"git"),i.shouldDisplayCloneLogs&&r(Object(Ze.ab)({wid:e,message:n.output,type:"interp",raw:!1}));case 2:case"end":return o.stop()}}))};case"START_GIT_CLONE":return function(t){return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Cloning",wid:e});case 1:case"end":return n.stop()}}))};case"END_GIT_CLONE":return function(n){return x.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"UNLOCK_WORKSPACE",wid:e}),r.next=3,x.a.awrap(n(Qe({wid:e,pud:t})));case 3:case"end":return r.stop()}}))};case"GITHUB_REPOSITORY_CREATED":case"CHECK_GIT_REMOTE":return function(n){return x.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.a.awrap(n(Qe({wid:e,pud:t})));case 2:case"end":return r.stop()}}))};case"CREATE_BADGE_PR":return function(r){return x.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:r(Je({wid:e,pud:t,readmePath:n.readmePath,canPush:n.canPush}));case 1:case"end":return a.stop()}}))};default:return null}}function rt(e,t){var n=A()(e);if(R.a){var r=R()(e);t&&(r=r.filter((function(t){return S()(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){Object(z.a)(e,t,n[t])})):N.a?_()(e,N()(n)):rt(Object(n)).forEach((function(t){j()(e,t,S()(n,t))}))}return e}var it=function(e,t){switch(t.type){case"@@INIT":return{gitState:{isInitialized:!1,hasConflictsWithFetchedRemote:!1,authError:f.NONE,remote:"",repoId:null,branch:"",defaultBranch:"master",branches:[],installations:[],changedFiles:[],commits:[],commitsAhead:null,commitsBehind:null,remoteToken:null,gitHubName:null,ownerId:null,gitHubLogin:null,gitHubAvatarUrl:null,gitHubEmail:null},hasOpened:!1,isSidebarVisible:!1,isCloneInProgress:!1,shouldDisplayCloneLogs:!1,isExecInProgress:!1,isLoading:!0,persistCount:0,execQueue:[]};case"SEND_EXEC_COMMAND":return at({},e,{isExecInProgress:!0,isLoading:!0});case"EXIT_EXEC_COMMAND":return at({},e,{isExecInProgress:!1});case"QUEUE_GIT_EXEC":var n=$e.a.getHandle(t.parser),r=$e.a.getHandle(t.callback);return at({},e,{execQueue:e.execQueue.concat({cmd:t.cmd,args:t.args,parser:n,callback:r})});case"DEQUEUE_GIT_EXEC":return at({},e,{execQueue:e.execQueue.slice(1)});case"PERSIST_FILE":return at({},e,{isLoading:!0,persistCount:e.persistCount+1});case"FILE_PERSISTED":return at({},e,{isLoading:!1,persistCount:e.persistCount-1});case"START_GIT_CLONE":return at({},e,{isCloneInProgress:!0});case"START_CLONE_PROGRESS":return at({},e,{shouldDisplayCloneLogs:!0});case"END_CLONE_PROGRESS":return at({},e,{shouldDisplayCloneLogs:!1});case"END_GIT_CLONE":return at({},e,{isCloneInProgress:!1});case"UPDATE_GIT_STATE":return at({},e,{gitState:at({},e.gitState,{},t.updates),isLoading:e.execQueue.length>0||e.persistCount>0||e.isCloneInProgress});case"SET_GIT_SIDEBAR_VISIBILITY":return at({},e,{isSidebarVisible:t.isSidebarVisible,hasOpened:!0});default:return e}},ot=n("a6RD"),st=n.n(ot),ct=n("7FmB"),lt=n.n(ct),ut=n("PQb8"),dt=s.a.createElement,pt=st()((function(){return x.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}}),ft=function(e){var t=e.repoId,n=e.ownerId,r=e.wid,a=e.pud,s=e.authError,l=Object(c.e)();Object(o.useEffect)((function(){l({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_AUTH_REQUESTED",wid:r})}),[]);var u=Object(c.f)((function(e){return Object(b.a)(e,r,a,"git")})).gitState,d="Connect to GitHub";u.remote&&(d="Unable to connect to this GitHub repository");var p=Object(ut.a)({suggestedRepoId:t,ownerId:n,onAuth:function(){var e,t;return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.a.awrap(Object(ze.b)("/data/user_auth/github_info"));case 2:return e=n.sent,n.next=5,x.a.awrap(l({type:"UPDATE_GIT_STATE",wid:r,pud:a,updates:{remoteToken:e.token,installations:e.installations}}));case 5:return n.prev=5,n.next=8,x.a.awrap(qe(r,a,e.token));case 8:t=n.sent,l(t),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(5);case 14:case"end":return n.stop()}}),null,null,[[5,12]])}});return dt(pt,{onRequestClose:function(){return l({type:"UPDATE_GIT_STATE",updates:{authError:f.NONE},wid:r,pud:a})}},dt(i.a,{id:"3908741739"},[".authModal.jsx-3908741739{max-width:600px;padding:20px 24px;background:var(--color-background-1);color:var(--color-foreground-1);}","h2.jsx-3908741739{margin-bottom:16px;}","p.jsx-3908741739{margin-bottom:24px;line-height:1.4em;}",".buttonGroup.jsx-3908741739{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]),dt("div",{className:"jsx-3908741739 authModal"},dt("h2",{className:"jsx-3908741739"},d),dt("p",{className:"jsx-3908741739"},function(e,t){var n=Object(X.d)(t),r="";switch(e){case f.PUSH:r="push to ".concat(n);break;case f.FETCH:r="fetch from ".concat(n);break;case f.CLONE:r="clone from ".concat(n);break;case f.GITHUB_CREATE:case f.GITHUB_GET_INFO:default:r="create new repositories"}return"Please grant Repl.it permission to access GitHub on your behalf and confirm that you have permission to ".concat(r,".")}(s,u.remote)),dt("div",{className:"jsx-3908741739 buttonGroup"},dt(lt.a,{color:"primary",filled:!0,style:{marginLeft:8},onClick:p},"Connect Repl.it to your GitHub Account"))))},bt=n("p0XB"),ht=n.n(bt),gt=n("8Fln"),mt=n("UWUU"),vt=n("igIU"),xt=n("yzOi"),wt=n("fUEn"),yt=n("Soul"),kt=n.n(yt),Et=s.a.createElement,jt=st()((function(){return x.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}}),Ot=function(e){return e.trim().split(" ").join("-")},_t=function(e){var t=e.isOpen,n=e.isCreatingBranch,r=e.onClose,a=e.currentBranch,o=e.branches,s=e.successHandler;if(!t)return null;var c=Object(xt.a)("",(function(e){return e?o.includes(Ot(e))?{message:"* this branch name already exists"}:void 0:{message:"* branch names cannot be blank"}}));return Et(jt,{onRequestClose:r,noBorder:!0},Et("div",{className:"jsx-428323845 container"},Et("form",{onSubmit:function(e){return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!c.validate()){t.next=4;break}return t.abrupt("return");case 4:s(Ot(c.value));case 5:case"end":return t.stop()}}))},autoComplete:"off",className:"jsx-428323845"},Et("h1",{className:"jsx-428323845"},"Create a new branch"),Et("h2",{className:"jsx-428323845"},n?"Creating your new branch":"This branch will be created from ".concat(a)),Et("div",{className:"jsx-428323845 creation-error"},c.error&&c.error.message),Et("div",{className:"jsx-428323845 section"},Et(kt.a,{ref:c.ref,value:c.value,type:"text",autoFocus:!0,name:"branch-name",autoComplete:"off",onChange:function(e){c.setValue(e.currentTarget.value)},placeholder:"name your branch (required)",onFocus:function(e){return e.target.select()}})),Et(lt.a,{type:"submit","data-testid":"git-confirm-github-repo",color:"primary",filled:!0},n?Et("span",{className:"jsx-428323845"},"creating",Et(wt.a,{style:{fontSize:"20px",padding:"1px"}})):"create")),Et(i.a,{id:"428323845"},[".container.jsx-428323845{font-size:1rem;width:510px;padding:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;height:100%;color:var(--color-foreground-1);}",".container.jsx-428323845 form.jsx-428323845{width:90%;}",".container.jsx-428323845 h1.jsx-428323845{font-size:23px;margin-bottom:10px;font-weight:normal;}",".container.jsx-428323845 h2.jsx-428323845{color:var(--color-foreground-2);font-size:16px;margin-bottom:15px;font-weight:normal;}",".creation-error.jsx-428323845{min-height:16px;margin:10px;color:var(--color-negative-1);}",".section.jsx-428323845{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:25px;width:100%;}"])))},Ct=n("dwxc"),Nt=n.n(Ct),Tt=n("mKBA"),St=n.n(Tt),It=s.a.createElement,Rt=function(e){var t,n,r=e.checkoutBranch,a=e.gitState,c=e.isLoading,l=e.wid,d=e.isNarrow,p=Object(o.useState)(!1),f=p[0],b=p[1];return Object(o.useEffect)((function(){!c&&f&&b(!1)}),[c]),It("div",{className:"jsx-4243153410 "+(u()("branch-info",{disabled:1===a.branches.length})||"")},It(i.a,{id:"4243153410"},[".branch-info.jsx-4243153410{display:grid;grid-template-columns:1fr auto;grid-column-gap:var(--spacing-1);margin-top:10px;}",".branch-info-label.jsx-4243153410{color:var(--color-foreground-1);font-size:14px;margin-bottom:3px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".branch-info-selectWrapper.jsx-4243153410{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;}",".branch-info-select.jsx-4243153410{-webkit-flex:1;-ms-flex:1;flex:1;}"]),It("div",{className:"jsx-4243153410 branch-info-selectWrapper"},It("div",{className:"jsx-4243153410 branch-info-select"},It(vt.a,null),It(gt.a,{clearable:!1,className:"branchSelect-".concat(window.btoa(l).substr(0,10)),disabled:1===a.branches.length,onChange:function(e){e&&!ht()(e)&&e.value!==a.branch&&e.value&&r(e.value)},openOnFocus:!0,options:(t=a.branches,n=a.defaultBranch,0===t.length?[]:t.sort((function(e){return e===n?-1:0})).map((function(e){return{value:e,label:e}}))),optionRenderer:function(e){return function(e){var t=e.branch,n=e.defaultBranch,r=e.currentBranch,a=t.value===r;return It("div",{className:"jsx-2986052909 "+(u()("branchOption",{selected:a})||"")},It(i.a,{id:"2986052909"},[".branchOption.jsx-2986052909{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".branchOption-checkmark.jsx-2986052909{height:12px;width:12px;margin-right:3px;}",".branchOption-name.jsx-2986052909{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".branchOption-defaultLabel.jsx-2986052909{font-size:10px;color:var(--color-foreground-1);margin:0 2px;}",".selected.jsx-2986052909 .branchOption-defaultLabel.jsx-2986052909{color:var(--color-foreground-2);}"]),a&&It("div",{className:"jsx-2986052909 branchOption-checkmark"},It(mt.Checkmark,null)),It("div",{className:"jsx-2986052909 branchOption-name"},It("label",{className:"jsx-2986052909"},t.label),t.label===n&&It("label",{className:"jsx-2986052909 branchOption-defaultLabel"},"default")))}({branch:e,currentBranch:a.branch,defaultBranch:a.defaultBranch})},placeholder:"loading...",searchable:!0,value:a.branch,valueRenderer:function(){return It(s.a.Fragment,null,!d&&It(Nt.a,{foreground:2},"branch: "),a.branch)}}))),It(lt.a,{Icon:St.a,onClick:function(){return b(!0)},title:"Create new branch"}),It(_t,{branches:a.branches,currentBranch:a.branch,isCreatingBranch:f&&c,isOpen:f,onClose:function(){return b(!1)},successHandler:function(e){r(e)}}))},Lt=n("gF3W"),At=s.a.createElement,Dt=function(e){var t=e.branch,n=e.commitsBehind,r=e.isLoading;return At("div",{className:"jsx-1443995161 remoteProgress"},At(i.a,{id:"1443995161"},[".remoteProgress.jsx-1443995161{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;margin-right:5px;max-width:100%;overflow:hidden;white-space:nowrap;}",".remoteProgress p{overflow:hidden;text-overflow:ellipsis;}",".remoteProgress .emphasized{color:var(--color-foreground-1);}"]),At((function(){return r?At("p",null,"checking latest changes... "):n&&1===n?At("p",null,At("span",{className:"emphasized"},"1")," commit behind ",t):n&&n>1?At("p",null,At("span",{className:"emphasized"},n)," commits behind"," ",t):At("p",null,"up to date with ",t)}),{className:"jsx-1443995161"}))},Pt=function(e){var t=e.gitState,n=e.isLoading,r=e.pull,a=e.setGithubCreationModalOpen,o=""!==t.remote;return At("div",{className:"jsx-2582197764 remote-info"},At(i.a,{id:"2582197764"},[".remote-info.jsx-2582197764{display:grid;grid-gap:var(--spacing-2);margin:6px 0;}",".remoteWrapper-info.jsx-2582197764{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}",".remoteWrapper-infolink.jsx-2582197764{padding:0 3px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".icon-wrapper.jsx-2582197764{height:var(--spacing-2);width:var(--spacing-2);margin-right:var(--spacing-half);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:inherit;}",".remoteInfo-progress.jsx-2582197764{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]),o?At("div",{className:"jsx-2582197764 remoteWrapper-info"},At("div",{title:"Repository origin",className:"jsx-2582197764 icon-wrapper"},At(mt.GitHub,null)),At("a",{href:t.remote,target:"_blank",rel:"nofererer noopener",className:"jsx-2582197764 remoteWrapper-infolink"},Object(X.d)(t.remote))):At(lt.a,{fullWidth:!0,onClick:function(){a(!0)}},At(Lt.HStack,{spacing:1,align:"center"},At("div",{className:"jsx-2582197764 icon-wrapper"},At(mt.GitHub,null)),At("div",{className:"jsx-2582197764"},"Connect to Github"))),o&&At("div",{className:"jsx-2582197764 remoteInfo-progress"},At(Dt,{branch:t.branch,commitsBehind:t.commitsBehind,isLoading:n}),!!t.commitsBehind&&t.commitsBehind>0&&At(lt.a,{color:"warning",onClick:r},"Pull \u2190")))},Ft=n("TyLv"),Mt=s.a.createElement,Ut=function(e){switch(e.change){case p.UNTRACKED:return"new";case p.MODIFIED:return"modified";case p.MOVED:return"renamed";case p.DELETED:return"deleted";default:return""}},Ht=function(e){var t,n,r=e.file,a=e.active,o=e.handleChangedFileClick,s=!1;if(r.targetPath.endsWith("/")){s=!0;var c=r.targetPath.substr(0,r.targetPath.length-1).split("/");t=c[c.length-1]+"/",n=c.slice(0,c.length-1).join("/")}else{var l=r.targetPath.split("/");t=l[l.length-1],n=l.slice(0,l.length-1).join("/")}var u=Ut(r),d=u.substr(0,1).toUpperCase(),f=["changedFileItem"];return a&&f.push("active"),s||r.change===p.DELETED||f.push("showable"),Mt("div",{onClick:function(){s||r.change===p.DELETED||o(r.targetPath)},className:"jsx-1498543552 "+(f.join(" ")||"")},Mt(i.a,{id:"1498543552"},[".changedFileItem.jsx-1498543552{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid var(--color-control-1);border-radius:2.5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:5px;padding:6px 12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;}",".showable.changedFileItem.jsx-1498543552{cursor:pointer;}",".changedFileItem.jsx-1498543552:hover{background-color:var(--color-primary-transparent-2);}",".changedFileItem.jsx-1498543552:hover .changeModeBadge.jsx-1498543552 .letter.jsx-1498543552{display:none;}",".changedFileItem.jsx-1498543552:hover .changeModeBadge.jsx-1498543552 .word.jsx-1498543552{display:block;}",".changedFileItem.active.jsx-1498543552{background-color:var(--color-primary-1);border-color:transparent;color:var(--color-white);}",".showable.jsx-1498543552 .fileName.jsx-1498543552:hover{-webkit-text-decoration:underline;text-decoration:underline;}",".fileName.jsx-1498543552,.dirs.jsx-1498543552,.changeMode.jsx-1498543552{display:block;white-space:nowrap;}",".changeMode.jsx-1498543552{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".fileName.jsx-1498543552{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:8px;max-width:60%;overflow:hidden;text-overflow:ellipsis;}",".changeMode.jsx-1498543552{margin-left:8px;}",".dirs.jsx-1498543552{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;margin-right:auto;opacity:0.7;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".changeModeBadge.jsx-1498543552{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#999;border-radius:2.5px;color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:24px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-width:24px;padding:2px 4px;-webkit-transition:width 0.1s;transition:width 0.1s;}",".changeModeBadge.jsx-1498543552 .word.jsx-1498543552{display:none;}",".changedFileItem.active.jsx-1498543552 .changeModeBadge.jsx-1498543552,.changedFileItem.active.jsx-1498543552:hover .new.jsx-1498543552,.changedFileItem.active.jsx-1498543552:hover .modified.jsx-1498543552,.changedFileItem.active.jsx-1498543552:hover .deleted.jsx-1498543552{background-color:var(--color-background-1);color:var(--color-foreground-2);border:transparent;}",".new.jsx-1498543552{background:var(--color-positive-transparent-3);border:1px solid var(--color-positive-1);color:var(--color-positive-1);}",".modified.jsx-1498543552{background:var(--color-orange-transparent-3);border:1px solid var(--color-orange-1);color:var(--color-orange-1);}",".deleted.jsx-1498543552{background:var(--color-negative-transparent-3);border:1px solid var(--color-negative-1);color:var(--color-negative-1);}",".deleted.jsx-1498543552:hover{cursor:not-allowed;}",".changedFileItem.jsx-1498543552:hover .new.jsx-1498543552{background:var(--color-positive-1);color:var(--color-foreground-1);}",".changedFileItem.jsx-1498543552:hover .modified.jsx-1498543552{background:var(--color-orange-1);color:var(--color-foreground-1);}",".changedFileItem.jsx-1498543552:hover .deleted.jsx-1498543552{background:var(--color-negative-1);color:var(--color-foreground-1);}",".renamed.jsx-1498543552{background:#6883f1;}"]),Mt("div",{title:t,className:"jsx-1498543552 fileName"},t),Mt("div",{title:n,className:"jsx-1498543552 dirs"},n),Mt("div",{className:"jsx-1498543552 changeMode"},Mt("div",{className:"jsx-1498543552 "+("changeModeBadge "+u||!1)},Mt("div",{className:"jsx-1498543552 letter"},d),Mt("div",{className:"jsx-1498543552 word"},d+u.substr(1)))))},Gt=function(e){var t=e.changedFiles,n="changed files or folders";if(1===t.length){var r=Ut(t[0])||"changed";n="".concat(r," file or folder")}return Mt("div",{className:"jsx-3007353529 changed-file-message"},Mt(i.a,{id:"3007353529"},[".emphasized.jsx-3007353529{color:var(--color-foreground-1);}","p.jsx-3007353529{color:var(--color-foreground-2);margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"]),Mt("p",{className:"jsx-3007353529"},Mt("span",{className:"jsx-3007353529 emphasized"}," ",t.length," ")," ",n))},Bt=function(e){var t=e.branch,n=e.commitsAhead,r="commit ahead of";return n&&n>1&&(r="commits ahead of"),Mt("div",{className:"jsx-3606678223"},Mt(i.a,{id:"3606678223"},[".emphasized.jsx-3606678223{color:var(--color-foreground-1);}","p.jsx-3606678223{color:var(--color-foreground-2);margin-bottom:15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}"]),Mt("p",{className:"jsx-3606678223"},Mt("span",{className:"jsx-3606678223 emphasized"}," ",n," ")," ",r," ",t))},Kt=function(e){var t=e.disabled,n=e.onClick;return Mt(lt.a,{disabled:t,className:"push-button",onClick:n,color:"primary"},"commit & push \u2192")},zt=function(e){var t=e.activeFile,n=e.branch,r=e.changedFiles,a=e.commits,s=e.commitsAhead,c=e.commitsBehind,l=e.handleChangedFileClick,u=e.isLoading,d=e.gitCommit,p=e.gitPush,f=Object(o.useState)(""),b=f[0],h=f[1],g=Object(o.useState)(!1),m=g[0],v=g[1],x=Object(o.useState)(!1),w=x[0],y=x[1],k=r;function E(){var e=b.trim();""!==e?(d(e),h(""),v(!1)):v(!0)}w||(k=r.slice(0,3));var j=r.length>0,O=!!s&&s>0,_=!!c&&c>0;return u&&!j?Mt("div",{className:"jsx-3128216323 loading"},Mt(i.a,{id:"3128216323"},[".loading.jsx-3128216323{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:30px;overflow:hidden;margin-right:12px;background:var(--color-background-2);border-radius:2.5px;width:100%;}",".loading-content.jsx-3128216323{border-radius:2.5px;color:var(--color-foreground-1);padding:10px 8px;text-align:center;width:100%;}"]),Mt("div",{className:"jsx-3128216323 loading-content"},"loading",Mt(wt.a,{style:{fontSize:"20px",padding:"1px"}}))):j||O||_?Mt("div",{className:"jsx-2960193321 editableGitCommitItem"},Mt(i.a,{id:"2960193321"},[".editableGitCommitItem.jsx-2960193321{background:var(--color-background-1);box-sizing:border-box;color:var(--color-foreground-1);margin-top:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;}",".commit-author-box.jsx-2960193321{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:15px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:16px;}","textarea.jsx-2960193321{background-color:transparent;border:1px solid var(--color-foreground-3);border-radius:var(--border-radius-1);box-shadow:none;color:var(--color-foreground-1);font-size:1em;margin-bottom:10px;padding:8px 12px;overflow:hidden;width:100%;resize:vertical;max-height:100px;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-2960193321:hover{background-color:var(--color-background-2);}","textarea.jsx-2960193321:focus{border-color:var(--color-primary-1);background-color:var(--color-background-2);outline:0 none;}","textarea.jsx-2960193321::-webkit-input-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-2960193321::-moz-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-2960193321:-ms-input-placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea.jsx-2960193321::placeholder{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}","textarea[disabled].jsx-2960193321{border-color:var(--color-foreground-3);cursor:not-allowed;opacity:0.5;}","textarea.invalid.jsx-2960193321{border:1px solid var(--color-negative-1);}",".ahead-overlay.jsx-2960193321{margin-bottom:15px;position:relative;}",".changed-files-list.jsx-2960193321{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".show-all-button.jsx-2960193321{border:none;background-color:var(--color-background-1);color:var(--color-foreground-1);cursor:pointer;font-size:12px;outline:0 none;-webkit-text-decoration:underline;text-decoration:underline;}"]),O&&Mt(Bt,{branch:n,commitsAhead:s}),!j&&O&&Mt("div",{className:"jsx-2960193321 ahead-overlay"},Mt(Kt,{disabled:!1,onClick:p})),j&&Mt("div",{className:"jsx-2960193321 commit-author-box"},Mt("textarea",{required:!0,name:"commitAuthorInput",disabled:0===r.length,placeholder:a.length>0?"What did you change?":"What did you add?",value:b,onChange:function(e){h(e.target.value),v(""===e.target.value)},onKeyDown:function(e){Object(Ft.a)(e),"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&E()},className:"jsx-2960193321 "+((m?"invalid":"")||"")}),Mt(Kt,{onClick:E,disabled:0===r.length})),Mt(Gt,{changedFiles:r}),Mt("div",{className:"jsx-2960193321 changed-files-list"},k.map((function(e){return Mt(Ht,{file:e,key:e.targetPath,handleChangedFileClick:l,active:Boolean(t)&&t.endsWith(e.targetPath)})})),r.length>3&&Mt("button",{onClick:function(){return y(!w)},className:"jsx-2960193321 show-all-button"},w?"show fewer":"show all"))):Mt("div",{className:"jsx-1953444237 no-changes-banner"},Mt(i.a,{id:"1953444237"},[".no-changes-banner.jsx-1953444237{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:30px;overflow:hidden;background:var(--color-background-2);border-radius:2.5px;}",".small.jsx-1953444237{color:var(--color-foreground-2);padding:15px;text-align:center;width:100%;font-size:14px;}"]),Mt("p",{className:"jsx-1953444237 small"},"Your file changes will appear here."))},Vt=n("Cg2A"),Xt=n.n(Vt),Wt=n("gNI2"),Yt=n.n(Wt),qt=s.a.createElement,Qt=function(e){var t=e.children;return qt("div",{"data-testid":"git-commit-item",className:"jsx-329484556 commitItem"},qt(i.a,{id:"329484556"},[".commitItem.jsx-329484556{display:block;position:relative;-webkit-transition:0.1s all;transition:0.1s all;}",".commitItem.jsx-329484556:first-child .gitGraphShape.jsx-329484556::before{background:linear-gradient( to bottom, transparent, var(--color-foreground-2) 20px, var(--color-foreground-2) 100% );}",".commitItem.jsx-329484556:last-child .gitGraphShape.jsx-329484556::before{height:20px;}",".gitGraphShape.jsx-329484556{position:absolute;top:0;bottom:0;left:0;background-color:transparent;}",".gitGraphShape.jsx-329484556::before{content:'';display:block;position:absolute;top:0;bottom:0;height:calc(100% + 10px);width:1px;left:6px;background:var(--color-foreground-2);}",".gitGraphShape.jsx-329484556::after{content:'';display:block;width:11px;height:11px;border:1px solid var(--color-foreground-2);border-radius:50%;background-color:var(--color-background-1);position:absolute;top:20px;left:0;-webkit-transition:0.1s all;transition:0.1s all;}",".commitItem.jsx-329484556:hover .gitGraphShape.jsx-329484556::after{background-color:var(--color-foreground-1);border-color:1px solid var(--color-foreground-1);}"]),qt("div",{className:"jsx-329484556 gitGraphShape"}),t)},Jt=function(e){var t=e.commit,n=e.handleRevertToCommit,r=e.displayTimeSinceUnix,a=e.gitHubLink,o=e.isLoggedIn;return qt(Qt,null,qt(i.a,{id:"287876579"},[".wrapper.jsx-287876579{border:1px solid var(--color-foreground-2);border-radius:2.5px;padding:10px 8px;margin:0 0 10px 24px;color:var(--color-foreground-2);}",".wrapper.jsx-287876579:hover{background-color:var(--color-bacjkground-2);border:1px solid var(--color-foreground-2);color:var(--color-foreground-1);}",".commitHash.jsx-287876579{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:'Menlo','Monaco',monospace;margin-bottom:6px;font-size:14px;}",".author.jsx-287876579{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-1);}",".authorName.jsx-287876579,.authorEmail.jsx-287876579{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".authorEmail.jsx-287876579{max-width:150px;margin-bottom:6px;font-size:12px;color:var(--color-foreground-2);}",".commitHash.jsx-287876579{color:var(--color-foreground-2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;}","button.jsx-287876579,.gitHubLink.jsx-287876579{visibility:hidden;}",".wrapper.jsx-287876579:hover button.jsx-287876579,.wrapper.jsx-287876579:hover .gitHubLink.jsx-287876579{visibility:visible;}","button.jsx-287876579{cursor:pointer;padding:6px;border:1px solid transparent;border-radius:2.5px;}",".gitHubLink.jsx-287876579{display:inline-block;height:16px;width:16px;margin-left:6px;background-color:var(--color-foreground-1);}"]),qt("div",{className:"jsx-287876579 wrapper"},qt(Zt,{message:t.message}),qt("div",{className:"jsx-287876579 author"},qt("div",{title:"commit.authorName",className:"jsx-287876579 authorName"},t.authorName," \u2022"," ",Yt()(t.authorDate,r,{addSuffix:!0}))),qt("div",{title:t.authorEmail,className:"jsx-287876579 authorEmail"},t.authorEmail),qt("div",{title:t.hash,className:"jsx-287876579 commitHash"},t.hash.substr(0,9),null!==a&&qt("a",{href:a,target:"_blank",rel:"noopener noreferer",title:"see on GitHub",className:"jsx-287876579 gitHubLink"},qt(mt.GitHub,null))),o&&qt(lt.a,{filled:!1,border:!1,color:"warning",size:"small",onClick:function(){return n(t)}},"revert to here")))},Zt=function(e){var t=e.message,n=t.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return qt("p",{key:e},e)})),r=Object(o.useState)(!1),a=r[0],s=r[1];return qt("div",{className:"jsx-3348363490 commitMessage"},qt(i.a,{id:"3348363490"},[".commitMessage.jsx-3348363490{margin-bottom:10px;}",".commitMessage p{color:var(--color-foreground-1);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:2px;}",".commitMessage-moreLink.jsx-3348363490{font-size:14px;}"]),a?Object(k.a)(n):qt("p",{className:"jsx-3348363490"},[t.split("\n")[0]," "]),a&&qt("a",{href:"#",key:"more",onClick:function(){return s(!1)},className:"jsx-3348363490 commitMessage-moreLink"},"see less"),!a&&n.length>1&&qt("a",{href:"#",key:"more",onClick:function(){return s(!0)},className:"jsx-3348363490 commitMessage-moreLink"},"see more"))},$t=function(e){var t=e.gitState,n=e.handleRevertToCommit,r=e.fetchMoreCommits,a=e.isLoggedIn,c=t.commits[t.commits.length-1],l=c&&""!==c.parentHash?qt(Qt,{key:"loadmore"},qt(lt.a,{onClick:r,style:{margin:"8px 6px 12px 24px"}},"load more commits")):null,u=Object(o.useState)(Xt()()),d=u[0],p=u[1];Object(o.useEffect)((function(){p(Xt()())}),[t.commits]);var f=t.commitsAhead||0;return qt(s.a.Fragment,null,t.commits.length>0&&qt("h2",{className:"jsx-4037633779"},qt(i.a,{id:"4037633779"},["h2.jsx-4037633779{color:var(--color-foreground-1);font-size:18px;font-weight:unset;overflow:hidden;margin:30px 0 10px 0;text-overflow:ellipsis;white-space:nowrap;position:relative;}"]),"Previous Commits"),qt("div",{className:"jsx-2602915453 commitList-section"},qt(i.a,{id:"2602915453"},[".commitList-section.jsx-2602915453{height:100%;}",".commitList-wrapper.jsx-2602915453{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".commitList.jsx-2602915453{width:100%;margin-top:10px;}"]),qt("div",{className:"jsx-2602915453 commitList-wrapper"},t.commits.length>0&&qt("ul",{className:"jsx-2602915453 commitList"},t.commits.map((function(e,r){return qt(Jt,{handleRevertToCommit:n,key:e.hash,commit:e,displayTimeSinceUnix:d,gitHubLink:""!==t.remote&&r>=f?Object(X.a)(t.remote,e.hash):null,isLoggedIn:a})})),l))))},en=n("g7Gn"),tn=n("Jaku"),nn=n("irrw"),rn=n.n(nn),an=s.a.createElement,on=st()((function(){return x.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}}),sn=function(e){var t=e.avatarUrl,n=e.login;return an("div",{className:"jsx-3521536340 gitHubInfo"},an(i.a,{id:"3521536340"},[".gitHubInfo.jsx-3521536340{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;text-overflow:ellipsis;}",".gitHubInfo-avatar.jsx-3521536340{height:36px;width:36px;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:5px;}",".gitHubInfo-login.jsx-3521536340{padding:5px;overflow:hidden;text-overflow:ellipsis;}"]),an("img",{src:t,className:"jsx-3521536340 gitHubInfo-avatar"}),an("div",{className:"jsx-3521536340 gitHubInfo-login"},n))},cn=function(e){var t=e.authToken,n=e.isOpen,a=e.repl,l=a.isPrivate,u=a.title,d=a.description,p=a.isRenamed,h=e.onClose,g=e.pud,m=e.successHandler,v=e.wid;if(!n)return null;var w=Object(o.useState)(!1),y=w[0],k=w[1],E=Object(o.useState)(l),j=E[0],O=E[1],_=s.a.useState(null),C=Object(r.a)(_,2),N=C[0],T=C[1],S=Object(c.e)(),I=Object(c.f)((function(e){return Object(b.a)(e,v,g,"git")})).gitState,R=Object(xt.a)(p?u:"",(function(e){return e&&e.length>100?{message:"* GitHub repository names cannot exceed 100 characters"}:e?void 0:{message:"* Repository name is required"}})),L=Object(xt.a)((d||"").replace(/(\r\n|\n|\r)/gm," "),(function(e){if(e&&e.length>140)return{message:"* GitHub descriptions cannot exceed 140 characters"}}));if(I.authError!==f.NONE)return an(ft,{wid:v,pud:g,authError:I.authError});var A=!(!R.error&&!L.error),D=I.installations,P=D.find((function(e){return"User"===e.type}))||D[0],F=Object(o.useState)({value:P.name,label:P.name,avatar:P.avatarUrl,type:P.type}),M=F[0],U=F[1],H=D.filter((function(e){return e.name!==M.value})).map((function(e){return{value:e.name,label:e.name,avatar:e.avatarUrl,type:e.type}}));return an(on,{onRequestClose:h,noBorder:!0},an("div",{className:"jsx-4030671057 container"},an("form",{onSubmit:function(e){var n,r,a,i;return x.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(T(null),e.preventDefault(),k(!0),n=R.validate(),r=L.validate(),!n&&!r){o.next=8;break}return k(!1),o.abrupt("return");case 8:return a={name:R.value,description:L.value,private:j},o.prev=9,o.next=12,x.a.awrap(Ge({token:t,repoData:a,owner:M.value,ownerType:M.type}));case 12:i=o.sent,m(i.html_url),Object(V.track)(V.events.GITHUB_API_REPO_CREATION_SUCCESS),o.next=20;break;case 17:o.prev=17,o.t0=o.catch(9),o.t0 instanceof Me?S({type:"UPDATE_GIT_STATE",wid:v,pud:g,updates:{authError:f.GITHUB_CREATE}}):(en.m((function(e){e.setTag("source","git"),en.c(o.t0)})),T("Unable to create a GitHub repository"));case 20:k(!1);case 21:case"end":return o.stop()}}),null,null,[[9,17]])},style:{width:"90%",opacity:y?.6:1},autoComplete:"off",className:"jsx-4030671057"},an("div",{className:"jsx-4030671057 section"},an("div",{className:"jsx-4030671057"},an(rn.a,{align:"center",level:4},"Create a new GitHub repository"),an(Nt.a,{align:"center",foreground:2},"You can always edit this information on github"))),an("div",{className:"jsx-4030671057 section"},an(vt.a,null),an(gt.a,{options:H,optionRenderer:function(e){return an(sn,{avatarUrl:e.avatar,login:e.label||""})},disabled:D.length<=1,value:M,valueRenderer:function(e){return an(sn,{avatarUrl:e.avatar,login:e.label||""})},onChange:function(e){U(e)},searchable:!1,style:{height:"48px"},clearable:!1}),an("span",{className:"jsx-4030671057 slash"}," / "),an(kt.a,{ref:R.ref,name:"title",autoComplete:"off",placeholder:"repo name (required)",disabled:y,value:R.value,onChange:function(e){R.setValue(e.currentTarget.value),T(null)},onFocus:function(e){return e.target.select()},onBlur:R.handleBlur,validationResults:R.error?[{message:R.error.message,state:"error"}]:void 0})),an("div",{className:"jsx-4030671057 section"},an(kt.a,{name:"description",value:L.value,disabled:y,placeholder:L.value||"Add repo description (optional)",onChange:function(e){L.setValue(e.target.value),T(null)},onBlur:L.handleBlur,validationResults:L.error?[{message:L.error.message,state:"error"}]:void 0})),an("div",{className:"jsx-4030671057 privacy section"},an("h3",{className:"jsx-4030671057"},"GitHub privacy"),an("div",{className:"jsx-4030671057 privacy-radio"},an(tn.a,{checked:!j,type:"button",id:"public",onClick:function(){return O(!1)}}),an("div",{className:"jsx-4030671057 privacy-icon"},an(mt.GitHubPublic,null)),an("div",{className:"jsx-4030671057 privacy-info"},an("label",{className:"jsx-4030671057"},"Public"),an(Nt.a,{foreground:2,tag:"div",size:"small"},"Anyone can see this repo, you choose who can commit"))),an("div",{className:"jsx-4030671057 privacy-radio"},an(tn.a,{checked:j,type:"button",id:"private",onClick:function(){return O(!0)}}),an("div",{className:"jsx-4030671057 privacy-icon private"},an(mt.GitHubPrivate,null)),an("div",{className:"jsx-4030671057 privacy-info"},an("label",{className:"jsx-4030671057"},"Private"),an(Nt.a,{foreground:2,tag:"div",size:"small"},"you choose who can see and commit to this repo")))),an("div",{className:"jsx-4030671057 create section"},an(lt.a,{size:"large",color:"primary",disabled:y||A,type:"submit","data-testid":"git-confirm-github-repo"},y?"Creating...":"Create GitHub repository")),an("div",{className:"jsx-4030671057 creation-error"},N&&an("span",{className:"jsx-4030671057"},N,an("br",{className:"jsx-4030671057"}),an("a",{href:"/bugs",className:"jsx-4030671057"},"Let us know")," if there is an issue."))),an(i.a,{id:"4030671057"},[".container.jsx-4030671057{font-size:1rem;width:510px;padding:0 10px;padding-top:40px;padding-bottom:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;color:var(--color-foreground-1);}",".section.jsx-4030671057{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:25px;width:100%;}",".section.create.jsx-4030671057{padding-bottom:0;}",".section.privacy.jsx-4030671057{color:var(--color-foreground-1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}",".section.privacy.jsx-4030671057 h3.jsx-4030671057{margin-bottom:10px;font-weight:normal;}",".privacy-radio.jsx-4030671057{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;padding:3px;width:100%;}",".privacy-icon.jsx-4030671057{margin-left:10px;width:24px;height:32px;}",".privacy-icon.jsx-4030671057{color:var(--color-foreground-2);}",".privacy-icon.private.jsx-4030671057{color:var(--color-gold-light);}",".privacy-info.jsx-4030671057{margin-left:10px;}",".Select{width:100%;}",".slash.jsx-4030671057{color:var(--color-foreground-1);margin:5px;}",".creation-error.jsx-4030671057{line-height:1.3;padding-top:20px;margin:0 10px;height:40px;color:var(--color-negative-1);}"])))},ln=s.a.createElement,un=st()((function(){return x.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(n.bind(null,"9vYF")).then((function(e){return e.default})));case 1:case"end":return e.stop()}}))}),{ssr:!1,loading:function(){return null}});function dn(e){var t=e.wid,n=e.pud,r=e.gitState,a=Object(c.e)(),s=function(){a({type:"UPDATE_GIT_STATE",wid:t,pud:n,updates:{hasConflictsWithFetchedRemote:!1}})},l=Object(o.useState)(null),u=l[0],d=l[1],p=Object(o.useState)(!0),f=p[0],b=p[1],h="Confirm",g=["conflictChoices"];return"repl"===u?(g.push("chosen-repl"),h="Confirm keep Repl.it"):"remote"===u&&(g.push("chosen-remote"),h="Confirm overwrite from GitHub"),f||g.push("invalid"),ln(un,{onRequestClose:s},ln(i.a,{id:"3359993603"},[".resolveConflictModal.jsx-3359993603{max-width:600px;padding:20px 24px;background:var(--color-background-1);color:var(--color-foreground-1);}","h2.jsx-3359993603{margin-bottom:16px;}","p.jsx-3359993603{margin-bottom:24px;line-height:1.4em;}",".conflictChoices.jsx-3359993603{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".conflictPreference.jsx-3359993603{width:48%;border:1px solid var(--color-foreground-1);cursor:pointer;border-radius:3px;overflow:hidden;-webkit-transition:-webkit-transform 0.2s;-webkit-transition:transform 0.2s;transition:transform 0.2s;}",".conflictPreference.jsx-3359993603:hover{-webkit-transform:translate(0,-3px);-ms-transform:translate(0,-3px);transform:translate(0,-3px);}",".conflictPreference.jsx-3359993603 .header.jsx-3359993603{padding:8px 12px;font-weight:bold;background:var(--color-background-2);}",".conflictPreference.jsx-3359993603 .body.jsx-3359993603{padding:8px 12px;line-height:1.4em;}",".chosen-repl.jsx-3359993603 .replPreference.jsx-3359993603 .header.jsx-3359993603,.chosen-remote.jsx-3359993603 .remotePreference.jsx-3359993603 .header.jsx-3359993603{color:var(--color-background-1);background:var(--color-foreground-1);}",".chosen-repl.jsx-3359993603 .remotePreference.jsx-3359993603,.chosen-remote.jsx-3359993603 .replPreference.jsx-3359993603{border-color:var(--color-foreground-2);}",".buttonGroup.jsx-3359993603{margin-top:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}"]),ln("div",{className:"jsx-3359993603 resolveConflictModal"},ln("h2",{className:"jsx-3359993603"},"Conflicting changes"),ln("p",{className:"jsx-3359993603"},"There are changes from the remote (",ln("a",{href:r.remote,target:"_blank",rel:"nofererer noopener",className:"jsx-3359993603"},r.remote),") that have been made since your changes on Repl.it that conflict with each other. Which version would you like to keep?"),ln("div",{className:"jsx-3359993603 "+(g.join(" ")||"")},ln("div",{onClick:function(){return d("remote")},className:"jsx-3359993603 remotePreference conflictPreference"},ln("div",{className:"jsx-3359993603 header"},"Keep version on GitHub"),ln("div",{className:"jsx-3359993603 body"},"Permanently delete any changes in your Repl that are not on GitHub.")),ln("div",{onClick:function(){return d("repl")},className:"jsx-3359993603 replPreference conflictPreference"},ln("div",{className:"jsx-3359993603 header"},"Keep version on Repl.it"),ln("div",{className:"jsx-3359993603 body"},"Permanently delete any changes in your GitHub repository that are not on Repl.it"))),ln("div",{className:"jsx-3359993603 buttonGroup"},ln(lt.a,{style:{marginLeft:"8px"},onClick:s},"Cancel"),ln(lt.a,{color:"negative",style:{marginLeft:"8px"},onClick:function(){null!==u?(a(Xe({write:!0,prefer:u,wid:t,pud:n})),s()):b(!1)}},h))))}function pn(e){var t=e.actionDescription,n=e.onConfirm,r=e.onCancel,a={marginLeft:8};return ln("div",{className:"jsx-752610279 gitRevertConfirmModal"},ln(i.a,{id:"752610279"},[".gitRevertConfirmModal.jsx-752610279{max-width:600px;padding:20px 24px;background:var(--color-background-1);color:var(--color-foreground-1);}","h2.jsx-752610279{margin-bottom:16px;}","p.jsx-752610279{margin-bottom:24px;line-height:1.4em;}",".buttonGroup.jsx-752610279{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]),ln("h2",{className:"jsx-752610279"},"Overwrite existing changes?"),ln("p",{className:"jsx-752610279"},"You have some changes that are not committed yet. ",t," ","will overwrite any un-committed changes. Overwrite and continue?"),ln("div",{className:"jsx-752610279 buttonGroup"},ln(lt.a,{style:a,onClick:r,autoFocus:!0},"Cancel"),ln(lt.a,{color:"negative",style:a,onClick:n},"Overwrite and continue")))}var fn=function(e){var t=e.wid,n=e.pud,a=e.isLoading,l=e.isNarrow,u=e.userInfo,d=Object(c.e)(),p=Object(b.b)(t,n,"git"),h=Object(r.a)(p,1)[0],g=h.gitState,m=h.repl;function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.history,a=void 0!==r&&r,i=e.write,o=void 0!==i&&i,s=e.persist;d(Xe({history:a,write:o,persist:void 0!==s&&s,wid:t,pud:n}))}var w=Object(c.f)((function(e){return e.workspace[t].activeFile}));function y(e,r){return d(Ve({cmd:e,args:r,wid:t,pud:n}))}var k=g.hasConflictsWithFetchedRemote&&ln(dn,{wid:t,pud:n,gitState:g}),E=Object(o.useState)(null),j=E[0],O=E[1],_=null!==j&&ln(un,{onRequestClose:function(){return O(null)}},ln(pn,{actionDescription:"Reverting to this previous version",onConfirm:function(){return x.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:O(null),y(je),y(ye,[j.hash]),v({persist:!0});case 4:case"end":return e.stop()}}))},onCancel:function(){return O(null)}})),C=Object(o.useState)(null),N=C[0],T=C[1],S=null!==N&&ln(un,{onRequestClose:function(){return T(null)}},ln(pn,{actionDescription:"Checking out branch ".concat(N),onConfirm:function(){return x.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return T(null),y(je),e.next=4,x.a.awrap(y(ve,[N]));case 4:v({persist:!0});case 5:case"end":return e.stop()}}))},onCancel:function(){return T(null)}}));var I=Object(o.useState)(!1),R=I[0],L=I[1];return ln(s.a.Fragment,null,u.isLoggedIn?ln(s.a.Fragment,null,ln(Pt,{gitState:g,isLoading:a,pull:function(){d({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_PULLED",wid:t}),v({history:!0})},setGithubCreationModalOpen:function(){g.remoteToken&&g.installations.length>0?L(!0):d({type:"UPDATE_GIT_STATE",wid:t,pud:n,updates:{authError:f.GITHUB_GET_INFO}})}}),ln(Rt,{isLoading:a,gitState:g,wid:t,checkoutBranch:function(e){return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==g.branch){n.next=2;break}return n.abrupt("return");case 2:if(d({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_CHECKOUT",wid:t}),!(g.changedFiles.length>0&&g.branches.includes(e))){n.next=6;break}return T(e),n.abrupt("return");case 6:return n.next=8,x.a.awrap(y(ve,[e]));case 8:v({persist:!0});case 9:case"end":return n.stop()}}))},isNarrow:l}),ln(zt,{branch:g.branch,changedFiles:g.changedFiles,commits:g.commits,isLoading:a,commitsAhead:g.commitsAhead,commitsBehind:g.commitsBehind,activeFile:w,handleChangedFileClick:function(e){d({type:"OPEN_FILE",path:e,wid:t})},gitCommit:function(e){return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return d({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_COMMITTED",wid:t}),n.next=3,x.a.awrap(y(he));case 3:return n.next=5,x.a.awrap(y(me,[e,u]));case 5:v({write:!0});case 6:case"end":return n.stop()}}))},gitPush:function(){v({write:!0})}})):ln("div",{className:"jsx-1826746790 sign-up"},ln("a",{href:"/signup",className:"jsx-1826746790"}," create an account"),ln("div",{className:"jsx-1826746790"},"to use version control with repl.it!")),ln($t,{gitState:g,handleRevertToCommit:function(e){return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(d({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_REVERTED",wid:t}),!(g.changedFiles.length>0)){n.next=4;break}return O(e),n.abrupt("return");case 4:y(ye,[e.hash]),v({persist:!0});case 6:case"end":return n.stop()}}))},fetchMoreCommits:function(){g.remote&&y(oe,[!0]),y(be,[!0])},isLoggedIn:u.isLoggedIn}),_,S,k,g.authError!==f.NONE&&ln(ft,{wid:t,pud:n,repoId:g.repoId,ownerId:g.ownerId,authError:g.authError}),ln(cn,{authToken:g.remoteToken,isOpen:R,onClose:function(){return L(!1)},repl:m,successHandler:function(e){d(function(e){var t=e.remote,n=e.wid,r=e.pud;return function(e){var a;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=function(t,a){return e(Ve({cmd:t,args:a,wid:n,pud:r}))},i.next=3,x.a.awrap(a(fe,[t]));case 3:return i.next=5,x.a.awrap(a(pe));case 5:return i.next=7,x.a.awrap(a(ie));case 7:return i.next=9,x.a.awrap(e({type:"GITHUB_REPOSITORY_CREATED",wid:n,pud:r}));case 9:return i.next=11,x.a.awrap(e(Xe({wid:n,pud:r,persist:!0})));case 11:case"end":return i.stop()}}))}}({wid:t,pud:n,remote:e})),L(!1)},wid:t,pud:n}),ln(i.a,{id:"1826746790"},[".sign-up.jsx-1826746790{padding:10px;text-align:center;}"]))},bn=n("PzFc"),hn=n("sETy"),gn=s.a.createElement,mn=function(e){var t=e.onInit,n=e.isLoggedIn;return gn("div",{className:"jsx-3846798690 git-empty"},gn("div",{className:"jsx-3846798690"},"Track and rollback changes to your repl."," ",gn("a",{href:"https://repl.it/talk/learn/Replit-Git-Tutorial/23331/",target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault(),Object(V.track)(V.events.GIT_CLIENT_WHAT_IS_GIT_CLICKED),window.open(e.target.href,"_blank")},className:"jsx-3846798690 learn-link"},"Learn more here"),gn("div",{className:"jsx-3846798690 ctas"},n?gn(s.a.Fragment,null,gn(lt.a,{color:"primary",filled:!0,onClick:t},"Create a Git Repo"),gn(bn.a,{activeTab:hn.a.GitHub},gn("a",{className:"jsx-3846798690"},"Existing git repository?"))):gn("div",{className:"jsx-3846798690 sign-up"},gn("a",{href:"/signup",className:"jsx-3846798690"}," create an account")," to use version control with repl.it!"))),gn("div",{className:"jsx-3846798690"},gn("img",{src:"/public/images/gitart.png",className:"jsx-3846798690"})),gn(i.a,{id:"3846798690"},[".git-empty.jsx-3846798690{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:100%;padding:10px;max-width:250px;margin:0 auto;}",".learn-link.jsx-3846798690{color:inherit;-webkit-text-decoration:underline;text-decoration:underline;}",".ctas.jsx-3846798690{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:40px 0;}",".ctas.jsx-3846798690>a.jsx-3846798690{margin-top:12px;text-align:center;}","img.jsx-3846798690{width:100%;max-width:200px;}"]))},vn=n("tnnq"),xn=n("5RMj");n.d(t,"Component",(function(){return kn})),n.d(t,"reducer",(function(){return jn})),n.d(t,"receiver",(function(){return nt}));var wn=s.a.createElement,yn=210;function kn(e){var t=e.wid,n=e.pud,a=e.style,s=e.dimensions,l=Object(c.e)(),d=Object(o.useState)(!1),p=d[0],f=d[1],h=Object(b.b)(t,n,"git"),g=Object(r.a)(h,1)[0],v=g.gitState,w=g.isLoading,y=g.isCloneInProgress,k=g.repl,E=Object(c.f)((function(e){return e.user.userInfo}));Object(o.useEffect)((function(){if(s){var e=window.document.getElementById(xn.a);if(!e)throw new Error("Couldn't find workspace root");var t=s.w,n=e.clientWidth*(t.pc/100)+t.px;n<=yn&&!p?f(!0):n>yn&&p&&f(!1)}}),[s,p]);var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(o.useState)(t),r=n[0],a=n[1],i=Object(o.useRef)();return Object(o.useEffect)((function(){return i.current&&clearTimeout(i.current),i.current=setTimeout((function(){a(e)}),250),function(){i.current&&clearTimeout(i.current)}}),[e]),[r||e,a]}(w,!0),O=Object(r.a)(j,2),_=O[0],C=O[1];Object(o.useEffect)((function(){return l({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_SIDEBAR_OPENED",wid:t}),y||(C(!0),l(Xe({history:!1,write:!1,persist:!1,wid:t,pud:n}))),l({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!0,wid:t}),function(){l({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!1,wid:t})}}),[]);var N=null;return N=_&&!v.isInitialized?wn(m.a,{style:{margin:"10px auto",width:"35px",height:"35px"}}):k.config.gitRemoteUrl||v.isInitialized?wn(fn,{wid:t,pud:n,isLoading:_,isNarrow:p,userInfo:E}):wn(mn,{isLoggedIn:E.isLoggedIn,onInit:function(){l(function(e,t){return function(n,r){var a;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=function(r,a){return n(Ve({cmd:r,args:a,wid:e,pud:t}))},n({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_LOCAL_INIT",wid:e}),i.next=4,x.a.awrap(a(ne,[r().user.userInfo]));case 4:return i.next=6,x.a.awrap(n(Ye(e,t)));case 6:case"end":return i.stop()}}))}}(t,n))}}),wn("div",{style:a,className:"jsx-1529441781 gitSidebar"},wn(i.a,{id:"1529441781"},[".gitSidebar.jsx-1529441781{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-width:150px;background-color:var(--color-background-1);color:var(--color-foreground-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".gitSidebar-header.jsx-1529441781{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;height:var(--spacing-6);padding:0 var(--spacing-1) 0 var(--spacing-2);color:var(--color-foreground-1);width:100%;}",".gitSidebar-heading.jsx-1529441781{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}",".git-content-scroll-wrapper.jsx-1529441781{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;}",".git-content-scroll-wrapper.jsx-1529441781{-webkit-scrollbar-width:thin;-moz-scrollbar-width:thin;-ms-scrollbar-width:thin;scrollbar-width:thin;}",".git-content-scroll-wrapper.jsx-1529441781::-webkit-scrollbar-thumb{border-radius:var(--border-radius-2);background-color:var(--color-foreground-4);}",".git-content-scroll-wrapper.jsx-1529441781:hover.jsx-1529441781::-webkit-scrollbar-thumb{background-color:var(--color-foreground-3);}",".git-content-scroll-wrapper.jsx-1529441781::-webkit-scrollbar{width:6px;}",".git-content-scroll-wrapper.jsx-1529441781::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".git-content-wrapper.jsx-1529441781{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;width:100%;padding:8px 12px;}",".git-content-wrapper.is-loading.jsx-1529441781{opacity:0.5;pointer-events:none;}"]),wn("div",{className:"jsx-1529441781 gitSidebar-header"},wn("div",{className:"jsx-1529441781 gitSidebar-heading"},"Version control"),wn(vn.a,{link:"https://replit.canny.io/admin/board/feedback/p/github-integration-feedback"})),wn("div",{className:"jsx-1529441781 git-content-scroll-wrapper"},wn("div",{className:"jsx-1529441781 "+(u()("git-content-wrapper",{"is-loading":_})||"")},N)),wn(En,null))}function En(){return wn("div",{className:"jsx-829418383 gitSidebar-footer"},wn(i.a,{id:"829418383"},[".gitSidebar-footer.jsx-829418383{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:6px 12px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;background-color:var(--color-background-2);color:var(--color-foreground-2);font-size:13px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".gitSidebar-footer.jsx-829418383 .feedbackLink.jsx-829418383{text-align:right;}"]),wn("a",{href:"https://repl.it/talk/announcements/Feedback-for-git-support-the-new-GitHub-integration/21631",target:"_blank",rel:"noopener",className:"jsx-829418383 feedbackLink"},"Send feedback"))}var jn=Object(h.a)({primary:it,repl:g.b,userInfo:d.a})},eKMU:function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=i.createElement;t.a=function(e){var t=e.backgroundColor,n=e.foregroundColor,r=e.borderColor;return o("svg",{className:"add-lib-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20.583 20.25"},o("defs",{className:a.a.dynamic([["4239907680",[t,r,r,n]]])},o(a.a,{id:"4239907680",dynamic:[t,r,r,n]},[".add-lib-icon-svg{height:100%;width:100%;}",".add-lib-icon-svg .cls-1{fill:none;}",".add-lib-icon-svg .cls-3{fill:".concat(t,";stroke:").concat(r,";stroke-miterlimit:10;stroke-width:1px;}"),".add-lib-icon-svg:hover .cls-3{fill:".concat(r,";}"),".add-lib-icon-svg .cls-4{fill:".concat(n,";}"),".add-lib-icon-svg:hover .cls-4{fill:#fff;}"]),o("clipPath",{id:"clip-path",className:a.a.dynamic([["4239907680",[t,r,r,n]]])},o("rect",{x:"-162.211",y:"-650.947",width:"243.472",height:"517.878",className:a.a.dynamic([["4239907680",[t,r,r,n]]])+" cls-1"}))),o("circle",{className:"cls-3",cx:"10.303",cy:"10.083",r:"9.675"}),o("path",{className:"cls-4",d:"M15.858,10.885H4.763v-1.6H15.858Z"}))}},egCV:function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=n("3CEA"),c=n("irrw"),l=n.n(c),u=n("dwxc"),d=n.n(u),p=n("7FmB"),f=n.n(p),b=o.a.createElement;t.a=function(e){var t=e.sentryEventId,n=e.user;e.devHide;return b("div",{className:"jsx-261124636 bsod"},b("div",{className:"jsx-261124636 modal"},b(l.a,{level:1}," The IDE is having a bit of trouble."),b("div",{className:"jsx-261124636 spacer"}),b(d.a,{size:"large"},"Parts of the IDE are not working correctly. Try reloading the page to get back to coding."),b("div",{className:"jsx-261124636 spacer"}),b(f.a,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0},"reload"),t&&b("a",{href:"#",onClick:function(){s.h({eventId:t,title:"We are deeply sorry about what happened!",subtitle:"Help us figure out what went wrong",subtitle2:"",labelComments:"What were you doing before you saw this crash?",user:n,labelName:"Username"})},className:"jsx-261124636"},"\ud83d\udcdd report this error"),!1),b(a.a,{id:"261124636"},[".bsod.jsx-261124636{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-backdrop-filter:blur(2.5px);backdrop-filter:blur(2.5px);background-color:var(--color-overlay);bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:1;}",".modal.jsx-261124636{background-color:var(--color-background-1);border-radius:2.5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:300px;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;padding:var(--spacing-2);width:675px;}",".modal.jsx-261124636 a.jsx-261124636{text-align:center;color:var(--color-primary-1);}",".spacer.jsx-261124636{height:var(--spacing-1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;}"]))}},fUEn:function(e,t,n){"use strict";var r=n("kOwS"),a=n("MX0m"),i=n.n(a),o=n("q1tI"),s=n.n(o),c=s.a.createElement;t.a=function(e){var t=Object(r.a)({},e);return c(s.a.Fragment,null,c(i.a,{id:"4057640604"},[".one.jsx-4057640604{opacity:0.1;-webkit-animation:dot-jsx-4057640604 1.5s ease-in-out infinite;animation:dot-jsx-4057640604 1.5s ease-in-out infinite;-webkit-animation-delay:0s;animation-delay:0s;}",".two.jsx-4057640604{opacity:0.1;-webkit-animation:dot-jsx-4057640604 1.5s ease-in-out infinite;animation:dot-jsx-4057640604 1.5s ease-in-out infinite;-webkit-animation-delay:0.1s;animation-delay:0.1s;}",".three.jsx-4057640604{opacity:0.1;-webkit-animation:dot-jsx-4057640604 1.5s ease-in-out infinite;animation:dot-jsx-4057640604 1.5s ease-in-out infinite;-webkit-animation-delay:0.2s;animation-delay:0.2s;}","@-webkit-keyframes dot-jsx-4057640604{0%{opacity:0.1;}50%{opacity:1;}100%{opacity:0.1;}}","@keyframes dot-jsx-4057640604{0%{opacity:0.1;}50%{opacity:1;}100%{opacity:0.1;}}"]),c("span",Object(r.a)({},t,{className:"jsx-4057640604 "+(t&&null!=t.className&&t.className||"one")}),"."),c("span",Object(r.a)({},t,{className:"jsx-4057640604 "+(t&&null!=t.className&&t.className||"two")}),"."),c("span",Object(r.a)({},t,{className:"jsx-4057640604 "+(t&&null!=t.className&&t.className||"three")}),"."))}},g0FR:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"install",(function(){return V})),n.d(r,"instructions",(function(){return X})),n.d(r,"search",(function(){return W}));var a={};n.r(a),n.d(a,"search",(function(){return $})),n.d(a,"install",(function(){return te})),n.d(a,"instructions",(function(){return ne}));var i={};n.r(i),n.d(i,"search",(function(){return $})),n.d(i,"install",(function(){return pe})),n.d(i,"instructions",(function(){return fe}));var o={};n.r(o),n.d(o,"install",(function(){return ge})),n.d(o,"instructions",(function(){return me})),n.d(o,"search",(function(){return ve}));var s={};n.r(s),n.d(s,"install",(function(){return ke})),n.d(s,"instructions",(function(){return Ee})),n.d(s,"search",(function(){return je}));var c={};n.r(c),n.d(c,"search",(function(){return $})),n.d(c,"install",(function(){return Se})),n.d(c,"instructions",(function(){return Ie}));var l=n("hfKm"),u=n.n(l),d=n("2Eek"),p=n.n(d),f=n("XoMD"),b=n.n(f),h=n("Jo+v"),g=n.n(h),m=n("4mXO"),v=n.n(m),x=n("pLtp"),w=n.n(x),y=n("ln6h"),k=n.n(y),E=n("0iUn"),j=n("sLSF"),O=n("MI3g"),_=n("a7VT"),C=n("Tit0"),N=n("vYYK"),T=n("MX0m"),S=n.n(T),I=n("q1tI"),R=n("/MKj"),L=n("ANjH"),A=n("9/5/"),D=n.n(A),P=n("3TIX"),F=n("ArsQ"),M=n("0gYX"),U=n.n(M),H=n("zgDP"),G=n("gfZM"),B=n("G5Ub"),K=I.createElement,z="requirements.txt";function V(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f;return k.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,c="".concat(r.name,"==").concat(r.version),w()(s).includes(z)){b.next=7;break}return e({type:"UPLOAD_FILE",wid:t,path:z,content:G.a.from(c+"\n"),create:!0}),e(Object(P.bb)({wid:t,path:z})),b.abrupt("return");case 7:return o!==z&&e(Object(P.bb)({wid:t,path:z})),b.next=10,k.a.awrap(a(z));case 10:if(l=b.sent,u=G.a.from(l.content).toString(),d=null,!u.split("\n").find((function(e,t){return d=t+1,e.trim()===c}))){b.next=17;break}return e(Object(P.Y)({wid:t,line:d||0})),e(Object(F.b)({content:"Package already included",type:"notice",time:3e3})),b.abrupt("return");case 17:p=u.length,f=u.endsWith("\n")?"":"\n",e({type:"OT_FILE_OP",wid:t,path:z,op:[p,f+c+"\n"],changeSource:"libsearch"}),e(Object(P.Y)({wid:t,line:u.split("\n").length}));case 21:case"end":return b.stop()}}))}}function X(e){return K(I.Fragment,null,K("ol",null,K("li",null,"Create a ",K("code",null,"requirements.txt")," file, (we'll do it for you if you click the add button)."),K("li",null,"Then add ",K("code",null,e.name)," to ",K("code",null,"requirements.txt")," on it's own line. If you want to specify a version, then add"," ",K("code",null,e.name)," followed by a version of your choosing."),K("li",null,"After that you'd want to check the"," ",K("a",{href:e.link,rel:"external",target:"_blank"},"documentation")," ","for usage")),K("br",null),"(typically you'd want to add an ",K("code",null,"import")," to the file where you want to use the module")}function W(e){return Object(B.b)("/data/pythonlibraries/search?q=".concat(e))}var Y=n("5cLd"),q=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],Q=/^[$A-Z_][0-9A-Z_$]*$/i;function J(e){return!q.includes(e)&&Q.test(e)}var Z=function(e){var t=e.replace(/^@\w+\//,"");if(!J(t=Y(t))){var n=t.match(/[$A-Z_][0-9A-Z_$]*/i);if(n&&n[0]&&(t=n[0],n.index>0&&(t=t[0].toLowerCase()+t.slice(1))),!J(t))return"require('".concat(t,"');")}return"let ".concat(t," = require('").concat(e,"');")},$=function(e){return Object(B.b)("/data/npm/search/".concat(encodeURIComponent(e))).then((function(e){return e.map((function(e){return{name:e.package.name,description:e.package.description,link:e.package.links.homepage,version:e.package.version}}))}))},ee=I.createElement;function te(e){var t=e.wid,n=e.lib;return function(e,r){var a=r().workspace[t].activeFile,i=Z(n.name);e({type:"OT_FILE_OP",wid:t,path:a,op:[i+"\n"],changeSource:"libsearch"})}}function ne(e){return ee(I.Fragment,null,"Just ",ee("code",null,"require")," the"," ",ee("a",{href:"https://npmjs.com",rel:"external",target:"_blank"},"npm")," ","module name like so"," ",ee("code",null,"require('",e.name,"')")," ","and we'll fetch it for you.",ee("br",null),"Check the module's"," ",ee("a",{href:e.link,target:"_blank"},"documentation")," ","for usage.")}var re=n("XXOK"),ae=n.n(re),ie=n("9Jkg"),oe=n.n(ie),se=I.createElement;function ce(e,t){var n=w()(e);if(v.a){var r=v()(e);t&&(r=r.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){Object(N.a)(e,t,n[t])})):b.a?p()(e,b()(n)):ce(Object(n)).forEach((function(t){u()(e,t,g()(n,t))}))}return e}var ue="package.json",de={main:"index.js",dependencies:{}};function pe(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f,b,h,g,m,v,x,y,E,j,O,_;return k.a.async((function(C){for(;;)switch(C.prev=C.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,w()(s).includes(ue)){C.next=7;break}return c=le({},de,{dependencies:le({},de.dependencies,Object(N.a)({},r.name,r.version))}),e({type:"UPLOAD_FILE",wid:t,path:ue,content:G.a.from(oe()(c,null,"  ")),create:!0}),e(Object(P.bb)({wid:t,path:ue})),C.abrupt("return");case 7:return o!==ue&&e(Object(P.bb)({wid:t,path:ue})),C.next=10,k.a.awrap(a(ue));case 10:l=C.sent,u=G.a.from(l.content).toString(),C.prev=12,d=JSON.parse(u),C.next=20;break;case 16:return C.prev=16,C.t0=C.catch(12),e(Object(F.b)({content:"Cannot parse package.json. Make sure it's valid JSON",type:"error",time:3e3})),C.abrupt("return");case 20:if(d.dependencies){C.next=29;break}return p=u.lastIndexOf("}")||0,'  \n"dependencies": {}\n',e({type:"OT_FILE_OP",wid:t,path:ue,op:[p,'  \n"dependencies": {}\n'],changeSource:"libsearch"}),C.t1=G.a,C.next=27,k.a.awrap(a(ue));case 27:C.t2=C.sent.content,u=C.t1.from.call(C.t1,C.t2).toString();case 29:C.t3=k.a.keys(d.dependencies);case 30:if((C.t4=C.t3()).done){C.next=57;break}if((f=C.t4.value).trim()!==r.name){C.next=55;break}for(e(Object(F.b)({content:"Package already included",type:"notice",time:3e3})),b=0,h=!0,g=!1,m=void 0,C.prev=38,v=ae()(u.split("\n"));!(h=(x=v.next()).done);h=!0)y=x.value,b+=1,y.trim().startsWith('"'+f+'"')&&e(Object(P.Y)({wid:t,line:b}));C.next=46;break;case 42:C.prev=42,C.t5=C.catch(38),g=!0,m=C.t5;case 46:C.prev=46,C.prev=47,h||null==v.return||v.return();case 49:if(C.prev=49,!g){C.next=52;break}throw m;case 52:return C.finish(49);case 53:return C.finish(46);case 54:return C.abrupt("return");case 55:C.next=30;break;case 57:if(E=/"dependencies"\s*:\s*{/.exec(u)){C.next=60;break}throw new Error('Expected "dependencies" in package.json');case 60:j=E[0].length+E.index,O=d.dependencies&&w()(d.dependencies),_='    \n"'.concat(r.name,'": "^').concat(r.version,'"').concat(O?",":"","\n"),e({type:"OT_FILE_OP",wid:t,path:ue,op:[j,_],changeSource:"libsearch"});case 64:case"end":return C.stop()}}),null,null,[[12,16],[38,42,46,54],[47,,49,53]])}}function fe(e){return se(I.Fragment,null,se("ol",null,se("li",null,"If you don't have a ",se("code",null,"package.json")," file, create one (we'll do it for you if you click the add button)."),se("li",null,"Then add"," ",se("code",null,'"',e.name,'": "',e.version,'"')," ","under the ",se("code",null,"dependencies")," JSON field."),se("li",null,"After that you'd want to check the package's"," ",se("a",{href:e.link,target:"_blank"},"documentation")," ","for usage")),se("br",null),"Typically you would add a ",se("code",null,"require")," to the file where you want to use ",se("code",null,e.name))}var be=I.createElement,he="index.html";function ge(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f,b,h,g,m,v,x,y,E,j,O,_,C;return k.a.async((function(N){for(;;)switch(N.prev=N.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,w()(s).includes(he)){N.next=5;break}return e(Object(F.b)({content:"There is no index.html file to add the script to",type:"error",time:3e3})),N.abrupt("return");case 5:return o!==he&&e(Object(P.bb)({wid:t,path:he})),c='<script src="'.concat(r.include||"",'"><\/script>'),N.next=9,k.a.awrap(a(he));case 9:l=N.sent,u=G.a.from(l.content).toString("utf8"),d=0,p=!0,f=!1,b=void 0,N.prev=15,h=ae()(u.split("\n"));case 17:if(p=(g=h.next()).done){N.next=27;break}if(m=g.value,d+=1,!m.includes(c)){N.next=24;break}return e(Object(F.b)({content:"Package already installed.",type:"notice",time:3e3})),e(Object(P.Y)({wid:t,line:d})),N.abrupt("return");case 24:p=!0,N.next=17;break;case 27:N.next=33;break;case 29:N.prev=29,N.t0=N.catch(15),f=!0,b=N.t0;case 33:N.prev=33,N.prev=34,p||null==h.return||h.return();case 36:if(N.prev=36,!f){N.next=39;break}throw b;case 39:return N.finish(36);case 40:return N.finish(33);case 41:return-1===(v=u.indexOf("<script"))&&(v=u.indexOf("</body>")),e({type:"OT_FILE_OP",wid:t,path:he,op:[-1===v?u.length:v,c+"\n"],changeSource:"libsearch"}),N.next=46,k.a.awrap(a(he));case 46:x=N.sent,u=G.a.from(x.content).toString(),d=0,y=!0,E=!1,j=void 0,N.prev=52,O=ae()(u.split("\n"));case 54:if(y=(_=O.next()).done){N.next=62;break}if(C=_.value,d+=1,!C.includes(c)){N.next=59;break}return N.abrupt("break",62);case 59:y=!0,N.next=54;break;case 62:N.next=68;break;case 64:N.prev=64,N.t1=N.catch(52),E=!0,j=N.t1;case 68:N.prev=68,N.prev=69,y||null==O.return||O.return();case 71:if(N.prev=71,!E){N.next=74;break}throw j;case 74:return N.finish(71);case 75:return N.finish(68);case 76:e(Object(P.Y)({wid:t,line:d}));case 77:case"end":return N.stop()}}),null,null,[[15,29,33,41],[34,,36,40],[52,64,68,76],[69,,71,75]])}}function me(e){return be(I.Fragment,null,"To install a JavaScript package add a"," ",be("code",null,'<script src="'.concat(e.include||"",'"><\/script>'))," to your html file (typically that's ",be("code",null,"index.html"),").",be("br",null),"After that you'd want to check the ",be("a",{href:e.link},"documentation")," ","for usage")}function ve(e){return Object(B.b)("/data/cdnjs/search/".concat(encodeURIComponent(e)))}var xe=I.createElement,we="Gemfile",ye="source 'https://rubygems.org'\n";function ke(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f;return k.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,c="gem '".concat(r.name,"', '").concat(r.version,"'"),w()(s).includes(we)){b.next=7;break}return e({type:"UPLOAD_FILE",wid:t,path:we,content:G.a.from(ye+c+"\n"),create:!0}),e(Object(P.bb)({wid:t,path:we})),b.abrupt("return");case 7:return o!==we&&e(Object(P.bb)({wid:t,path:we})),b.next=10,k.a.awrap(a(we));case 10:if(l=b.sent,u=G.a.from(l.content).toString(),d=null,!u.split("\n").find((function(e,t){return d=t+1,e.trim()===c}))){b.next=17;break}return e(Object(P.Y)({wid:t,line:d||0})),e(Object(F.b)({content:"Package already included",type:"notice",time:3e3})),b.abrupt("return");case 17:p=u.length,f=u.endsWith("\n")?"":"\n",e({type:"OT_FILE_OP",wid:t,path:we,op:[p,f+c+"\n"],changeSource:"libsearch"}),e(Object(P.Y)({wid:t,line:u.split("\n").length}));case 21:case"end":return b.stop()}}))}}function Ee(e){return xe(I.Fragment,null,xe("ol",null,xe("li",null,"Create a ",xe("code",null,"Gemfile")," file, (we'll do it for you if you click the add button)."),xe("li",null,"Then add ",xe("code",null,e.name)," to ",xe("code",null,"Gemfile")," on it's own line. If you want to specify a version, then add"," ",xe("code",null,e.name)," followed by a version of your choosing."),xe("li",null,"After that you'd want to check the"," ",xe("a",{href:e.link,rel:"external",target:"_blank"},"documentation")," ","for usage")))}function je(e){return Object(B.b)("/data/rubygems/search/".concat(e))}var Oe=I.createElement;function _e(e,t){var n=w()(e);if(v.a){var r=v()(e);t&&(r=r.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Object(N.a)(e,t,n[t])})):b.a?p()(e,b()(n)):_e(Object(n)).forEach((function(t){u()(e,t,g()(n,t))}))}return e}var Ne="package.json",Te={name:"reason-nodejs-template",version:"0.1.0",private:!0,files:["src/","bsconfig.json"],dependencies:{},devDependencies:{"bs-platform":"4.0.18"}};function Se(e){var t=e.wid,n=e.pud,r=e.lib,a=e.getFile;return function(e,i){var o,s,c,l,u,d,p,f,b,h,g,m,v,x,y,E,j,O,_;return k.a.async((function(C){for(;;)switch(C.prev=C.next){case 0:if(o=i().workspace[t].activeFile,s=i().workspace[t].plugins[n].state.files,w()(s).includes(Ne)){C.next=7;break}return c=Ce({},Te,{dependencies:Ce({},Te.dependencies,Object(N.a)({},r.name,r.version))}),e({type:"UPLOAD_FILE",wid:t,path:Ne,content:G.a.from(oe()(c,null,"  ")),create:!0}),e(Object(P.bb)({wid:t,path:Ne})),C.abrupt("return");case 7:return o!==Ne&&e(Object(P.bb)({wid:t,path:Ne})),C.next=10,k.a.awrap(a(Ne));case 10:l=C.sent,u=G.a.from(l.content).toString(),C.prev=12,d=JSON.parse(u),C.next=20;break;case 16:return C.prev=16,C.t0=C.catch(12),e(Object(F.b)({content:"Cannot parse package.json. Make sure it's valid JSON",type:"error",time:3e3})),C.abrupt("return");case 20:if(d.dependencies){C.next=29;break}return p=u.lastIndexOf("}")||0,'  \n"dependencies": {}\n',e({type:"OT_FILE_OP",wid:t,path:Ne,op:[p,'  \n"dependencies": {}\n'],changeSource:"libsearch"}),C.t1=G.a,C.next=27,k.a.awrap(a(Ne));case 27:C.t2=C.sent.content,u=C.t1.from.call(C.t1,C.t2).toString();case 29:C.t3=k.a.keys(d.dependencies);case 30:if((C.t4=C.t3()).done){C.next=57;break}if((f=C.t4.value).trim()!==r.name){C.next=55;break}for(e(Object(F.b)({content:"Package already included",type:"notice",time:3e3})),b=0,h=!0,g=!1,m=void 0,C.prev=38,v=ae()(u.split("\n"));!(h=(x=v.next()).done);h=!0)y=x.value,b+=1,y.trim().startsWith('"'+f+'"')&&e(Object(P.Y)({wid:t,line:b}));C.next=46;break;case 42:C.prev=42,C.t5=C.catch(38),g=!0,m=C.t5;case 46:C.prev=46,C.prev=47,h||null==v.return||v.return();case 49:if(C.prev=49,!g){C.next=52;break}throw m;case 52:return C.finish(49);case 53:return C.finish(46);case 54:return C.abrupt("return");case 55:C.next=30;break;case 57:if(E=/"dependencies"\s*:\s*{/.exec(u)){C.next=60;break}throw new Error('Expected "dependencies" in package.json');case 60:j=E[0].length+E.index,O=d.dependencies&&w()(d.dependencies),_='    \n"'.concat(r.name,'": "').concat(r.version,'"').concat(O?",":"","\n"),e({type:"OT_FILE_OP",wid:t,path:Ne,op:[j,_],changeSource:"libsearch"});case 64:case"end":return C.stop()}}),null,null,[[12,16],[38,42,46,54],[47,,49,53]])}}function Ie(e){return Oe(I.Fragment,null,Oe("ol",null,Oe("li",null,"If you don't have a ",Oe("code",null,"package.json")," file, create one (we'll do it for you if you click the add button)."),Oe("li",null,"Then add"," ",Oe("code",null,'"',e.name,'": "',e.version,'"')," ","under the ",Oe("code",null,"dependencies")," JSON field."),Oe("li",null,"After that you'd want to check the package's"," ",Oe("a",{href:e.link,target:"_blank"},"documentation")," ","for usage")),Oe("br",null),"Typically you would add a ",Oe("code",null,"require")," to the file where you want to use ",Oe("code",null,e.name))}var Re,Le,Ae,De=n("6BQ9"),Pe=n.n(De),Fe=n("TSYQ"),Me=n.n(Fe),Ue=I.createElement,He=function(e){function t(){var e,n;Object(E.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!1,query:n.props.query,hovered:null},n.handleQueryChange=function(e){var t=e.currentTarget.value;n.setState({query:t}),n.updateLibraries(t)},n.listHoverChange=function(e){var t;t=e.currentTarget instanceof window.HTMLUListElement&&e.target instanceof window.HTMLLIElement?Pe()(e.target.dataset.index,10):null,n.setState({hovered:t})},n.moveSelector=function(e){var t;if(40===e.keyCode)t=1;else{if(38!==e.keyCode)return 13===e.keyCode&&null!==n.state.hovered?void n.props.onSelectLibrary(n.props.libraries[n.state.hovered]):void 0;t=-1}null===n.state.hovered?n.setState({hovered:0}):n.state.hovered+t>=0&&n.state.hovered+t<n.props.libraries.length&&n.setState({hovered:n.state.hovered+t}),e.preventDefault()},n.updateLibraries=function(e){if(!e)return n.props.resetSearchState(),void n.setState({loading:!1});n.setState({loading:!0}),n.props.onSearch(e)},n}return Object(C.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"componentWillReceiveProps",value:function(e){this.props.libraries!==e.libraries&&this.setState({loading:!1,hovered:null})}},{key:"render",value:function(){var e=this;return Ue("div",{onKeyDown:this.moveSelector,className:"jsx-2758458342 libsearch-search"},Ue("div",{className:"jsx-2758458342 libsearch-search-input"},Ue("input",{type:"text",placeholder:"search for a package",ref:function(t){return e.inputRef=t},value:this.state.query,onChange:this.handleQueryChange,autoFocus:!0,className:"jsx-2758458342"}),this.state.loading&&Ue("div",{title:"loading",className:"jsx-2758458342 libsearch-search-loading"})),0===this.props.libraries.length&&0!==this.props.query.length&&!this.state.loading&&Ue("div",{className:"jsx-2758458342 libsearch-search-no-results"},"Sorry, no packages found"),this.props.libraries.length>0&&Ue("ul",{onMouseOver:this.listHoverChange,className:"jsx-2758458342 libsearch-search-result"},this.props.libraries.map((function(t,n){return Ue("li",{key:t.name,"data-index":n,onClick:function(){return e.props.onSelectLibrary(t)},className:"jsx-2758458342 "+(Me()("libsearch-search-item",{"libsearch-search-item-hover":e.state.hovered===n})||"")},t.name,": ",t.description||"(No description)")}))),Ue(S.a,{id:"2758458342"},[".libsearch-search.jsx-2758458342{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;width:100%;overflow:auto;color:var(--color-foreground-1);}",".libsearch-search-input.jsx-2758458342{width:100%;position:relative;}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342::-webkit-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342::-moz-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342:-ms-input-placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342::placeholder{color:var(--color-foreground-2);}",".libsearch-search-input.jsx-2758458342 input.jsx-2758458342{padding:12px ".concat(30,"px 15px 12px;font-size:15px;width:100%;border-top:none;border-right:none;border-left:none;outline:none;background:var(--color-background-1);border-bottom:solid 1px var(--color-foreground-3);color:var(--color-foreground-1);}"),".libsearch-search-input.jsx-2758458342 input.jsx-2758458342:focus{border-color:var(--color-primary-1);}",".libsearch-search-loading.jsx-2758458342{position:absolute;top:8.5px;right:0px;width:".concat(30,"px;height:23px;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;background-size:contain;}"),".libsearch-search-no-results.jsx-2758458342{font-size:15px;margin-top:20px;text-align:center;}",".libsearch-search-result.jsx-2758458342{list-style:none;}",".libsearch-search-item.jsx-2758458342{cursor:pointer;font-size:15px;padding:12px 15px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-foreground-1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}",".libsearch-search-item-hover.jsx-2758458342{background-color:var(--color-primary-transparent-3);}"]))}}]),t}(I.Component),Ge=n("A3V5"),Be=n.n(Ge),Ke=n("UMvL"),ze=n("nG0Z"),Ve=I.createElement,Xe=function(e){var t=e.lib,n=e.packageInstructions,r=e.onBack,a=e.onInstall;return Ve("div",{className:"jsx-3533250715 libsearch-details"},Ve("div",{onClick:r,className:"jsx-3533250715 libsearch-details-back"},Ve(Be.a,{size:4.5,direction:"left",color:"currentColor"})," back to search"," "),Ve("div",{className:"jsx-3533250715 libsearch-details-header"},Ve("div",{className:"jsx-3533250715 libsearch-details-libname"},t.name),Ve("div",{onClick:a,title:"Add package",className:"jsx-3533250715 libsearch-details-cta"},Ve(ze.a,{backgroundColor:"var(--color-background-1)",foregroundColor:"var(--color-foreground-1)",borderColor:"#78af87"}))),Ve("div",{className:"jsx-3533250715 libsearch-details-description"},t.description||"This package has no description."),Ve("div",{className:"jsx-3533250715 libsearch-details-link"},Ve("a",{href:t.link,rel:"external",target:"_blank",className:"jsx-3533250715"},"Package homepage")),Ve("div",{className:"jsx-3533250715 libsearch-details-seperator"}),Ve(Ke.a,{title:"Manual installation",expanded:!1,arrowSize:3.25,arrowBorderWidth:1.25},Ve("div",{className:"jsx-3533250715 libsearch-details-instructions"},n)),Ve(S.a,{id:"3533250715"},[".libsearch-details.jsx-3533250715{padding:12px 15px;height:calc(100% - 43px);overflow-y:auto;overflow-x:hidden;color:var(--color-foreground-1);}",".libsearch-details-back.jsx-3533250715{cursor:pointer;margin-bottom:20px;}",".libsearch-details-back.jsx-3533250715:hover{color:var(--color-primary-1);}",".libsearch-details-header.jsx-3533250715{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".libsearch-details-cta.jsx-3533250715{height:22px;width:22px;cursor:pointer;}",".libsearch-details-title.jsx-3533250715{font-size:16px;}",".libsearch-details-description.jsx-3533250715{margin-bottom:20px;line-height:1.25;}",".libsearch-details-link.jsx-3533250715{margin-bottom:20px;}",".libsearch-details-seperator.jsx-3533250715{background-color:var(--color-background-2);margin-left:-15px;padding-right:30px;width:100%;height:1px;box-sizing:content-box;margin-bottom:20px;}",".libsearch-details-instructions.jsx-3533250715{max-width:100%;margin-top:10px;font-size:15px;line-height:1.5;}",".libsearch-details-instructions.jsx-3533250715 code{max-width:100%;font-size:80%;background-color:var(--color-background-3);color:var(--color-foreground-2);}",".libsearch-details-instructions.jsx-3533250715>div.jsx-3533250715{margin-bottom:10px;}",".libsearch-details-instructions.jsx-3533250715 ol{list-style-position:inside;}",".libsearch-details-instructions.jsx-3533250715 li{margin-bottom:10px;}"]))},We=n("Qbrf"),Ye=n("lixr"),qe=n("YexM"),Qe=n("S6NQ");n.d(t,"Component",(function(){return lt})),n.d(t,"reducer",(function(){return ut})),n.d(t,"receiver",(function(){return dt}));var Je=I.createElement;function Ze(e,t){var n=w()(e);if(v.a){var r=v()(e);t&&(r=r.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Object(N.a)(e,t,n[t])})):b.a?p()(e,b()(n)):Ze(Object(n)).forEach((function(t){u()(e,t,g()(n,t))}))}return e}var et="LIBSEARCH_RESULTS",tt="LIBSEARCH_QUERY",nt="LIBSEARCH_SELECT_LIB",rt="LIBSEARCH_INSTALL_SELECTED";function at(e){var t=e.libraries,n=e.wid;return{type:et,libraries:t,wid:n}}function it(e){var t=e.query,n=e.wid;return{type:tt,query:t,wid:n}}function ot(e){var t=e.lib,n=e.wid;return{type:nt,lib:t,wid:n}}function st(e){var t=e.wid;return{type:rt,wid:t}}function ct(e){switch(e){case"python":case"python_beta":case"python3":case"python3_beta":case"django":case"pygame":case"tkinter":return r;case"ruby":case"ruby_beta":case"rails":case"sinatra":return s;case"javascript":return a;case"html":return o;case"reactre":case"reactts":case"reactjs":case"gatsbyjs":case"nodejs":case"nodejs_beta":case"nodejs_prybar":case"nextjs":case"express":case"typescript":return i;case"reason_nodejs":return c;default:throw new Error("Unrecognized lang: "+e)}}var lt=Object(R.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=U.a.getCanonicalName(n.repl.language);return $e({},n,{packman:ct(r),language:r})}),(function(e){return $e({},Object(L.b)({installSelected:st,showMessage:F.b,setSearchQuery:it,setSearchResults:at,setSelectedLib:ot},e),{dispatch:e})}))((Ae=Le=function(e){function t(){var e,n;Object(E.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(a)))).onSearch=function(e){Object(H.track)(H.events.PACKAGES_SEARCHED,{query:n.props.query}),n.props.setSearchQuery({query:e,wid:n.props.wid}),n.search(e)},n.search=D()((function(e){var t;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,k.a.awrap(n.props.packman.search(e));case 3:t=r.sent,r.next=10;break;case 6:throw r.prev=6,r.t0=r.catch(0),n.props.showMessage({type:"error",content:"Failed to search: ".concat(r.t0.message),time:2e3}),r.t0;case 10:n.props.setSearchResults({libraries:t,wid:n.props.wid});case 11:case"end":return r.stop()}}),null,null,[[0,6]])}),200),n.resetSearchState=function(){n.props.setSearchQuery({query:"",wid:n.props.wid}),n.props.setSearchResults({libraries:[],wid:n.props.wid})},n}return Object(C.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){Object(H.track)(H.events.LIBRARIES_SEARCHED,{wid:this.props.wid,language:this.props.language})}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedLib,r=t.wid;return Je("div",{style:this.props.style,className:"jsx-3279219524 libsearch"},Je("div",{className:"jsx-3279219524 libsearch-header"},Je("div",{className:"jsx-3279219524 libsearch-heading"},"Packages")),n?Je(Xe,{lib:n,onInstall:function(){return e.props.installSelected({wid:r})},packageInstructions:this.props.packman.instructions(n),onBack:function(){return e.props.setSelectedLib({lib:null,wid:r})}}):Je(He,{resetSearchState:this.resetSearchState,onSearch:this.onSearch,onSelectLibrary:function(t){return e.props.setSelectedLib({lib:t,wid:r})},query:this.props.query,libraries:this.props.libraries}),Je(S.a,{id:"3279219524"},[".libsearch.jsx-3279219524{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".libsearch-header.jsx-3279219524{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-6);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;}",".libsearch-heading.jsx-3279219524{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;padding-right:var(--spacing-1);}"]))}}]),t}(I.Component),Le.defaultProps={style:{}},Re=Ae))||Re,ut=Object(We.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{libraries:[],query:"",selectedLib:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.q:return $e({},e,{},t.initialState);case et:return $e({},e,{libraries:t.libraries});case tt:return $e({},e,{query:t.query});case nt:return $e({},e,{selectedLib:t.lib})}return e},repl:Ye.b,files:Qe.a}),dt=Object(qe.a)((function(e,t,n,r){return n.type===rt?function(n,a){var i,o,s;return k.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=a().workspace[e].plugins[t].state,o=i.repl,s=i.selectedLib){c.next=3;break}throw new Error("Expected library");case 3:return Object(H.track)(H.events.PACKAGES_SELECTED,{package:s.name}),c.next=6,k.a.awrap(n(ct(o.language).install({wid:e,pud:t,lib:s,getFile:function(a){return n(pt({wid:e,pud:t,wait:r,path:a}))}})));case 6:"goval"===U.a.get(o.language).engine&&n({type:P.r,wid:e});case 7:case"end":return c.stop()}}))}:null}));function pt(e){var t=e.wid,n=e.pud,r=e.wait,a=e.path;return function(e,i){var o,s;return k.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(o=i().workspace[t].plugins[n].state.files,(s=o[a])&&!1!==s.loaded){c.next=7;break}return setTimeout(e({type:"LOAD_FILE",wid:t,path:a}),0),c.next=6,k.a.awrap(r((function(e){return("FILE_LOADED"===e.type||"FILE_CACHE_HIT"===e.type)&&e.path===a})));case 6:s=i().workspace[t].plugins[n].state.files[a];case 7:return c.abrupt("return",s);case 8:case"end":return c.stop()}}))}}},gNI2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var l=n||{},b=l.locale||c.default;if(!b.formatDistance)throw new RangeError("locale must contain formatDistance property");var h=(0,r.default)(e,t,l);if(isNaN(h))return"Invalid Date";var g,m,v=(0,s.default)(l);v.addSuffix=Boolean(l.addSuffix),v.comparison=h,h>0?(g=(0,a.default)(t,l),m=(0,a.default)(e,l)):(g=(0,a.default)(e,l),m=(0,a.default)(t,l));var x,w=(0,i.default)(m,g,l),y=m.getTimezoneOffset()-g.getTimezoneOffset(),k=Math.round(w/60)-y;if(k<2)return l.includeSeconds?w<5?b.formatDistance("lessThanXSeconds",5,v):w<10?b.formatDistance("lessThanXSeconds",10,v):w<20?b.formatDistance("lessThanXSeconds",20,v):w<40?b.formatDistance("halfAMinute",null,v):w<60?b.formatDistance("lessThanXMinutes",1,v):b.formatDistance("xMinutes",1,v):0===k?b.formatDistance("lessThanXMinutes",1,v):b.formatDistance("xMinutes",k,v);if(k<45)return b.formatDistance("xMinutes",k,v);if(k<90)return b.formatDistance("aboutXHours",1,v);if(k<u){var E=Math.round(k/60);return b.formatDistance("aboutXHours",E,v)}if(k<d)return b.formatDistance("xDays",1,v);if(k<p){var j=Math.round(k/u);return b.formatDistance("xDays",j,v)}if(k<f)return x=Math.round(k/p),b.formatDistance("aboutXMonths",x,v);if((x=(0,o.default)(m,g,l))<12){var O=Math.round(k/p);return b.formatDistance("xMonths",O,v)}var _=x%12,C=Math.floor(x/12);return _<3?b.formatDistance("aboutXYears",C,v):_<9?b.formatDistance("overXYears",C,v):b.formatDistance("almostXYears",C+1,v)};var r=l(n("zmLq")),a=l(n("2Oix")),i=l(n("GLdP")),o=l(n("2UMc")),s=l(n("VBDh")),c=l(n("IogR"));function l(e){return e&&e.__esModule?e:{default:e}}var u=1440,d=2520,p=43200,f=86400;e.exports=t.default},gPGO:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"reducer",(function(){return Y})),n.d(t,"reciever",(function(){return q}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("eVuF"),b=n.n(f),h=n("2wwy"),g=n.n(h),m=n("ln6h"),v=n.n(m),x=n("pLtp"),w=n.n(x),y=n("vYYK"),k=n("0gYX"),E=n.n(k),j=n("RPwF"),O=n("zgDP"),_=n("3TIX"),C=n("gfZM"),N=n("FzLU"),T=n("ArsQ"),S=n("Qbrf"),I=n("zoC5"),R=n("lixr"),L=n("b518"),A=n("S6NQ"),D=n("YexM"),P=n("h2o0"),F=n("OQjE");function M(e,t){var n=w()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):c.a?o()(e,c()(n)):M(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function H(e){return{type:"EVAL_STARTED",wid:e.wid}}function G(e){return{type:"EVAL_ENDED",wid:e.wid}}function B(e){var t=e.wid,n=e.pud,r=e.wait,a=e.path;return function(e,i){var o,s;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(o=i().workspace[t].plugins[n].state.files,(s=o[a])&&!1!==s.loaded){c.next=7;break}return setTimeout(e({type:"LOAD_FILE",wid:t,path:a}),0),c.next=6,v.a.awrap(r((function(e){return("FILE_LOADED"===e.type||"FILE_CACHE_HIT"===e.type)&&e.path===a})));case 6:s=i().workspace[t].plugins[n].state.files[a];case 7:return c.abrupt("return",s);case 8:case"end":return c.stop()}}))}}function K(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){return a().workspace[t].plugins[n].state.filestate},o=function(){return g()(i()).some((function(e){return e===P.a.Dirty||e===P.a.Syncing}))};case 2:if(!o()){e.next=7;break}return e.next=5,v.a.awrap(r((function(e){var t=e.type;return"FILE_CLEAN"===t||"FILE_ERROR"===t})));case 5:e.next=2;break;case 7:case"end":return e.stop()}}))}}function z(e){var t=e.wid,n=e.pud,r=e.wait;return function(e,a){var i,o,s,c,l,u,d,p,f,b,h,g,m,x,y,k;return v.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:if(i=a().workspace[t].plugins[n].state,o=i.engineHandle,s=i.loadingEngine,c=i.repl,l=i.files,!s){E.next=3;break}return E.abrupt("return");case 3:if(u=N.a.get(o)){E.next=10;break}return E.next=7,v.a.awrap(e(V({wid:t,pud:n})));case 7:return E.next=9,v.a.awrap(e(z({wid:t,pud:n,wait:r})));case 9:return E.abrupt("return");case 10:return e(H({wid:t})),E.next=13,v.a.awrap(e(K({wid:t,pud:n,wait:r})));case 13:return d=function(n){return e(Object(_.ab)({wid:t,message:n}))},p=function(n){return e(Object(_.ab)({wid:t,message:n,type:"error"}))},E.next=17,v.a.awrap(W(e,u.reset()));case 17:if(f=a().workspace[t].plugins[n].state.preferences.infiniteLoopProtection,h=[],"web_project"!==c.language){E.next=32;break}g=0,m=w()(l);case 21:if(!(g<m.length)){E.next=30;break}return x=m[g],E.next=25,v.a.awrap(e(B({wid:t,pud:n,wait:r,path:x})));case 25:y=E.sent,h.push({name:x,content:C.a.from(y.content).toString("utf8")});case 27:g++,E.next=21;break;case 30:E.next=33;break;case 32:b=Object(L.c)(c,{dotty:!1});case 33:return E.next=35,v.a.awrap(W(e,u.runProject(h,{stdout:d,stderr:p,replId:c.id,infiniteLoopProtection:f,url:b}),(function(){return e(G({wid:t}))})));case 35:k=E.sent,e(G({wid:t})),k.error?e(Object(_.ab)({wid:t,message:k.error,type:"error"})):e(Object(_.ab)({wid:t,message:k.data,type:"result"}));case 38:case"end":return E.stop()}}))}}function V(t){var r=t.wid,a=t.pud;return function(t,i){var o,s,c,l,u,d,p,f,h,g;return v.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(t({type:"LOADING_REPLBOX_STARTED",wid:r}),o=i().workspace[r].plugins[a].state,s=o.webviewHandle,c=o.repl,l={useIframe:!0,iframeParent:void 0,track:O.track},!s){m.next=9;break}if(u=N.a.get(s)){m.next=7;break}throw new Error("expected elem");case 7:for(;u.firstChild;)u.removeChild(u.firstChild);l.iframeParent=u;case 9:return m.next=11,v.a.awrap(n.e(41).then(n.t.bind(null,"i5jj",7)).then((function(e){return e.default})));case 11:return d=m.sent,(p=new d(c.language,l)).on("warn",(function(e){return t(Object(_.ab)({wid:r,message:e}))})),f="true"===e.env.STAGING?"/public/secure/":"https://replbox.repl.it/public/secure/","html"===c.language&&(f=Object(L.c)(c,{dotty:!1})+"/__debug_wrapper.html"),h="".concat(window.location.origin,"/public/replbox_lang/").concat(j.version,"/").concat(c.language,".js"),g=!1,m.next=20,v.a.awrap(new b.a((function(e,n){var a=setTimeout((function(){g=!0,Object(O.track)(O.events.LOAD_REPLBOX_ENGINE_TIMED_OUT,{language:c.language}),e()}),5e3),i=window.performance.now();p.load({iframeOrigin:f,languageBundleSrc:h}).then((function(){clearTimeout(a),Object(O.track)(O.events.LOAD_REPLBOX_ENGINE_TIME,{time:window.performance.now()-i}),g||(t({type:"LOADING_REPLBOX_ENDED",wid:r,engineHandle:N.a.getHandle(p)}),e())})).catch((function(e){g||(p.destroy(),clearTimeout(a),n(e))}))})));case 20:if(!g){m.next=23;break}return p.destroy(),m.abrupt("return",t(V({wid:r,pud:a})));case 23:case"end":return m.stop()}}))}}function X(e){var t=e.wid,n=e.pud,r=e.code,a=e.clean;return function(e,i){var o,s,c,l,u,d;return v.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(o=i().workspace[t].plugins[n].state,s=o.engineHandle,!o.loadingEngine){p.next=4;break}return p.abrupt("return");case 4:if(c=N.a.get(s)){p.next=9;break}return p.next=8,v.a.awrap(e(V({wid:t,pud:n})));case 8:return p.abrupt("return");case 9:if(e(H({wid:t})),l=function(n){return e(Object(_.ab)({wid:t,message:n}))},!a){p.next=14;break}return p.next=14,v.a.awrap(W(e,c.reset()));case 14:return u=i().workspace[t].plugins[n].state.preferences.infiniteLoopProtection,p.next=17,v.a.awrap(W(e,c.evaluate(r,{stdout:l,infiniteLoopProtection:u})));case 17:d=p.sent,e(G({wid:t})),d.error?e(Object(_.ab)({wid:t,message:d.error,type:"error"})):e(Object(_.ab)({wid:t,message:d.data,type:"result"}));case 20:case"end":return p.stop()}}))}}function W(e,t,n){return t.catch((function(t){throw e(Object(T.b)({content:t.message,type:"error",time:3e3})),n&&n(t),t}))}var Y=Object(S.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{engine:null,webviewHandle:null,loadingEngine:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.q:return U({},e,{},t.initialState);case"LOADING_REPLBOX_STARTED":return U({},e,{loadingEngine:!0});case"LOADING_REPLBOX_ENDED":return U({},e,{loadingEngine:!1,engineHandle:t.engineHandle});case _.Q:return U({},e,{webviewHandle:t.webviewHandle});case"DESTROY_REPLBOX":return U({},e,{loadingEngine:!1,engineHandle:null});default:return e}},preferences:I.b,repl:R.b,files:A.a,filestate:P.b,runstate:F.a}),q=Object(D.a)((function(e,t,n,r){switch(n.type){case"RUN_REPL":return function(n,a){var i,o,s,c,l,u;return v.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(n({type:"CLEAR_CONSOLE",wid:e}),n({type:"EVAL_SETUP",wid:e}),i=a().workspace[e].plugins[t].state,o=i.repl,s=i.files,"web_project"!==o.language&&"html"!==o.language){d.next=5;break}return d.abrupt("return",n(z({wid:e,pud:t,wait:r})));case 5:return c=w()(s).find((function(e){return e===E.a.getMainFileName(o.language)}))||w()(s)[0],d.next=8,v.a.awrap(n(B({wid:e,pud:t,wait:r,path:c})));case 8:return l=d.sent,u=C.a.from(l.content).toString(),d.abrupt("return",n(X({wid:e,pud:t,code:u,clean:!0})));case 11:case"end":return d.stop()}}))};case"EVAL_CODE":return X({wid:e,pud:t,code:n.code,clean:n.clean});case _.N:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.engineHandle,i=N.a.get(a);if(i){try{i.stop()}catch(o){if(o.message.match(/postmessage/i))return;throw o}e(G({wid:t}))}}}({wid:e,pud:t});case _.b:if("console"===n.kind)return function(e){var t=e.wid,n=e.pud,r=e.input;return function(e,a){var i=a().workspace[t].plugins[n].state,o=i.engineHandle,s=i.runstate,c=N.a.get(o);"running"===s&&c?c.write(r):e(X({wid:t,pud:n,code:r,clean:!1}))}}({wid:e,pud:t,input:n.input});break;case _.n:case _.Q:return V({wid:e,pud:t});case _.B:return function e(t){var n=t.wid,r=t.pud;return function(t,a){var i,o,s;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=a().workspace[n].plugins[r].state,o=i.engineHandle,!i.loadingEngine){c.next=4;break}return c.abrupt("return");case 4:if(s=N.a.get(o)){c.next=10;break}return c.next=8,v.a.awrap(t(V({wid:n,pud:r})));case 8:return t(e({wid:n,pud:r})),c.abrupt("return");case 10:s.refreshWebProject();case 11:case"end":return c.stop()}}))}}({wid:e,pud:t});case _.S:return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].plugins[n].state.engineHandle,i=N.a.get(a);i&&i.destroy(),e({type:"DESTROY_REPLBOX",wid:t}),e({type:"LOADING_REPLBOX_STARTED",wid:t})}}({wid:e,pud:t})}return null}))}.call(this,n("8oxB"))},gdra:function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("XXOK"),g=n.n(h),m=n("vYYK"),v=n("3TIX"),x=n("dI/k"),w=n("dCwI"),y=n("8eab"),k=n("tSgl"),E=n.n(k);function j(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):c.a?o()(e,c()(n)):j(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}function _(e,t){switch(t.type){case w.a:if(!e[t.path])return e;var n=O({},e),r=Object(x.i)(Object(x.d)(t.path));if(1===r.length)return e;var a=!0,i=!1,o=void 0;try{for(var s,c=g()(r);!(a=(s=c.next()).done);a=!0){var l=s.value;if(!n[l].isFolder)throw new Error("Expected all paths to be folders");n[l].isExpanded=!0}}catch(S){i=!0,o=S}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return n;case"CREATE_FILE":case"CREATE_CLIENT_DIRECTORY":var u=t.path,d=O({},Object(y.a)([u]),{},e);return d[u].isFolder="CREATE_CLIENT_DIRECTORY"===t.type,d;case"DELETE_FILE":var p=O({},e),f=t.path;if(!p[f])return p;for(var h=0,v=b()(p);h<v.length;h++){var k=v[h];(k===f||k.startsWith(f+"/"))&&delete p[k]}return p;case"MOVE_FILE":for(var E=O({},e),j=t.path,_=0,C=b()(E);_<C.length;_++){var N=C[_];if(N===j||N.startsWith(j+"/")){var T=N.replace(j,t.to);E[T]=O({},E[N],{path:T}),delete E[N]}}return E;case w.b:return O({},e,Object(m.a)({},t.path,O({},e[t.path],{isExpanded:t.isExpanded})));default:return e}}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tree:{},activeNode:null,creatingNodeType:null,showDropTooltip:!1,treeScrollTop:0},t=arguments.length>1?arguments[1]:void 0;if(t.path&&E()(t.path))return e;switch(t.type){case v.q:return O({},e,{},t.initialState);case v.I:return O({},e,{activeNode:t.activeFile,creatingNodeType:null,tree:_(e.tree,{type:w.a,path:t.activeFile})});case w.a:return O({},e,{activeNode:t.path,tree:_(e.tree,t)});case w.d:return O({},e,{creatingNodeType:t.creatingNodeType});case"DELETE_FILE":return O({},e,{activeNode:t.path===e.activeNode?null:e.activeNode,tree:_(e.tree,t)});case"MOVE_FILE":var n=e.activeNode;return n&&(t.path===n||n.startsWith(t.path+"/"))&&(n=n.replace(t.path,t.to)),O({},e,{activeNode:n,tree:_(e.tree,t)});case"CREATE_FILE":case"CREATE_CLIENT_DIRECTORY":case w.b:return O({},e,{tree:_(e.tree,t)});case w.e:return O({},e,{showDropTooltip:t.show});case w.c:return O({},e,{treeScrollTop:t.scrollTop});default:return e}},N=n("Qbrf"),T=n("lixr"),S=n("NveQ"),I=n("0iUn"),R=n("sLSF"),L=n("MI3g"),A=n("a7VT"),D=n("Tit0"),P=n("MX0m"),F=n.n(P),M=n("q1tI"),U=n.n(M),H=n("/MKj"),G=n("A3V5"),B=n.n(G),K=n("9/5/"),z=n.n(K),V=n("ln6h"),X=n.n(V),W=n("gfZM"),Y=n("0gYX"),q=n.n(Y),Q=n("AT/M"),J=n("IYwU"),Z=n("TSYQ"),$=n.n(Z),ee=n("9CwF"),te=n("LOQN"),ne=n("85VF"),re=n("EQ2k"),ae=M.createElement;function ie(e){var t=e.menuItems,n=e.closeCallback,r=e.style;return ae("ul",{style:r,className:"jsx-3014306083 contextMenu"},ae(F.a,{id:"3014306083"},[".contextMenu.jsx-3014306083{position:absolute;z-index:999;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:130px;border:1px solid var(--color-control-2);background-color:var(--color-background-1);color:var(--color-foreground-1);font-size:var(--font-size-desktop-text-small);border-radius:var(--border-radius-1);outline:0;list-style:none;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);}",".contextMenu-menuItem.jsx-3014306083{color:var(--color-foreground-1);padding:var(--spacing-1);margin:var(--spacing-half);border-radius:var(--border-radius-1);font-weight:var(--font-weight-regular);cursor:pointer;line-height:initial;text-align:initial;}",".contextMenu-menuItem-disableHover.jsx-3014306083{color:inherit !important;background-color:transparent !important;}",".contextMenu-menuItem.jsx-3014306083:hover{background-color:var(--color-control-3);}",".contextMenu-menuItem-delete.jsx-3014306083{color:var(--color-negative-1);}",".contextMenu-menuItem-delete.jsx-3014306083:hover{color:var(--color-white);background-color:var(--color-negative-1);}",".contextMenu-menuItem-delete.jsx-3014306083:active,.contextMenu-menuItem.jsx-3014306083:active{background-color:var(--color-control-2);}"]),t.map((function(e,t){var r=e.label,a=e.onClick,i=e.isDelete,o=e.disableHover;return ae("li",{key:t,onMouseDown:function(e){a&&(e.stopPropagation(),e.preventDefault(),a(e),n&&n(e))},className:"jsx-3014306083 "+($()("contextMenu-menuItem",{"contextMenu-menuItem-delete":i,"contextMenu-menuItem-disableHover":o})||"")},r)})))}var oe=M.createElement,se=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(a)))).state={showContextMenu:!1},n.onWrapperClick=function(e){e.stopPropagation()},n.handleToggleContextMenu=function(e){e&&e.preventDefault();var t=!n.state.showContextMenu;t?document.body&&n._es.listen(document.body,"mousedown",n.handleBodyClick):n.removeCloseListener(),n.setState({showContextMenu:t}),n.props.onToggle&&n.props.onToggle(n.state.showContextMenu)},n.handleBodyClick=function(e){n.removeCloseListener(),n._options&&e.target instanceof window.Node&&n._options.contains(e.target)||n.setState({showContextMenu:!1})},n.removeCloseListener=function(){document.body&&document.body.removeEventListener("mousedown",n.handleBodyClick)},n}return Object(D.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this._es=new te.a}},{key:"componentWillUnmount",value:function(){this._es.destroy()}},{key:"render",value:function(){var e=this,t=this.props.isActive;return oe("div",{ref:function(t){return e._options=t},onClick:this.onWrapperClick,className:F.a.dynamic([["2928035278",[this.props.inheritColor?"inherit":re.a.gray70,this.props.inheritColor?"inherit":re.a.blueGray]]])},oe(F.a,{id:"2928035278",dynamic:[this.props.inheritColor?"inherit":re.a.gray70,this.props.inheritColor?"inherit":re.a.blueGray]},[".options-image-wrapper.__jsx-style-dynamic-selector{position:relative;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".options-image.__jsx-style-dynamic-selector{height:var(--spacing-2);width:var(--spacing-2);color:".concat(this.props.inheritColor?"inherit":re.a.gray70,";}"),".options-image-wrapper.__jsx-style-dynamic-selector:hover .options-image.__jsx-style-dynamic-selector{color:".concat(this.props.inheritColor?"inherit":re.a.blueGray,";}"),".options-image-wrapper.__jsx-style-dynamic-selector a{border-bottom:none !important;}"]),oe("div",{style:this.props.styles.imageWrapper,onClick:this.handleToggleContextMenu,className:F.a.dynamic([["2928035278",[this.props.inheritColor?"inherit":re.a.gray70,this.props.inheritColor?"inherit":re.a.blueGray]]])+" options-image-wrapper"},oe("div",{className:F.a.dynamic([["2928035278",[this.props.inheritColor?"inherit":re.a.gray70,this.props.inheritColor?"inherit":re.a.blueGray]]])+" options-image"},oe(ne.a,null)),this.state.showContextMenu&&t&&oe(ie,{closeCallback:this.handleToggleContextMenu,style:this.props.styles.contextMenu,menuItems:this.props.menuItems})))}}]),t}(M.Component);se.defaultProps={styles:{},isActive:!0};var ce=se,le=n("+bZ2"),ue=n("6wo1"),de=n("8gH+"),pe=n("KH4j"),fe=n.n(pe),be=n("XpjT"),he=n.n(be),ge=n("UWUU"),me=n("VwSA"),ve=M.createElement,xe=function(e){var t=e.isFolder,n=e.isGenerated,r=e.isExpanded,a=e.isActive,i=e.language,o=function(){return n?ve("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"18px",width:"18px"}},ve(de.a,null)):t?ve(fe.a,{filled:a}):me.a[i]?ve(ge.LanguageIcon,{language:i,fill:a?"var(--color-white)":me.a[i]}):ve(he.a,{filled:a})};return ve("div",{className:F.a.dynamic([["3200676598",[a?"var(--color-white)":"var(--color-foreground-2)"]]])+" node-row-icon-container"},t?ve(M.Fragment,null,ve(B.a,{size:3,color:"transparent",borderColor:"currentColor",borderWidth:1,direction:r?"bottom":"right",style:{marginLeft:"".concat(r?"-8px":"-4px"),marginBottom:"".concat(r?"2px":"0")}}),ve("div",{className:F.a.dynamic([["3200676598",[a?"var(--color-white)":"var(--color-foreground-2)"]]])+" node-row-icon"},o())):ve("div",{className:F.a.dynamic([["3200676598",[a?"var(--color-white)":"var(--color-foreground-2)"]]])+" node-row-icon"},o()),ve(F.a,{id:"3200676598",dynamic:[a?"var(--color-white)":"var(--color-foreground-2)"]},[".node-row-icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}",".node-row-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:24px;width:24px;margin-right:10px;color:".concat(a?"var(--color-white)":"var(--color-foreground-2)",";}")]))},we=M.createElement,ye=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(a)))).state={title:n.props.initialValue||"",error:""},n.handleInputKeyDown=function(e){13===e.keyCode?n.handleSubmit():27===e.keyCode&&n.props.onCancel()},n.handleSubmit=function(){n.state.error||n._didSubmit||(n.state.title&&n.state.title!==n.props.initialValue?(n._didSubmit=!0,n.props.onSubmit(n.state.title)):n.props.onCancel())},n.handleBlur=function(){n.state.error?n.props.onCancel():n.handleSubmit()},n.handleChange=function(e){n.setState({title:e.currentTarget.value});var t=e.currentTarget.value,r=Object(x.g)({fileName:t,files:n.props.siblingNames,initialValue:n.props.initialValue});n.setState({error:r})},n._didSubmit=!1,n}return Object(D.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){if(this.props.initialValue){var e=this.state.title.lastIndexOf(".");-1===e&&(e=this.state.title.length),this._inputRef&&this._inputRef.setSelectionRange(0,e)}}},{key:"render",value:function(){var e=this,t=this.props.indent;return we("div",{className:"jsx-2218844096 "+F.a.dynamic([["3968795444",[t]]])+" "+($()("edit-node",{"edit-node-error":this.state.error})||"")},we("div",{className:"jsx-2218844096 "+F.a.dynamic([["3968795444",[t]]])+" edit-node-input-wrapper"},we("div",{style:{marginTop:"1px",marginLeft:"-1px"},className:"jsx-2218844096 "+F.a.dynamic([["3968795444",[t]]])},we(xe,{isFolder:this.props.isFolder,isGenerated:this.props.isGenerated,isExpanded:!1,language:this.props.language})),we("input",{ref:function(t){return e._inputRef=t},autoFocus:!0,onBlur:this.handleBlur,onKeyDown:this.handleInputKeyDown,value:this.state.title,onChange:this.handleChange,className:"jsx-2218844096 "+F.a.dynamic([["3968795444",[t]]])+" edit-node-input"})),this.state.error&&we("div",{className:"jsx-2218844096 "+F.a.dynamic([["3968795444",[t]]])+" edit-node-error-tooltip"},this.state.error),we(F.a,{id:"3968795444",dynamic:[t]},[".edit-node-input-wrapper.__jsx-style-dynamic-selector{padding-left:".concat(t,"px;}"),".edit-node-input.__jsx-style-dynamic-selector{background:transparent;color:var(--color-foreground-1);}"]),we(F.a,{id:"2218844096"},[".edit-node.jsx-2218844096,.edit-node-error.jsx-2218844096{position:relative;padding:2px var(--spacing-1) 0;width:100%;height:var(--spacing-4);color:var(--color-foreground-2);background:transparent;}",".edit-node-input-wrapper.jsx-2218844096{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100%;height:100%;border:1px solid var(--color-primary-1);border-radius:var(--border-radius-1);}",".edit-node-error.jsx-2218844096 .edit-node-input-wrapper.jsx-2218844096{border:1px solid var(--color-negative-1);}",".edit-node-input.jsx-2218844096{border:0;outline:0;width:100%;height:100%;font-size:var(--font-size-desktop-text-small);}",".edit-node-error-tooltip.jsx-2218844096{position:absolute;z-index:1;background-color:var(--color-background-1);border:1px solid var(--color-border);border-radius:var(--border-radius-1);box-shadow:var(--shadow-1);color:var(--color-negative-1);top:calc(100% + var(--spacing-half));width:calc(100% - var(--spacing-2));padding:var(--spacing-2);font-size:var(--font-size-desktop-text-small);}"]))}}]),t}(M.Component),ke=n("IjuC"),Ee=n("YuJD"),je=M.createElement,Oe=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(a)))).state={isEditing:!1,isDeleting:!1,isHovered:!1},n.handleSetActiveNode=function(e){var t=n.props,r=t.isFolder,a=t.onToggleExpand,i=t.onSetActive,o=t.onShowEditor;if(r)return a(),void i();o(Object(Ee.b)(e))},n.handleConfirmRename=function(e){n.setState({isEditing:!1}),n.props.onRename(e)},n.handleRightClick=function(e){n.optionsRef&&n.optionsRef.handleToggleContextMenu(e)},n.getOptionsMenuItems=function(){var e=[];if(n.props.isFolder)return n.props.allowMove&&e.push({label:"Rename",onClick:function(){return n.setState({isEditing:!0})}}),(n.props.allowMove||n.props.allowDelete)&&e.push({label:"Add file",onClick:n.props.onNewNode.bind(Object(Q.a)(n),"file")},{label:"Add folder",onClick:n.props.onNewNode.bind(Object(Q.a)(n),"folder")}),n.props.allowDelete&&e.push({label:"Delete",onClick:function(){return n.setState({isDeleting:!0})},isDelete:!0}),e;n.props.allowMove&&e.push({label:"Rename",onClick:function(){return n.setState({isEditing:!0})}}),e.push({label:"Open tab",onClick:function(){return n.props.onShowEditor(!0)}});var t=window.location.href,r=t.includes("#")?t.indexOf("#"):t.length,a="".concat(t.slice(0,r),"#").concat(n.props.path);return e.push({label:"Copy link",onClick:function(){return Object(ke.a)(a)}}),n.props.allowDelete&&e.push({label:"Delete",onClick:function(){return n.setState({isDeleting:!0})},isDelete:!0}),e},n}return Object(D.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this,t=16*Object(x.e)(this.props.path),n=this.props.isFolder?void 0:Object(x.a)(this.props.path);if(this.state.isEditing)return je("div",null,je(ye,{onSubmit:this.handleConfirmRename,onCancel:function(){return e.setState({isEditing:!1})},siblingNames:this.props.siblingNames,initialValue:Object(x.b)(this.props.path),isFolder:this.props.isFolder,isExpanded:this.props.isExpanded,indent:t,language:n}));var r=this.getOptionsMenuItems();return je("div",{className:"jsx-2116634848 "+F.a.dynamic([["4246932256",[t]]])+" node-row-wrapper"},this.props.connectDragSource(je("div",{onClick:this.handleSetActiveNode,onMouseEnter:function(){return e.setState({isHovered:!0})},onMouseLeave:function(){return e.setState({isHovered:!1})},onContextMenu:this.handleRightClick,className:"jsx-2116634848 "+F.a.dynamic([["4246932256",[t]]])+" "+($()("node-row",{"node-row-active":this.props.isActive})||"")},je("div",{className:"jsx-2116634848 "+F.a.dynamic([["4246932256",[t]]])+" node-row-label"},je(xe,{isFolder:this.props.isFolder,isGenerated:this.props.isGenerated,isExpanded:this.props.isExpanded,isActive:this.props.isActive,isHovered:this.state.isHovered,language:n}),je("span",{title:this.props.path,className:"jsx-2116634848 "+F.a.dynamic([["4246932256",[t]]])+" node-row-name"},Object(x.b)(this.props.path))),r.length>0&&je("div",{className:"jsx-2116634848 "+F.a.dynamic([["4246932256",[t]]])+" node-row-options"},je(ce,{ref:function(t){return e.optionsRef=t},styles:{contextMenu:{top:"80%",right:"0"}},menuItems:r,inheritColor:!0,isActive:this.props.isActive,onToggle:function(){e.props.onSetActive()}})),this.state.isDeleting&&je(le.a,{hideModal:function(){return e.setState({isDeleting:!1})}},je(ue.a,{name:Object(x.b)(this.props.path),entityType:this.props.isFolder?"folder":"file",delete:function(){return e.props.onDelete()},hideModal:function(){return e.setState({isDeleting:!1})}})))),je(F.a,{id:"2116634848"},[".node-row-wrapper.jsx-2116634848{padding:2px var(--spacing-1) 0;}",".node-row.jsx-2116634848{color:var(--color-foreground-2);background:transparent;border-radius:var(--border-radius-1);}",".node-row.jsx-2116634848:hover{color:var(--color-foreground-1);background:var(--color-control-3);}",".node-row.jsx-2116634848:active{background:var(--color-control-2);}",".node-row-options.jsx-2116634848{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:var(--color-foreground-4);padding-right:var(--spacing-half);opacity:0;}",".node-row-options.jsx-2116634848:hover{color:var(--color-foreground-3);}",".node-row.jsx-2116634848:hover .node-row-options.jsx-2116634848{opacity:1;}",".node-row-active.jsx-2116634848 .node-row-options.jsx-2116634848{color:var(--color-white);opacity:1;}",".node-row-active.jsx-2116634848{color:var(--color-white) !important;background:var(--color-primary-1) !important;font-weight:var(--font-weight-medium);}"]),je(F.a,{id:"4246932256",dynamic:[t]},[".node-row.__jsx-style-dynamic-selector{font-size:var(--font-size-desktop-text-small);height:var(--spacing-4);line-height:var(--spacing-4);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".node-row-label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:".concat(t,"px;max-width:calc(100% - var(--spacing-2));}"),".node-row-name.__jsx-style-dynamic-selector{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}"]))}}]),t}(M.Component),_e=Object(J.DragSource)(ee.a.FileNode,{canDrag:function(e){return e.allowMove},beginDrag:function(e){return e.isExpanded&&e.onToggleExpand(),e.onSetActive(),{path:e.path,isFolder:e.isFolder}}},(function(e){return{connectDragSource:e.dragSource()}}))(Oe),Ce=n("9Jkg"),Ne=n.n(Ce),Te=n("d04V"),Se=n.n(Te),Ie=n("eVuF"),Re=n.n(Ie),Le=n("qJlv"),Ae=n("4byT"),De=M.createElement,Pe=function(e){return(e=e.map(x.b)).length<2?e[0]:"".concat(e.slice(0,-1).join(", ")," and ").concat(e.slice(-1))},Fe=function(e){return De(le.a,{hideModal:function(){return e.hideModal()}},De(Ae.a,{hideOnSubmit:!0,deleteStyle:!0,submitLabel:"Replace",hideModal:function(){},onSubmit:e.onSubmit},De("div",null,"Overwrite?"),De("div",{style:{maxWidth:"450px"}},Pe(e.filePaths)," already exist in destination, are you sure you want overwrite them?",De("br",null),De("br",null),"This action cannot be reversed.")))},Me=M.createElement,Ue=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(a)))).state={showNativeOverwrite:!1,nativeOverwrite:[],showNodeOverwrite:!1,nodeOverwrite:{fromPath:null,toPath:null,isFolder:null}},n.handleDropNative=function(){var e=n.props,t=e.path,r=e.getAllPaths,a=e.draggedItem,i=e.onNewFile;if(!(a.dirContent instanceof Re.a))throw new Error("Expected dirContent promise");a.dirContent.then((function(e){var a,o,s,c,l,u,d,p,f,b,h,m;return X.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return a=Se()(e).filter((function(e){return!!e})),v.next=3,X.a.awrap(Re.a.all(a.map((function(e){return He(e)}))));case 3:for(o=v.sent,s=[],c=!0,l=!1,u=void 0,v.prev=8,d=g()(o);!(c=(p=d.next()).done);c=!0)f=p.value,b=f.name,h=f.result,m=(""===t?"":t+"/")+b,r().includes(m)?s.push({path:m,content:h}):i(m,h);v.next=16;break;case 12:v.prev=12,v.t0=v.catch(8),l=!0,u=v.t0;case 16:v.prev=16,v.prev=17,c||null==d.return||d.return();case 19:if(v.prev=19,!l){v.next=22;break}throw u;case 22:return v.finish(19);case 23:return v.finish(16);case 24:s.length>0&&n.setState({showNativeOverwrite:!0,nativeOverwrite:s});case 25:case"end":return v.stop()}}),null,null,[[8,12,16,24],[17,,19,23]])}))},n.handleDropNode=function(){var e=n.props,t=e.path,r=e.onMove,a=e.getAllPaths,i=e.draggedItem;if(!i.path)throw new Error("Expected path in dragged node");var o=i.path,s=i.isFolder,c=(""===t?"":t+"/")+Object(x.b)(o);o!==c&&(a().includes(c)?n.setState({showNodeOverwrite:!0,nodeOverwrite:{fromPath:o,toPath:c,isFolder:s}}):r(o,c,s))},n.handleNodeOverwrite=function(){var e=n.state.nodeOverwrite,t=e.toPath,r=e.fromPath,a=e.isFolder;if(n.setState({showNodeOverwrite:!1,nodeOverwrite:{fromPath:null,toPath:null,isFolder:null}}),null===r||null===t||null===a)throw new Error("Expected fromPath, toPath and isFolder in state got ".concat(Ne()(r),", ").concat(Ne()(t)," and ").concat(Ne()(a)));n.props.onMove(r,t,a)},n.handleNativeOverwrite=function(){var e=n.state.nativeOverwrite;n.setState({showNativeOverwrite:!1,nativeOverwrite:[]}),e.forEach((function(e){var t=e.path,r=e.content;n.props.onDelete(t),n.props.onNewFile(t,r)}))},n}return Object(D.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.connectDropTarget,r=t.children,a=t.isOver,i=t.canDrop;return Me(M.Fragment,null,n(Me("div",{style:{backgroundColor:a&&i?"var(--color-primary-transparent-2)":"transparent",height:"100%"}},a,r,this.state.showNodeOverwrite&&Me(Fe,{filePaths:[this.state.nodeOverwrite.toPath],hideModal:function(){return e.setState({showNodeOverwrite:!1,nodeOverwrite:{fromPath:null,toPath:null,isFolder:null}})},onSubmit:this.handleNodeOverwrite}),this.state.showNativeOverwrite&&Me(Fe,{filePaths:this.state.nativeOverwrite.map((function(e){return e.path})),hideModal:function(){return e.setState({showNodeOverwrite:!1,nativeOverwrite:[]})},onSubmit:this.handleNativeOverwrite}))))}}]),t}(M.Component),He=function(e){return new Re.a((function(t,n){var r=new window.FileReader;r.onload=function(n){t({name:e.path||e.name,result:W.a.from(n.target.result)})},r.onerror=n,r.readAsArrayBuffer(e)}))},Ge=Object(J.DropTarget)([ee.a.FileNode,Le.b.FILE],{drop:function(e,t,n){t.didDrop()||t.canDrop()&&(t.getItemType()!==Le.b.FILE?n.handleDropNode():n.handleDropNative())},canDrop:function(e,t){if(t.getItemType()===Le.b.FILE)return!0;var n=e.path,r=t.getItem().path;return n!==r&&!((""===n?"":n+"/")+Object(x.b)(r)).startsWith(r+"/")},hover:function(e,t){t.canDrop()&&e.onHover(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop(),draggedItem:t.getItem()}}))(Ue),Be=n("GRpk"),Ke=U.a.createElement,ze=function(e){var t=e.numRows,n=e.showIcons,r=e.indent,a=void 0===r?0:r;return Ke("div",{className:F.a.dynamic([["960328447",[a,a]]])+" loader"},n&&Ke("div",{className:F.a.dynamic([["960328447",[a,a]]])+" icons"},Array(t).fill(null).map((function(e,t){return Ke("div",{key:t,className:F.a.dynamic([["960328447",[a,a]]])+" row"},Ke("div",{className:F.a.dynamic([["960328447",[a,a]]])+" icon-wrap"},Ke(he.a,null)))}))),Ke("div",{className:F.a.dynamic([["960328447",[a,a]]])+" wrap"},Ke(Be.a,{primaryColor:"var(--color-control-1)",secondaryColor:"var(--color-control-3)",height:32*t,width:250,className:"content-loader",uniquekey:"fileTreeLoader"},Array(t).fill(null).map((function(e,t){return Ke(U.a.Fragment,{key:t},Ke("rect",{x:"0",y:"".concat(4+32*t),rx:"3",ry:"3",width:"".concat(100+(n=t,n%2!==0?-10*n:10*n)),height:"16",className:F.a.dynamic([["960328447",[a,a]]])}));var n})))),Ke(F.a,{id:"960328447",dynamic:[a,a]},[".loader.__jsx-style-dynamic-selector{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;padding:2px var(--spacing-2) 0 ".concat(a,"px;}"),".icons.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".row.__jsx-style-dynamic-selector{height:var(--spacing-4);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-left:".concat(a,"px;}"),".icon-wrap.__jsx-style-dynamic-selector{height:var(--spacing-3);width:var(--spacing-3);color:var(--color-foreground-3);}",".wrap.__jsx-style-dynamic-selector{width:100%;overflow:hidden;padding:var(--spacing-half) var(--spacing-1);}",".wrap.__jsx-style-dynamic-selector>svg{min-width:150px;width:250px;}"]))},Ve=n("JOwT"),Xe=n("7FmB"),We=n.n(Xe),Ye=M.createElement;function qe(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Qe=600,Je=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(a)))).handleConfirmNewNode=function(e){var t,r,a,i,o,s;return X.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=n.props,r=t.wid,a=t.pud,i=t.path,o=t.creatingNodeType,s=(""===i?"":i+"/")+e,n.handleNodeCreationEnd(),"folder"!==o){c.next=8;break}return n.props.createDirectory({wid:r,path:s}),n.props.setActiveNode({wid:r,pud:a,path:s}),c.abrupt("return");case 8:n.props.createFile({wid:r,path:s,content:W.a.from("")}),n.props.openFile({wid:r,path:s});case 10:case"end":return c.stop()}}))},n.handleNodeCreationEnd=function(){var e=n.props,t=e.wid,r=e.pud;n.props.setIsCreating({wid:t,pud:r,creatingNodeType:!1})},n.handleRename=function(e){var t=n.props,r=t.path,a=t.isFolder,i=(""===Object(x.d)(r)?"":Object(x.d)(r)+"/")+e;n.handleMove(r,i,a)},n.handleMove=function(e,t,r){var a=n.props,i=a.wid,o=a.pud;r?n.props.moveDirectory({wid:i,pud:o,path:e,to:t}):n.props.moveFile({wid:i,pud:o,path:e,to:t})},n.handleDelete=function(){var e=n.props,t=e.wid,r=e.pud,a=e.path;e.isFolder?n.props.deleteDirectory({wid:t,pud:r,path:a}):n.props.deleteFile({wid:t,path:a})},n.delayTimer=null,n.renderRow=function(){if(n.props.isRoot)return null;var e=n.props,t=e.wid,r=e.pud,a=e.path,i=e.isExpanded,o=e.isActive,s=e.isFolder,c=e.isGenerated,l=e.siblingNames,u=e.allowMove,d=e.allowDelete;return Ye(_e,{key:"row-"+a,path:a,isExpanded:i,isGenerated:c,isActive:o,isFolder:s,siblingNames:l,onToggleExpand:function(){return n.props.setExpanded({wid:t,pud:r,path:a,isExpanded:!i})},onSetActive:function(){return n.props.setActiveNode({wid:t,pud:r,path:a})},onShowEditor:function(e){return n.props.openFile({wid:t,path:a,newTab:e})},onRename:n.handleRename,onDelete:n.handleDelete,onNewNode:function(e){return n.props.initiateNodeCreation({wid:t,pud:r,targetNodePath:a,nodeType:e})},allowMove:u,allowDelete:d})},n.renderChild=function(e,t){return Ye("li",{key:e},Ye($e,{path:e,pud:n.props.pud,wid:n.props.wid,isGenerated:t}))},n.handleRowCreate=function(e){return n.props.initiateNodeCreation({wid:n.props.wid,pud:n.props.pud,targetNodePath:n.props.path,nodeType:e})},n.renderEmptyRow=function(e){return Ye("div",{className:F.a.dynamic([["1828211438",[e]]])+" empty-node-row"},"Add a ",Ye(We.a,{size:"small",border:!1,onClick:function(){return n.handleRowCreate("file")}},"file"),"  or ",Ye(We.a,{size:"small",border:!1,onClick:function(){return n.handleRowCreate("folder")}},"folder"),Ye(F.a,{id:"1828211438",dynamic:[e]},[".empty-node-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:var(--spacing-4);color:var(--color-foreground-2);font-size:var(--font-size-desktop-text-small);padding-left:".concat(e,"px;padding-top:2px;overflow:hidden;white-space:nowrap;}")]))},n.handleOnHover=function(e){n.props.isExpanded||n.delayTimer||(n.delayTimer=setTimeout((function(){n.delayTimer=null,e.isOver()&&n.props.setExpanded({wid:n.props.wid,pud:n.props.pud,path:n.props.path,isExpanded:!0})}),Qe))},n}return Object(D.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isActive&&this.props.creatingNodeType,n=16*this.props.path.split("/").length,r=this.props.isRoot?n:n+16,a=[],i=[],o=!0,s=!1,c=void 0;try{for(var l,u=g()(this.props.childPaths);!(o=(l=u.next()).done);o=!0){var d=l.value;Ve.a.includes(d)?i.push(d):a.push(d)}}catch(w){s=!0,c=w}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}var p=null;this.props.isExpanded&&!this.props.isFolderLoaded?p=Ye("span",null,Ye(ze,{numRows:this.props.isRoot?5:1,indent:r,showIcons:this.props.isRoot})):this.props.isExpanded&&(p=Ye("ul",{className:"jsx-4094013870 tree-node-child-list"},a.map((function(t){return e.renderChild(t,!1)})),0===a.length&&!t&&this.renderEmptyRow(r),t&&Ye("li",{className:"jsx-4094013870"},Ye(ye,{onSubmit:this.handleConfirmNewNode,onCancel:this.handleNodeCreationEnd,siblingNames:this.props.childPaths.map(x.b),isFolder:"folder"===this.props.creatingNodeType,isExpanded:!1,indent:r})),i.length>0?Ye(M.Fragment,null,Ye("li",{className:"jsx-4094013870 packager-files-heading"},"Packager files"),i.map((function(t){return e.renderChild(t,!1)}))):null,Ye(F.a,{id:"4094013870"},[".tree-node-child-list.jsx-4094013870{list-style:none;}",".packager-files-heading.jsx-4094013870{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;height:var(--spacing-5);padding:var(--spacing-2) var(--spacing-1) var(--spacing-2) var(--spacing-2);position:relative;color:var(--color-foreground-1);width:100%;text-align:left;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);white-space:nowrap;}"])));var f=Ye(M.Fragment,null,this.renderRow(),p);if(this.props.isFolder){var h=this.props,m=h.wid,v=h.pud;return Ye(Ge,{path:this.props.path,onDelete:function(t){var n=e.props.getTree(m,v);n[t]&&(n[t].isFolder?e.props.deleteDirectory({wid:m,pud:v,path:t}):e.props.deleteFile({wid:m,path:t}))},onMove:function(t,n,r){e.handleMove(t,n,r),e.props.setActiveNode({wid:m,pud:v,path:n})},onNewFile:function(t,n){var r=e.props.getTree(e.props.wid,e.props.pud),a=Object(x.i)(Object(x.d)(t)),i=!0,o=!1,s=void 0;try{for(var c,l=g()(a);!(i=(c=l.next()).done);i=!0){var u=c.value,d=r[u];d?d.isFolder||(e.props.deleteFile({wid:m,path:u}),e.props.createDirectory({wid:m,path:u})):e.props.createDirectory({wid:m,path:u})}}catch(w){o=!0,s=w}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}e.props.createFile({wid:m,path:t,content:n})},onHover:this.handleOnHover,getAllPaths:function(){return b()(e.props.getTree(e.props.wid,e.props.pud))}},f)}return f}}]),t}(M.Component);var Ze=function(e,t){return e===t||t.startsWith(e+"/")},$e=Object(H.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state,r=n.tree,i=n.activeNode,s=n.creatingNodeType,l=n.repl,d=n.dirs,p=r[t.path],f=q.a.getMainFileName(l.language),h=b()(r),g=Object(y.b)(h,t.path).sort((function(e,t){if(Ze(e,f))return-1;if(Ze(t,f))return 1;var n=r[e],a=r[t];return a.isFolder&&!n.isFolder?1:n.isFolder&&!a.isFolder?-1:e.localeCompare(t)})),v=[];r[Object(x.d)(t.path)]&&(v=Object(y.b)(h,Object(x.d)(t.path)).map(x.b));var w=l.isOwner&&q.a.supportsFiles(l.language);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):c.a?o()(e,c()(n)):qe(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},p,{childPaths:g,isActive:i===t.path,creatingNodeType:s,siblingNames:v,allowMove:w&&!Ze(t.path,f)&&".env"!==t.path,allowDelete:w&&!Ze(t.path,f),langMain:f,isFolderLoaded:p.isFolder&&d[t.path].loaded})}),{createDirectory:w.f,setExpanded:w.n,setActiveNode:w.m,setIsCreating:w.o,openFile:v.bb,createFile:w.g,deleteFile:w.i,deleteDirectory:w.h,moveFile:w.l,moveDirectory:w.k,initiateNodeCreation:w.j,getTree:function(e,t){return function(n,r){return r().workspace[e].plugins[t].state.tree}}},null,{areStatePropsEqual:function(e,t){return e.path===t.path&&(e.isExpanded===t.isExpanded&&(e.isFolder===t.isFolder&&(e.creatingNodeType===t.creatingNodeType&&(e.isActive===t.isActive&&(e.isEditing===t.isEditing&&(e.allowMove===t.allowMove&&(e.allowDelete===t.allowDelete&&(e.langMain===t.langMain&&((!e.isExpanded||e.childPaths.toString()===t.childPaths.toString())&&((!e.isEditing||e.siblingNames.toString()===t.siblingNames.toString())&&e.isFolderLoaded===t.isFolderLoaded))))))))))}})(Je),et=$e,tt=M.createElement,nt=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(a)))).state={folderUploadAllowed:!1,showMenu:!1,menuPosition:{left:0,top:0},showOverwriteModal:!1,overwriteFiles:[]},n.handleToggleOptions=function(){var e=!n.state.showMenu;if(!e)return n.removeCloseListener(),n.setState({showMenu:e}),void n.props.setShowMenu(e);if(n._rootRef){var t=n._rootRef.getBoundingClientRect();n.setState({showMenu:e,menuPosition:{top:t.top+37,left:t.right-100}},(function(){document.body&&n._es.listen(document.body,"mousedown",n.handleBodyClick)})),n.props.setShowMenu(e)}},n.handleBodyClick=function(e){n.removeCloseListener(),n._rootRef&&e.target instanceof window.Node&&n._rootRef.contains(e.target)||(n.setState({showMenu:!1}),n.props.setShowMenu(!1))},n.handleFilesChosen=function(e){var t,r,a,i,o,s,c,l,u,d,p;return X.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(t=e&&e.files?e.files:null){f.next=3;break}return f.abrupt("return");case 3:return f.next=5,X.a.awrap(Re.a.all(Se()(t).filter(Boolean).map((function(e){return rt(e)}))));case 5:for(r=f.sent,a=[],i=!0,o=!1,s=void 0,f.prev=10,c=g()(r);!(i=(l=c.next()).done);i=!0)u=l.value,d=u.name,p=u.result,n.props.allPaths.includes(d)?a.push({path:d,content:p}):n.props.onNewFile(d,p);f.next=18;break;case 14:f.prev=14,f.t0=f.catch(10),o=!0,s=f.t0;case 18:f.prev=18,f.prev=19,i||null==c.return||c.return();case 21:if(f.prev=21,!o){f.next=24;break}throw s;case 24:return f.finish(21);case 25:return f.finish(18);case 26:a.length>0&&n.setState({showOverwriteModal:!0,overwriteFiles:a});case 27:case"end":return f.stop()}}),null,null,[[10,14,18,26],[19,,21,25]])},n.handleOverwrite=function(){var e=n.state.overwriteFiles;n.setState({showOverwriteModal:!1,overwriteFiles:[]}),e.forEach((function(e){var t=e.path,r=e.content;n.props.onDeleteFile(t),n.props.onNewFile(t,r)}))},n.removeCloseListener=function(){document.body&&document.body.removeEventListener("mousedown",n.handleBodyClick)},n}return Object(D.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this._es=new te.a;var e=document.createElement("input");("webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e)&&this.setState({folderUploadAllowed:!0})}},{key:"componentWillUnmount",value:function(){this._es.destroy()}},{key:"render",value:function(){var e=this,t=this.state.menuPosition;return tt("div",{ref:function(t){return e._rootRef=t},className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])},tt("div",{onClick:this.handleToggleOptions,className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-img-wrapper"},tt("div",{className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-img"},tt(ne.a,null))),this.state.showMenu&&tt("div",{className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-menu"},tt("div",{onClick:function(){e._fileInput&&(e._fileInput.click(),e.handleToggleOptions())},className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-item"},"Upload file"),this.state.folderUploadAllowed&&tt("div",{onClick:function(){e._folderInput&&(e._folderInput.click(),e.handleToggleOptions())},className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-item"},"Upload folder"),tt("a",{href:this.props.downloadUrl,onClick:this.handleToggleOptions,target:"_blank",download:!0,className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-item"},"Download as zip"),tt("div",{className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])+" file-tree-options-protip"},tt("span",{className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])},"PROTIP:")," drag and drop files or folders to upload!")),tt("input",{ref:function(t){return e._fileInput=t},type:"file",style:{display:"none"},onChange:this.handleFilesChosen.bind(this,this._fileInput),multiple:!0,accept:"*",className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])}),tt("input",{ref:function(t){return e._folderInput=t},type:"file",style:{display:"none"},onChange:this.handleFilesChosen.bind(this,this._folderInput),webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-1088604454 "+F.a.dynamic([["1797909198",[t.top,t.left]]])}),this.state.showOverwriteModal&&tt(Fe,{filePaths:this.state.overwriteFiles.map((function(e){return e.path})),hideModal:function(){return e.setState({showOverwriteModal:!1,overwriteFiles:[]})},onSubmit:this.handleOverwrite}),tt(F.a,{id:"1797909198",dynamic:[t.top,t.left]},[".file-tree-options-img-wrapper.__jsx-style-dynamic-selector:hover .file-tree-options-img.__jsx-style-dynamic-selector{color:var(--color-foreground-1);}",".file-tree-options-menu.__jsx-style-dynamic-selector{background:var(--color-background-1);color:var(--color-foreground-1);border:1px solid var(--color-control-2);}",".file-tree-options-item.__jsx-style-dynamic-selector:hover{background-color:var(--color-control-3);color:var(--color-foreground-1);}",".is-touch-device .file-tree-options-protip.__jsx-style-dynamic-selector{display:none;}",".file-tree-options-protip.__jsx-style-dynamic-selector{border-top:1px solid var(--color-foreground-3);}",".file-tree-options.menu.__jsx-style-dynamic-selector{top:".concat(t.top,"px;left:").concat(t.left,"px;}")]),tt(F.a,{id:"1088604454"},[".file-tree-options-img-wrapper.jsx-1088604454{position:relative;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--spacing-half);}",".file-tree-options-img.jsx-1088604454{height:var(--spacing-2);width:var(--spacing-2);color:var(--color-foreground-3);}",".file-tree-options-menu.jsx-1088604454{position:fixed;z-index:5;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:130px;border:1px solid var(--color-control-2);background-color:var(--color-background-1);color:var(--color-foreground-1);font-size:var(--font-size-desktop-text-small);border-radius:var(--border-radius-1);outline:0;list-style:none;box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);}",".file-tree-options-item.jsx-1088604454{color:var(--color-foreground-1);padding:var(--spacing-1);margin:var(--spacing-half);border-radius:var(--border-radius-1);cursor:pointer;line-height:initial;text-align:initial;}",".file-tree-options-protip.jsx-1088604454{font-size:13px;padding:10px 5px;text-align:center;}",".file-tree-options-protip.jsx-1088604454>span.jsx-1088604454{color:var(--color-positive-1);font-weight:var(--font-weight-bold);font-size:12px;}"]))}}]),t}(M.Component),rt=function(e){return new Re.a((function(t,n){var r=new window.FileReader;r.onload=function(n){t({name:e.name,result:W.a.from(n.target.result)})},r.onerror=n,r.readAsArrayBuffer(e)}))},at=n("nnlM"),it=M.createElement;function ot(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}var st,ct=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(L.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(a)))).state={showMenu:!1},n.handleFileUploaded=function(e){var t=e.path,r=e.content,a=n.props,i=a.wid,o=a.tree;n.props.trackWsEvent({wid:i,eventKey:"WS_UPLOADED_FILE"});var s=Object(x.i)(Object(x.d)(t)),c=!0,l=!1,u=void 0;try{for(var d,p=g()(s);!(c=(d=p.next()).done);c=!0){var f=d.value,b=o[f];b?b.isFolder||(n.props.deleteFile({wid:i,path:f}),n.props.createDirectory({wid:i,path:f})):n.props.createDirectory({wid:i,path:f})}}catch(h){l=!0,u=h}finally{try{c||null==p.return||p.return()}finally{if(l)throw u}}n.props.createFile({wid:i,path:t,content:r})},n.handleNewNode=function(e){var t=n.props,r=t.wid,a=t.pud,i=t.rootPath,o=t.activeNode;n.props.initiateNodeCreation({wid:r,pud:a,nodeType:e,targetNodePath:o||i})},n.setShowMenu=function(e){return n.setState({showMenu:e})},n.handleOnScroll=z()((function(){if(n._fileTreeNodesRef){var e=n.props,t=e.wid,r=e.pud;n.props.setTreeScrollTop({wid:t,pud:r,scrollTop:n._fileTreeNodesRef.scrollTop})}}),500),n}return Object(D.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.trackWsEvent({wid:this.props.wid,eventKey:"WS_TOGGLED_FILE_TREE"})}},{key:"componentDidUpdate",value:function(e){this._fileTreeNodesRef&&e.showDropTooltip!==this.props.showDropTooltip&&(this._fileTreeNodesRef.scrollTop=this.props.treeScrollTop)}},{key:"render",value:function(){var e=this,t=this.props.repl.isOwner&&q.a.supportsFiles(this.props.repl.language),n=t&&this.props.showDropTooltip,r={left:30,top:30};if(this._rootRef&&n){var a=this._rootRef.getBoundingClientRect();r={left:a.right+10,top:a.top+50}}return it("div",{style:this.props.style,ref:function(t){return e._rootRef=t},className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree"},it("div",{className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-header"},it("div",{className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-heading"},"Files"),t&&it("div",{className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-actions"},it("div",{className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-add-icons"},it("div",{onClick:this.handleNewNode.bind(this,"file"),"aria-label":"Add file","data-microtip-position":"bottom",role:"tooltip",className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-action-icon-wrapper"},it(at.FileAddIcon,null)),it("div",{className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-action-seperator"}),it("div",{onClick:this.handleNewNode.bind(this,"folder"),"aria-label":"Add folder","data-microtip-position":"bottom",role:"tooltip",className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-action-icon-wrapper"},it(at.FolderAddIcon,null))),it(nt,{onNewFile:function(t,n){return e.handleFileUploaded({path:t,content:n})},onDeleteFile:function(t){e.props.deleteFile({wid:e.props.wid,path:t})},downloadUrl:this.props.downloadUrl,setShowMenu:this.setShowMenu,allPaths:b()(this.props.tree)}))),it("div",{ref:function(t){return e._fileTreeNodesRef=t},onScroll:this.handleOnScroll,className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-nodes-wrapper"},it(et,{isRoot:!0,path:"",wid:this.props.wid,pud:this.props.pud})),n&&it("div",{className:"jsx-3994547434 "+F.a.dynamic([["3941231465",[r.left,r.top]]])+" file-tree-dropzone-tooltip"},"Drop files or folders here to upload them.",it(B.a,{size:10,direction:"left",borderWidth:1,color:"var(--color-background-1)",borderColor:"var(--color-foreground-3)",style:{position:"absolute",top:"15px",right:"100%"}})),it(F.a,{id:"3994547434"},[".file-tree.jsx-3994547434{background:var(--color-background-1);border-top-right-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);box-shadow:4px 0px 16px 0px rgba(0,0,0,0.08);}",".file-tree-header.jsx-3994547434{color:var(--color-foreground-1);}",".file-tree-nodes-wrapper.jsx-3994547434::-webkit-scrollbar{background-color:var(--color-background-1);width:14px;}",".file-tree-nodes-wrapper.jsx-3994547434::-webkit-scrollbar-track{background-color:var(--color-background-1);}",".file-tree-dropzone-tooltip.jsx-3994547434{background-color:var(--color-background-1);border-top:1px solid var(--color-foreground-3);color:var(--color-foreground-1);}",".is-touch-device .file-tree-dropzone-tooltip.jsx-3994547434{display:none;}"]),it(F.a,{id:"3941231465",dynamic:[r.left,r.top]},[".file-tree-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;position:relative;height:var(--spacing-6);padding:0 var(--spacing-1) 0 var(--spacing-2);}",".file-tree-heading.__jsx-style-dynamic-selector{text-align:center;font-size:var(--font-size-desktop-text-medium);font-weight:var(--font-weight-medium);color:var(--color-foreground-1);}",".file-tree-nodes-wrapper.__jsx-style-dynamic-selector{overflow:auto;height:calc(100% - var(--spacing-6));}",".file-tree-actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".file-tree-add-icons.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;}",".file-tree-action-icon-wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;color:var(--color-foreground-2);padding:0 var(--spacing-1);}",".file-tree-action-icon-wrapper.__jsx-style-dynamic-selector:hover{color:var(--color-foreground-1);}",".file-tree-action-icon.__jsx-style-dynamic-selector{width:27px;height:100%;}",".file-tree-action-seperator.__jsx-style-dynamic-selector{width:0;height:35%;border-right:1px solid var(--color-foreground-4);}",".file-tree-nodes-wrapper.__jsx-style-dynamic-selector::-webkit-scrollbar{width:5px;}",".file-tree-nodes-wrapper.__jsx-style-dynamic-selector::-webkit-scrollbar-thumb{background-color:rgba(119,119,119,0.5);}",".file-tree-dropzone-tooltip.__jsx-style-dynamic-selector{position:fixed;left:".concat(r.left,"px;top:").concat(r.top,"px;max-width:180px;z-index:2;padding:12px;-webkit-animation:point-__jsx-style-dynamic-selector 1s ease-in-out infinite;animation:point-__jsx-style-dynamic-selector 1s ease-in-out infinite;}"),"@-webkit-keyframes point-__jsx-style-dynamic-selector{0%{margin-left:0;}50%{margin-left:10px;}100%{margin-left:0;}}","@keyframes point-__jsx-style-dynamic-selector{0%{margin-left:0;}50%{margin-left:10px;}100%{margin-left:0;}}"]))}}]),t}(M.Component),lt=Object(H.c)((function(e,t){var n=e.workspace[t.wid].plugins[t.pud].state;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):c.a?o()(e,c()(n)):ot(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},n,{rootPath:"",downloadUrl:n.repl.url+".zip"})}),{initiateNodeCreation:w.j,createFile:w.g,deleteFile:w.i,trackWsEvent:v.fb,setTreeScrollTop:w.p,createDirectory:w.f})(ct),ut=n("h7rM");var dt=function(e,t,n){switch(n.type){case v.R:return function(e){return function(t){var n=document.body;if(n){st=new te.a;var r=0;st.listen(n,"dragenter",(function(n){if(1===++r){var a=n.dataTransfer;a&&Se()(a.types).includes("Files")&&(t({wid:e,type:v.z,paneType:"filetree"}),t({wid:e,type:w.e,show:!0}))}})),st.listen(n,"dragleave",(function(){0===--r&&t({wid:e,type:w.e,show:!1})})),st.listen(n,"drop",(function(){r=0,t({wid:e,type:w.e,show:!1})}))}}}(e);case v.S:return function(){st&&st.destroy(),st=null};case"CREATE_FILE":case"CREATE_CLIENT_DIRECTORY":return function(e){var t=e.wid,n=e.pud;return function(e,r){var a=Object(ut.a)(r(),t,n,"filetree").tree;b()(a).length<=2||e({wid:t,type:"ADD_SIDE_NAV_ITEM",index:0,navItem:{pud:n,pluginType:"filetree",tooltip:"Files",svg:"File"}})}}({wid:e,pud:t});case"DIRECTORY_UNLOAD":return function(e){var t=e.wid,n=e.pud,r=e.path;return function(e,a){Object(ut.a)(a(),t,n,"filetree").tree[r].isExpanded&&e({type:"LOAD_DIRECTORY",wid:t,path:r})}}({wid:e,pud:t,path:n.path});default:return null}};n.d(t,"reducer",(function(){return pt})),n.d(t,"Component",(function(){return lt})),n.d(t,"receiver",(function(){return dt}));var pt=Object(N.a)({primary:C,repl:T.b,dirs:S.a})},h2o0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return _}));var r,a,i=n("hfKm"),o=n.n(i),s=n("2Eek"),c=n.n(s),l=n("XoMD"),u=n.n(l),d=n("Jo+v"),p=n.n(d),f=n("4mXO"),b=n.n(f),h=n("pLtp"),g=n.n(h),m=n("doui"),v=n("vYYK"),x=n("NuhN"),w=n("tSgl"),y=n.n(w),k=n("XE6U");function E(e,t){var n=g()(e);if(b.a){var r=b()(e);t&&(r=r.filter((function(t){return p()(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):u.a?c()(e,u()(n)):E(Object(n)).forEach((function(t){o()(e,t,p()(n,t))}))}return e}!function(e){e.Unloaded="UNLOADED",e.Loading="LOADING",e.Clean="CLEAN",e.Dirty="DIRTY",e.Syncing="SYNCING",e.Err="ERR"}(a||(a={}));var O=(r={},Object(v.a)(r,a.Unloaded,{FILE_UNLOAD:a.Unloaded,FILE_LOADING:a.Loading}),Object(v.a)(r,a.Loading,{FILE_UNLOAD:a.Unloaded,FILE_LOADED:a.Clean,FILE_ERROR:a.Err}),Object(v.a)(r,a.Clean,{FILE_UNLOAD:a.Unloaded,FILE_DIRTY:a.Dirty}),Object(v.a)(r,a.Dirty,{FILE_UNLOAD:a.Unloaded,FILE_SYNCING:a.Syncing,FILE_DIRTY:a.Dirty}),Object(v.a)(r,a.Syncing,{FILE_UNLOAD:a.Unloaded,FILE_CLEAN:a.Clean,FILE_DIRTY:a.Dirty,FILE_ERROR:a.Err}),Object(v.a)(r,a.Err,{FILE_UNLOAD:a.Unloaded}),r);function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.path&&y()(t.path))return e;switch(t.type){case"FILE_UNLOAD":case"FILE_LOADING":case"FILE_LOADED":case"FILE_SYNCING":case"FILE_DIRTY":case"FILE_CLEAN":case"FILE_ERROR":if(Object(x.d)(e,t.path).length)return e;var n=e[t.path];if(!n)throw new k.a("unable to perform file state transition: unknown file").setExtras({currentState:n,action:t});if(!O[n])throw new k.a("unable to perform file state transition: file is in an unknown state").setExtras({currentState:n,action:t});var r=O[n][t.type];if(!r)throw new k.a("unable to perform file state transition: invalid state transition").setExtras({currentState:n,action:t});return r===n?e:j({},e,Object(v.a)({},t.path,r));case"DELETE_FILE":var i=Object(x.d)(e,t.path),o=j({},e);return i.length?i.forEach((function(e){delete o[e]})):delete o[t.path],o;case"MOVE_FILE":var s=Object(x.f)(e,t.path,t.to);if(!s.length)return e;var c=j({},e);return s.forEach((function(t){var n=Object(m.a)(t,2),r=n[0],a=n[1];delete c[r],c[a]=e[r]})),c;case"CREATE_FILE":if(e[t.path])throw new k.a("unable to perform file state transition: invalid state transition").setExtras({currentState:e[t.path],action:t});return j({},e,Object(v.a)({},t.path,t.file&&t.file.loaded?a.Clean:a.Unloaded));default:return e}}},iBZX:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return j}));var r,a=n("kOwS"),i=n("XXOK"),o=n.n(i),s=n("q1tI"),c=n("dwxc"),l=n.n(c),u=s.createElement;!function(e){e.TEXT="TEXT",e.MENTION="MENTION",e.LINK="LINK",e.REPL_LINK="REPL_LINK",e.DEEP_LINK="DEEP_LINK"}(r||(r={}));var d=function(e){var t=e.fragment,n=e.onClick;return u(l.a,{size:"small",onClick:n},t.content)},p=function(e){var t=e.fragment,n=e.onClick;return u(l.a,{fontWeight:"medium",onClick:n},t.content)},f=function(e){var t=e.fragment,n=e.onClick;return u("a",{href:t.url,onClick:n,rel:"noreferrer noopener nofollow",target:"_blank"},t.content)},b=function(e){var t=e.fragment,n=e.onClick;return u("a",{href:t.url,onClick:n,target:"_blank"},t.content)},h=function(e){var t=e.fragment,n=e.onClick;return u("a",{href:t.url,onClick:n},t.content)},g=/(@[0-9a-zA-Z_]+)/,m=/(#[-a-zA-Z0-9@:%._+~#=/]+)/,v=/(https?:\/\/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{2,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*))/,x=/\/@([0-9a-zA-Z_]+)\/(.+)/;function w(e){var t=e.url;return{type:r.LINK,url:t,content:t}}function y(e){var t=e.hash;return{type:r.DEEP_LINK,url:t,content:t}}function k(e,t){if(v.test(e)){var n=new window.URL(e);return["repl.it",document.location.host].includes(n.host)?n.pathname===t.replUrl?y({hash:n.hash}):x.test(n.pathname)?function(e){var t=e.url,n=x.exec(t.pathname);if(!n)throw new Error("Not a repl URL");return{type:r.REPL_LINK,url:t.href,content:"@".concat(n[1],"/").concat(n[2]).concat(t.hash)}}({url:n}):w({url:e}):w({url:e})}if(m.test(e))return y({hash:e});if(g.test(e)){var a=e.slice(1);if(!t.users||t.users.includes(a))return function(e){var t=e.username;return{type:r.MENTION,username:t,content:"@".concat(t)}}({username:a})}return{content:e,type:r.TEXT}}function E(e,t){var n=e.split(new RegExp([v.source,g.source,m.source].join("|"))),a=[],i=[],s=!0,c=!1,l=void 0;try{for(var u,d=o()(n);!(s=(u=d.next()).done);s=!0){var p=u.value;if(p){var f=k(p,t);if(f){if(f.type===r.MENTION){if(!f.username)continue;a.push(f.username)}i.push(f)}}}}catch(b){c=!0,l=b}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}return{tokens:i,mentions:a}}function j(e){var t=e.message,n=e.onMentionClick,i=void 0===n?function(){}:n;return u(s.Fragment,null,t.tokens.map((function(e,t){var n={fragment:e,key:t};return e.type===r.MENTION?u(p,Object(a.a)({},n,{onClick:function(){return i(e)}})):e.type===r.LINK?u(f,n):e.type===r.REPL_LINK?u(b,n):e.type===r.DEEP_LINK?u(h,n):u(d,n)})))}},jqW5:function(e,t,n){"use strict";function r(e){return"".concat(e," Online Compiler, IDE, Editor, Interpreter and REPL")}function a(e){return"Code, collaborate, compile, run, share, and deploy ".concat(e," online from your browser")}function i(e){return"".concat(e," Online Compiler and IDE - Fast, Powerful, Free")}function o(e){return"Repl.it is the world-leading online coding platform where you can collaborate, compile, run, share, and deploy ".concat(e," online. Code in 50+ programming languages and frameworks!")}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o}))},liZS:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return M})),n.d(t,"reducer",(function(){return U})),n.d(t,"receiver",(function(){return P}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("qNsG"),g=n("doui"),m=n("vYYK"),v=n("MX0m"),x=n.n(v),w=n("UO7Q"),y=n("q1tI"),k=n.n(y),E=n("1lQF"),j=n("tZOq"),O=n("Qbrf"),_=n("lixr"),C=n("vISQ"),N=n("3TIX"),T=n("/MKj"),S=n("FzLU"),I=n("h7rM"),R=n("VoYB"),L=k.a.createElement;function A(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=Object(E.a)(["REFRESH_WEBVIEW","EVAL_ENDED","FILE_CLEAN"]),P=D.receiver,F=D.useReceiver;function M(e){var t=e.wid,n=e.pud,r=Object(T.e)(),a=Object(I.b)(t,n,"webview"),i=Object(g.a)(a,1)[0],o=i.canBeClosed,s=i.renderIframe,c=i.autoReload,l=Object(h.a)(i,["canBeClosed","renderIframe","autoReload"]),u=Object(j.tc)({variables:{id:l.repl.id}}),d=u.data,p=u.loading,f=Object(j.uc)(),b=Object(g.a)(f,2),m=b[0],v=b[1],k=Object(R.a)().showError;Object(y.useEffect)((function(){v.error&&k(v.error)}),[v.error,k]),Object(y.useEffect)((function(){if(v.data){var e=v.data.updateRepl.repl.config;r({wid:t,type:"REPL_UPDATED",updates:{config:e}})}}),[v.data,r,t]);var E=Object(y.useRef)(null),O=Object(y.useRef)(null),_=function(){E.current&&(E.current.src+="")};if(F((function(e){switch(e.action.type){case"EVAL_ENDED":case"REFRESH_WEBVIEW":_();break;case"FILE_CLEAN":c&&_()}})),Object(y.useEffect)((function(){O.current&&r({wid:t,type:N.Q,webviewHandle:S.a.getHandle(O.current)})}),[r,t,d]),p)return null;if("Repl"===(null===d||void 0===d?void 0:d.repl.__typename)){var A=d.repl;return L("div",{className:"jsx-1748090368 webview"},L(C.a,{canEditDomain:A.currentUserPermissions.linkDomain,anon:A.devUrl.includes("--five-nine.repl.co"),url:A.config.domain?"https://".concat(A.config.domain):A.prodUrl,trackUrlSelect:function(){r(Object(N.fb)({wid:t,eventKey:"WEB_HOSTING_URL_SELECTED",properties:{url:A.devUrl},trackOnce:!0}))},replId:A.id,onRefresh:_,canBeClosed:o,closeCallback:function(){m({variables:{input:{id:A.id,isServer:!1}}}),r(function(e){var t=e.wid,n=e.pud;return function(e,r){var a=r().workspace[t].layout,i=w.j(a,n),o=i.path,s=i.to;e(Object(N.gb)({wid:t,path:o,to:s,property:null})),e(Object(N.eb)({wid:t})),e({type:"UNLOAD_PLUGIN",wid:t,pud:n})}}({wid:t,pud:n}))}}),L("div",{ref:O,className:"jsx-1748090368 webview-wrapper"},s?L("iframe",{sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals",ref:E,src:A.devUrl,className:"jsx-1748090368 webview-iframe"}):null),L(x.a,{id:"1748090368"},[".webview.jsx-1748090368{display:grid;grid-template-rows:auto 1fr;background-color:var(--color-background-1);height:100%;border-radius:var(--border-radius-1);}",".webview-wrapper.jsx-1748090368 iframe{width:100%;height:100%;border:none;display:block;background-color:var(--color-white);border-bottom-left-radius:var(--border-radius-1);border-bottom-right-radius:var(--border-radius-1);}"]))}return null}var U=Object(O.a)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{renderIframe:!1,canBeClosed:!1,autoReload:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.q:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):c.a?o()(e,c()(n)):A(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}({},e,{},t.initialState);default:return e}},repl:_.b})},mEHV:function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return u}));var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n("FzLU"),s=n("3TIX"),c=n("/MKj"),l=i.createElement;function u(e){var t=Object(c.e)(),n=i.useRef(null);return i.useEffect((function(){n.current&&t({type:s.Q,wid:e.wid,webviewHandle:o.a.getHandle(n.current)})}),[t,e.wid]),l("div",{className:"jsx-2644784323 replbox-display"},l(a.a,{id:"2644784323"},[".replbox-display.jsx-2644784323,.iframe-container.jsx-2644784323{height:100%;width:100%;border-radius:var(--border-radius-1);}",".iframe-container.jsx-2644784323 iframe{background:white;width:100%;height:100%;border:none;display:block;border-radius:var(--border-radius-1);}"]),l("div",{ref:n,className:"jsx-2644784323 iframe-container"}))}},mU7w:function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i),s=n("GRpk"),c=o.a.createElement;t.a=function(){return c("div",{className:"jsx-290145357 loader"},c("div",{className:"jsx-290145357 wrap"},c(s.a,{primaryColor:"var(--color-control-1)",secondaryColor:"var(--color-control-3)",uniquekey:"editorLoader"},c("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10",className:"jsx-290145357"}),c("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10",className:"jsx-290145357"}),c("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10",className:"jsx-290145357"}),c("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:"jsx-290145357"}),c("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:"jsx-290145357"}),c("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10",className:"jsx-290145357"}),c("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:"jsx-290145357"}),c("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:"jsx-290145357"}),c("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10",className:"jsx-290145357"}),c("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10",className:"jsx-290145357"}),c("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10",className:"jsx-290145357"}),c("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10",className:"jsx-290145357"}),c("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10",className:"jsx-290145357"}),c("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10",className:"jsx-290145357"}),c("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10",className:"jsx-290145357"}))),c(a.a,{id:"290145357"},[".loader.jsx-290145357{position:absolute;right:0;top:0;height:100%;width:100%;background-color:var(--color-background-1);overflow:hidden;padding:var(--spacing-2);border-bottom-right-radius:var(--border-radius-1);border-bottom-left-radius:var(--border-radius-1);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.08);}",".wrap.jsx-290145357{overflow:hidden;}",".wrap.jsx-290145357>svg{max-width:640px;min-width:500px;height:auto;}","@media screen and (min-width:900px){.loader.jsx-290145357{padding:30px;}}"]))}},qpVQ:function(e,t,n){"use strict";n("hfKm")(t,"__esModule",{value:!0});var r=n("Z5Wq");function a(e,t){return{get:e,getLength:function(){return e().length},insert:function(n,a,i){var o=r.strPosToUni(e(),n);return t([o,a],i)},remove:function(n,a,i){var o=r.strPosToUni(e(),n);return t([o,{d:a}],i)},_onOp:function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];switch(typeof r){case"number":t+=r,r;break;case"string":this.onInsert&&this.onInsert(t,r),t+=r.length;break;case"object":this.onRemove&&this.onRemove(t,r.d),r.d}}},onInsert:null,onRemove:null}}t.default=a,a.provides={text:!0}},sMSR:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return v}));var r=n("Cg2A"),a=n.n(r),i=n("eVuF"),o=n.n(i),s=n("ln6h"),c=n.n(s),l=n("tZOq"),u=n("nmgF"),d=n("zgDP");function p(e){var t,n,r;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(null!==u.a){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,c.a.awrap(u.a.query({query:l.g,variables:{username:e}}));case 4:return n=a.sent,r=n.data,a.abrupt("return",null===r||void 0===r?void 0:null===(t=r.user)||void 0===t?void 0:t.image);case 7:case"end":return a.stop()}}))}function f(){return"Notification"in window?"true"===window.localStorage.getItem(h)?"dismissed":window.Notification.permission:"denied"}function b(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.awrap(c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,window.Notification.requestPermission().then(),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",new o.a((function(e){window.Notification.requestPermission((function(t){e(t)}))})));case 7:return e.abrupt("return",window.Notification.requestPermission());case 8:case"end":return e.stop()}}),null,null,[[0,4]]));case 2:e=t.sent,g(!1),Object(d.track)("granted"===e?d.events.WEB_NOTIFICATION_PERM_GRANTED:d.events.WEB_NOTIFICATION_PERM_DENIED);case 5:case"end":return t.stop()}}))}var h="notifications/dismissedModal";function g(e){window.localStorage.setItem(h,String(e)),e&&Object(d.track)(d.events.WEB_NOTIFICATION_PERM_DISMISSED_MODAL)}var m={};function v(e){var t,n,r,i,o,s,l,u,d,b,h;return c.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(t=e.title,n=e.body,r=e.badge,i=e.icon,o=e.iconByUsername,s=e.tag,l=e.onClick,u=e.cacheDuration,d=void 0===u?0:u,document.hidden||!document.hasFocus()){g.next=3;break}return g.abrupt("return");case 3:if("granted"===f()){g.next=5;break}return g.abrupt("return");case 5:if(b=a()(),!(s in m)){g.next=9;break}if(!(m[s]+d>b)){g.next=9;break}return g.abrupt("return");case 9:if(!o){g.next=13;break}return g.next=12,c.a.awrap(p(o));case 12:i=g.sent;case 13:(h=new window.Notification(t,{body:n,badge:r||"/public/images/logo-grayscale.png",icon:i||"/public/images/icon-square.png",tag:s})).addEventListener("click",(function(){window.focus(),h.close()})),l&&h.addEventListener("click",l),m[s]=b;case 17:case"end":return g.stop()}}))}},uMB5:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("hfKm"),a=n.n(r),i=n("2Eek"),o=n.n(i),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),u=n.n(l),d=n("4mXO"),p=n.n(d),f=n("pLtp"),b=n.n(f),h=n("dfwq"),g=n("vYYK"),m=n("2wwy"),v=n.n(m),x=n("J8x5"),w=n.n(x);function y(e,t){var n=b()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):c.a?o()(e,c()(n)):y(Object(n)).forEach((function(t){a()(e,t,u()(n,t))}))}return e}var E=v()(w.a.multiplayer);function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_GOVAL_STARTED":return[];case"USERS_ROSTER":var n={};t.users.forEach((function(e){e.id&&e.name&&e.roles&&(n[e.id]?n[e.id].sessionCount++:n[e.id]={id:e.id,username:e.name,roles:e.roles,color:O(v()(n)),sessionCount:1})}));var r=v()(n);return r.length>1&&(window.multiplayerTaint=!0),r;case"USER_JOIN":window.multiplayerTaint=!0;var a=!1,i=e.map((function(e){return e.id===t.user.id?(a=!0,k({},e,{sessionCount:e.sessionCount+1})):e}));return a?i:t.user.id&&t.user.name&&t.user.roles?[].concat(Object(h.a)(i),[{id:t.user.id,username:t.user.name,roles:t.user.roles,color:O(e),sessionCount:1}]):e;case"USER_LEAVE":return e.reduce((function(e,n){return n.id!==t.user.id?[].concat(Object(h.a)(e),[n]):n.sessionCount<=1?e:[].concat(Object(h.a)(e),[k({},n,{sessionCount:n.sessionCount-1})])}),[]);default:return e}}function O(e){var t=E.reduce((function(e,t){return k({},e,Object(g.a)({},t,0))}),{});return e.forEach((function(e){t[e.color]=t[e.color]+1})),b()(t).sort((function(e,n){return t[e]-t[n]}))[0]}},vV95:function(e,t,n){"use strict";var r=n("pLtp"),a=n.n(r),i=n("ln6h"),o=n.n(i),s=n("doui"),c=n("MX0m"),l=n.n(c),u=n("q1tI"),d=n.n(u),p=d.a.createElement,f=function(e){var t=e.maxLength,n=void 0===t?140:t,r=e.value;return p("div",{className:"jsx-3275308797"},(void 0===r?"":r).length," / ",n," characters",p(l.a,{id:"3275308797"},["div.jsx-3275308797{color:var(--color-foreground-2);font-size:0.75em;text-align:right;margin-top:var(--spacing-1);}"]))},b=n("Mkq1"),h=n("tZOq"),g=n("8xwJ"),m=n("7FmB"),v=n.n(m),x=u.createElement,w=function(){return x("svg",{className:"fork-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 9.643 13.545"},x("defs",{className:"jsx-143024261"},x(l.a,{id:"143024261"},[".fork-icon-svg{height:100%;width:100%;}",".fork-icon-svg .cls-1{fill:currentColor;}"])),x("g",{id:"Layer_2","data-name":"Layer 2"},x("path",{className:"cls-1",d:"M5.716,2.381A1.737,1.737,0,0,0,6.622,3.9V5L4.81,6.809,3.035,5V3.873a1.744,1.744,0,1,0-1.7,0V5.482L3.893,7.954V9.727a1.743,1.743,0,1,0,1.94.021V7.915L8.305,5.443V3.9A1.741,1.741,0,1,0,5.716,2.381Zm-4.284.035a.751.751,0,1,1,.751.751A.751.751,0,0,1,1.432,2.416Zm4.165,8.8a.751.751,0,1,1-.751-.751A.751.751,0,0,1,5.6,11.218ZM8.211,2.437a.751.751,0,1,1-.751-.751A.751.751,0,0,1,8.211,2.437Z"})))},y=d.a.createElement,k=function(){return y("svg",{className:"delete-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 9.866 15.485"},y("defs",null,y("defs",{className:"jsx-1654440680"},y(l.a,{id:"1654440680"},[".delete-icon-svg{height:100%;width:100%;}",".delete-icon-svg .cls-1{fill:currentColor;}",".delete-icon-svg .cls-2{fill:none;stroke:currentColor;stroke-miterlimit:10;}"]))),y("rect",{className:"cls-1",x:"0.448",y:"3.05",width:"8.958",height:"1.384"}),y("rect",{className:"cls-1",x:"3.9",y:"0.704",width:"2.056",height:"0.996"}),y("rect",{className:"cls-2",x:"1.255",y:"6.053",width:"7.344",height:"8.179",rx:"0.853",ry:"0.853"}),y("path",{className:"cls-1",d:"M5.666,10.161q0-1.208,0-2.416c0-.165,0-.165.164-.166s.314,0,.471,0c.113,0,.162.029.161.153,0,.9,0,1.8,0,2.7,0,.723,0,1.445,0,2.168,0,.115-.03.165-.153.158a4.8,4.8,0,0,0-.5,0c-.112.006-.151-.029-.15-.145.005-.706,0-1.412,0-2.118q0-.167,0-.334Z"}),y("path",{className:"cls-1",d:"M3.316,10.154c0-.813,0-1.626,0-2.439,0-.106.038-.138.137-.135.173,0,.347.005.52,0,.108,0,.143.033.142.142,0,.706,0,1.412,0,2.117q0,1.374,0,2.749c0,.171,0,.172-.168.172H3.484c-.168,0-.17,0-.171-.175q0-1.213,0-2.427Z"}))},E=n("VoYB"),j=n("kfub"),O=n("+bZ2"),_=n("GHe4"),C=n("6wo1"),N=n("zgDP"),T=n("pQsv"),S=n("nOHt"),I=n.n(S),R=n("b518"),L=n("SBBf"),A=n.n(L),D=n("LtZI"),P=n.n(D),F=n("dwxc"),M=n.n(F),U=n("gF3W"),H=d.a.createElement,G=function(e){return H("div",{className:l.a.dynamic([["1636491936",[e.disabled?"none":"auto",e.disabled?.5:1,e.disabled?"not-allowed":"pointer"]]])+" always-on"},H(U.HStack,{spacing:1},H("div",{className:l.a.dynamic([["1636491936",[e.disabled?"none":"auto",e.disabled?.5:1,e.disabled?"not-allowed":"pointer"]]])+" icon"},H(A.a,null)),H(M.a,{foreground:e.alwaysOn?1:2,size:"small"},"Keep this repl awake")),H("div",{className:l.a.dynamic([["1636491936",[e.disabled?"none":"auto",e.disabled?.5:1,e.disabled?"not-allowed":"pointer"]]])+" toggle-box"},H(P.a,{isOn:e.alwaysOn,onChange:function(){e.onChange(!e.alwaysOn)}})),H(l.a,{id:"1636491936",dynamic:[e.disabled?"none":"auto",e.disabled?.5:1,e.disabled?"not-allowed":"pointer"]},[".always-on.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:20px;width:20px;}",".toggle-box.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;pointer-events:".concat(e.disabled?"none":"auto",";opacity:").concat(e.disabled?.5:1,";cursor:").concat(e.disabled?"not-allowed":"pointer",";}")]))},B=n("nGMS"),K=d.a.createElement,z=function(e){var t=Object(h.td)({variables:{id:e.id},update:Object(T.a)({id:e.id})}),n=Object(s.a)(t,2),r=n[0],a=n[1].data;return Object(u.useEffect)((function(){a&&a.deleteRepl&&(e.hideModal(),I.a.push("/home","/~"))}),[a,e]),K(O.a,{hideModal:e.hideModal},K(C.a,{delete:r,entityType:"Repl",hideModal:e.hideModal}))};t.a=function(e){var t=e.repl,n=e.refetch,r=Object(u.useState)(!1),i=r[0],c=r[1],p=Object(u.useState)(!1),m=p[0],x=p[1],y=Object(u.useState)(t.isRenamed?t.title:""),O=y[0],C=y[1],T=Object(u.useState)(t.description||""),S=T[0],I=T[1],L=Object(h.ud)(),A=Object(s.a)(L,1)[0],D=Object(E.a)().showError,P=function(n){var r,a,i;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.setLoading(!0),s.prev=1,s.next=4,o.a.awrap(A({variables:{input:{id:t.id,isPrivate:n}}}));case 4:i=s.sent,r=i.data,a=i.errors,s.next=14;break;case 9:return s.prev=9,s.t0=s.catch(1),D(Object(R.e)(s.t0.message)),e.setLoading(!1),s.abrupt("return");case 14:if(!a||!a.length){s.next=18;break}return D(Object(R.e)(a[0].message)),e.setLoading(!1),s.abrupt("return");case 18:if(r&&r.updateRepl&&r.updateRepl.repl){s.next=21;break}return e.setLoading(!1),s.abrupt("return");case 21:e.onUpdate({isPrivate:r.updateRepl.repl.isPrivate}),e.setLoading(!1);case 23:case"end":return s.stop()}}),null,null,[[1,9]])},F=d.a.useMemo((function(){return!(!O||O===t.title)||!(""===S&&!t.description)&&S!==t.description}),[t,O,S]),M=d.a.useCallback((function(){var n,r,i,s,c,l;return o.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(S!==t.description||t.title!==O){u.next=2;break}return u.abrupt("return");case 2:return n={id:t.id,title:O||t.title,description:S},e.setLoading(!0),u.prev=4,u.next=7,o.a.awrap(A({variables:{input:n}}));case 7:s=u.sent,r=s.data,i=s.errors,u.next=17;break;case 12:return u.prev=12,u.t0=u.catch(4),D(Object(R.e)(u.t0.message)),e.setLoading(!1),u.abrupt("return");case 17:if(!i||!i.length){u.next=21;break}return D(Object(R.e)(i[0].message)),e.setLoading(!1),u.abrupt("return");case 21:if(r&&r.updateRepl&&r.updateRepl.repl){u.next=24;break}return e.setLoading(!1),u.abrupt("return");case 24:c=r.updateRepl.repl,l={},t.description!==c.description&&(l.description=c.description),t.title!==c.title&&(l.title=c.title),t.url!==c.url&&(l.url=c.url),t.isRenamed!==c.isRenamed&&(l.isRenamed=!!c.isRenamed),a()(l).length>0&&e.onUpdate(l),e.setLoading(!1),e.onClose();case 33:case"end":return u.stop()}}),null,null,[[4,12]])}),[A,t,O,S,e.setLoading]),U=Object(j.a)((function(){i||m||(F||e.onClose(),F&&M())}),[F,M,i,m]),H=d.a.useCallback((function(e){e.preventDefault(),M()}),[M]),V=d.a.useCallback((function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)&&M()}),[M]),X=e.repl.isRenamed?"name your repl":"default name: ".concat(e.repl.title);return K("div",{onClick:e.onClick,ref:U,className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" edit-repl"},m?K(z,{id:t.id,hideModal:function(){return c(!1)}}):null,K(_.a,{isOpen:i,onSubscribe:function(){P(!e.repl.isPrivate),n()},closeModal:function(){return c(!1)},trackingInfo:{context:"workspace-header"}}),K("form",{onSubmit:H,className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])},K("div",{style:{marginBottom:"10px"},className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])},K("input",{style:{minHeight:"42px",paddingLeft:"12px",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--border-radius-1)",borderColor:"var(--color-control-1)",color:"var(--color-foreground-1)",background:"transparent",outline:"0px",fontSize:"15px",width:"100%",cursor:t.currentUserPermissions.changeTitle?"auto":"not-allowed"},disabled:!t.currentUserPermissions.changeTitle,maxLength:60,placeholder:X,value:O,onChange:function(e){return C(e.target.value)},className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])}),K(f,{maxLength:60,value:O})),K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])},K("textarea",{style:{minHeight:"42px",padding:"12px",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--border-radius-1)",borderColor:"var(--color-control-1)",color:"var(--color-foreground-1)",background:"transparent",fontFamily:"var(--font-family-sans-serif)",outline:"0px",fontSize:"15px",height:"100px",width:"100%",resize:"none",cursor:t.currentUserPermissions.changeDescription?"auto":"not-allowed"},onKeyDown:V,disabled:!t.currentUserPermissions.changeDescription,maxLength:140,value:S,onChange:function(e){return I(e.target.value)},placeholder:"Add a brief description for repl",className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])}),K(f,{maxLength:140,value:S}))),K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" edit-repl-actions"},e.isMobile||e.formOnly?null:K(v.a,{onClick:function(){Object(N.track)(N.events.REPLS_REPL_SELF_FORKED,{replId:t.id}),e.forkRepl()},size:"small"},K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" fork-button-content"},K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" edit-repl-fork-icon"},K(w,null)),K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" spacer"}),K("span",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])},"Fork"))),t.currentUserPermissions.delete&&!e.formOnly?K(v.a,{color:"negative",className:"edit-repl-delete",size:"small",onClick:t.currentUserPermissions.delete?function(){x(!0)}:void 0},K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" edit-repl-delete-content"},K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" edit-repl-delete-icon"},K(k,null)),K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" spacer"}),"Delete repl")):null),!e.formOnly&&t.currentUserPermissions.changePrivacy!==h.t.Disallowed&&K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" edit-repl-privacy"},t.currentUserPermissions.changePrivacy===h.t.SubscriptionRequired?K(b.a,{onUpgrade:function(){c(!0)}}):K(g.a,{isPrivate:e.repl.isPrivate,onChange:P})),t.currentUserPermissions.setAlwaysOnline&&!e.formOnly?K("div",{className:"jsx-567087911 "+l.a.dynamic([["574052096",[B.BREAKPOINTS.mobileMax]]])+" set-always-online"},K(G,{alwaysOn:!!t.config.alwaysOn,onChange:function(){!function(n){var r,a,i;o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.setLoading(!0),s.prev=1,s.next=4,o.a.awrap(A({variables:{input:{id:t.id,alwaysOn:n}}}));case 4:i=s.sent,r=i.data,a=i.errors,s.next=14;break;case 9:return s.prev=9,s.t0=s.catch(1),D(Object(R.e)(s.t0.message)),e.setLoading(!1),s.abrupt("return");case 14:if(!a||!a.length){s.next=18;break}return D(Object(R.e)(a[0].message)),e.setLoading(!1),s.abrupt("return");case 18:if(r&&r.updateRepl&&r.updateRepl.repl&&void 0!==r.updateRepl.repl.config.alwaysOn&&null!==r.updateRepl.repl.config.alwaysOn){s.next=21;break}return e.setLoading(!1),s.abrupt("return");case 21:e.onUpdate({config:{alwaysOn:r.updateRepl.repl.config.alwaysOn}}),e.setLoading(!1);case 23:case"end":return s.stop()}}),null,null,[[1,9]])}(!t.config.alwaysOn)}})):null,K(l.a,{id:"567087911"},[".edit-repl.jsx-567087911{background:var(--color-background-1);border:1px solid var(--color-control-3);color:var(--color-foreground-1);border-radius:var(--border-radius-1);box-shadow:0px 4px 16px 0px rgba(0,0,0,0.25);}",".edit-repl-privacy.jsx-567087911{background:var(--color-background-1);color:var(--color-foreground-2);}",".upgrade-link.jsx-567087911:hover{color:var(--color-primary-1);}"]),K(l.a,{id:"574052096",dynamic:[B.BREAKPOINTS.mobileMax]},[".edit-repl.__jsx-style-dynamic-selector{z-index:10000;position:absolute;left:0;top:calc(100% + var(--spacing-1));max-width:460px;width:64vw;}","form.__jsx-style-dynamic-selector{padding:var(--spacing-2) var(--spacing-2) 0;}",".edit-repl-actions.__jsx-style-dynamic-selector{padding:0 var(--spacing-2) var(--spacing-2);}","form.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector:first-child{margin-bottom:var(--spacing-1);}",".edit-repl-privacy.__jsx-style-dynamic-selector,.set-always-online.__jsx-style-dynamic-selector{padding:var(--spacing-2);}",".upgrade-link.__jsx-style-dynamic-selector{cursor:pointer;color:rgb(65,131,196);border-bottom:none;}",".edit-repl-actions.__jsx-style-dynamic-selector{margin-top:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".edit-repl-fork-icon.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:var(--spacing-2);width:var(--spacing-2);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);}",".fork-button-content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".spacer.__jsx-style-dynamic-selector{width:var(--spacing-half);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;}",".edit-repl-delete.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".edit-repl-delete-content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".edit-repl-delete-icon.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:var(--spacing-2);width:var(--spacing-2);}","@media screen and (max-width:".concat(B.BREAKPOINTS.mobileMax,"px){.edit-repl.__jsx-style-dynamic-selector{width:80vw;}}")]))}},yEu1:function(e,t,n){"use strict";var r=n("MX0m"),a=n.n(r),i=n("q1tI"),o=n.n(i).a.createElement;t.a=function(e){var t=e.onClick;return o("div",{className:"jsx-671523266 file-header-format-button"},o("div",{onClick:t,className:"jsx-671523266 file-header-format-icon"},o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.581 16.428",className:"jsx-671523266"},o("path",{d:"M13.26.747H3.323A2.569,2.569,0,0,0,.754,3.316h0v9.795a2.569,2.569,0,0,0,2.568,2.57h9.937a2.569,2.569,0,0,0,2.569-2.569h0V3.316A2.569,2.569,0,0,0,13.26.747Z",className:"jsx-671523266 cls-1"}),o("path",{d:"M13.118,11.269a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.759-.759V11.23a.671.671,0,0,1,.689-.653l.07.006h8.438a.671.671,0,0,1,.753.578.7.7,0,0,1,.006.069ZM3.161,5.111V5.073a.759.759,0,0,1,.759-.759h8.439a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.76-.758ZM3.148,8.2a.759.759,0,0,1,.758-.76H8.4a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.907a.759.759,0,0,1-.759-.759Z",className:"jsx-671523266 cls-2"}))),o(a.a,{id:"1673991108"},[".file-header-format-button.jsx-671523266 .cls-1{fill:var(--color-foreground-1);}",".file-header-format-button.jsx-671523266 .cls-2{fill:var(--color-background-1);}"]),o(a.a,{id:"1892131279"},[".file-header-format-button.jsx-671523266{padding:0 10px;height:100%;width:".concat(36,"px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;opacity:0.7;}"),".file-header-format-button.jsx-671523266:hover{opacity:1;}",".file-header-format-icon.jsx-671523266{height:16px;width:16px;cursor:pointer;}"]))}}}]);
//# sourceMappingURL=526dcbb889e01074ec75e03a874863da293cf83a.599bffe82440ce8227e1.js.map